(this["webpackJsonptu-bon"]=this["webpackJsonptu-bon"]||[]).push([[22],{1028:function(e,t,n){"use strict";n.r(t);var a=n(13),c=n(20),o=n(8),i=n(40),r=n(0),l=n.n(r),u=n(56),d=n(59),s=n(6),b=n(716),f=n(61),O=n(719),j=n(374),g=n(217),v=n(34),p={phanTram:{id:"phanTram",name:"%",width:50,className:"text-small font-weight-bold text-danger",align:"right"},getTableColumns:function(){return[s.constants.stt,Object(o.a)(Object(o.a)({},j.a.tenCongTy),{},{width:150,fixed:!0}),Object(o.a)(Object(o.a)({},g.a.tongTienDonHang),{},{width:110,fixed:!0,sorter:Object(s.sortByNumber)("tongTienDonHang")}),Object(o.a)(Object(o.a)({},this.phanTram),{},{fixed:!0})]},getInputFields:function(){return[]},getExcelFields:function(){return[s.constants.stt,j.a.tenCongTy,g.a.tongTienDonHang].concat(Object(c.a)(Object(v.c)()))}},m=n(717),h=n(426),x=n(65),y=n(25);var T=function(e){var t,n=e.dateTimePicker,a=Object(u.b)();return Object(y.b)(y.a,{children:Object(y.b)(b.a,{header:Object(y.b)("div",{className:"font-weight-bold",children:Object(y.b)("span",{children:"Th\xf4ng Tin Trang "})}),body:Object(y.b)("div",{className:"form-input-aside",style:{padding:"5px"},children:Object(y.b)("div",{children:(null===n||void 0===n||null===(t=n.getMonthRender)||void 0===t?void 0:t.call(n))||null})}),footer:Object(y.b)("div",{children:Object(y.b)(d.a,{icon:Object(y.b)(x.a,{}),onClick:function(){a(Object(s.toggleAside)({tagPageId:f.c.congNoKhachHangTuBonModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})})})},S=n(244),w=n(722),N=f.c.congNoKhachHangTuBonModal;var C=function(e){var t=e.pageData,n=Object(u.c)((function(e){return e.hideColumns})),i=null===n||void 0===n?void 0:n[N||""],r=l.a.useMemo((function(){var e=[s.constants.stt,j.a.tenCongTy],t=[g.a.tongTienDonHang];return[{id:0,colSpan:2+e.reduce((function(e,t){var n=t.id;return e+((null===i||void 0===i?void 0:i[n])?0:1)}),0),cellClassName:"text-center font-weight-bold text-danger"},{id:1,colSpan:1+t.reduce((function(e,t){var n=t.id;return e+((null===i||void 0===i?void 0:i[n])?0:1)}),0),cellClassName:"text-right font-weight-bold text-small text-danger",render:function(e){return Object(s.formatNumber)(e)}}].concat(Object(c.a)(Object(v.d)(2)))}),[i]),d=l.a.useMemo((function(){return t.reduce((function(e,t){var n=e.tongTienDonHang+(t.tongTienDonHang||0),c=v.b.reduce((function(n,c){var i=((null===e||void 0===e?void 0:e[c])||0)+((null===t||void 0===t?void 0:t[c])||0);return Object(o.a)(Object(o.a)({},n),{},Object(a.a)({},c,i))}),{});return Object(o.a)(Object(o.a)(Object(o.a)({},e),c),{},{tongTienDonHang:n})}),{tong:"T\u1ed5ng ti\u1ec1n",tongTienDonHang:0})}),[t]),b=l.a.useMemo((function(){return["tong","tongTienDonHang"].concat(Object(c.a)(v.b.map((function(e){return"".concat(e)})))).map((function(e,t){return Object(a.a)({},t,d[e])}))}),[d]);return Object(y.b)(w.a,{columns:r,dataSource:b})},k=f.c.congNoKhachHangTuBonModal;t.default=function(){var e=Object(u.b)(),t=Object(s.useDatePicker)(),n=Object(i.a)(t,2),r=n[0],f=n[1],j=Object(u.c)((function(e){return e.congNoKhachHangTuBon})),g=j.tabsData,x=j.pageSize,w=j.congNoKhachHangTuBons,N=Object(u.c)((function(e){var t;return null===(t=e.tagsPage)||void 0===t?void 0:t[k]})),D=Object(u.c)((function(e){return e.danhSachDHX})).danhSachDHXDaGiaos,H=Object(u.c)((function(e){return e.congTy})).congTys;l.a.useEffect((function(){Object.values(H).length>0&&e(Object(S.g)(r))}),[r,H]),l.a.useEffect((function(){e(Object(h.b)())}),[D]);var M=l.a.useMemo((function(){var e=p.getTableColumns();return Object(o.a)(Object(o.a)({},p),{},{getTableColumns:function(){return[].concat(Object(c.a)(e),Object(c.a)(Object(v.c)()))}})}),[p]),I=l.a.useMemo((function(){var e=Object.values(w).reduce((function(e,t){return e+((null===t||void 0===t?void 0:t.tongTienDonHang)||0)}),0);return Object.values(w).reduce((function(t,n){var c=Math.round(((null===n||void 0===n?void 0:n.tongTienDonHang)||0)/e*1e4)/100;return Object(o.a)(Object(o.a)({},t),{},Object(a.a)({},n.id,Object(o.a)(Object(o.a)({},n),{},{phanTram:c})))}),{})}),[w]);return Object(y.c)("div",{className:"congNoKhachHangTuBon-page",css:O.a,children:[Object(y.b)(b.b,{className:"tabs",options:g,activeKey:N?"aside":"",onTabClick:function(t){"aside"===t?e(Object(s.toggleAside)({tagPageId:k})):"taiExcel"===t&&e(Object(s.downloadExcel)({tableId:k,constants:p,fileSheet:"congNoKhachHangTuBonSheet",fileName:"congNoKhachHangTuBonName"}))}}),Object(y.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[N&&Object(y.b)(T,{dateTimePicker:f}),Object(y.b)("div",{className:"aside-main",children:Object(y.b)(m.a,{constants:M,datas:I,modalId:k,expandable:{expandedRowRender:function(e){return Object(y.c)("div",{children:[e.id,Object(y.b)(d.a,{onClick:function(){return console.log(e)},children:"Log Console"})]})},expandRowByClick:!1},isSelection:!0,pagination:!0,pageSize:x,onChange:function(t){e(Object(h.c)(t.pageSize))},summary:function(e){return Object(y.b)(C,{pageData:e})}})})]})]})}},716:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return R}));var a=n(8),c=n(720),o=n(0),i=n(444),r=n(485),l=n(25),u=["options","header","body","footer"];var d=function(e){var t=e.options,n=e.header,o=e.body,d=e.footer,s=Object(c.a)(e,u);return Object(l.c)("div",{css:b,children:[n&&Object(l.c)("div",{className:"header",children:[n,Object(l.b)(i.a,{})]}),o&&Object(l.b)("div",{style:{overflow:"scroll"},children:o}),Object(l.b)(r.a,Object(a.a)(Object(a.a)({},s),{},{treeData:t,blockNode:!0})),d&&Object(l.c)("div",{className:"footer",children:[Object(l.b)(i.a,{}),d]})]})},s=d,b={name:"1dz1mat",styles:"padding:0px;background-color:#ffffff;margin-right:8px;width:300px;height:100%;display:flex;flex-direction:column;.header,.footer{display:flex;flex-direction:column;align-items:center;}.ant-divider-horizontal{margin:5px 0;}.ant-tree{margin-top:12px;flex:1;.ant-tree-node-content-wrapper{line-height:28px;}}"},f=n(5),O=n.n(f),j=n(13),g=n(9),v=n(40),p=n(6),m=n(739),h=n(162),x=["options"];var y=function(e){var t=e.options,n=Object(c.a)(e,x);return Object(l.b)("div",{css:T,children:Object(l.b)(h.a.Group,Object(a.a)(Object(a.a)({buttonStyle:"solid"},n),{},{children:null===t||void 0===t?void 0:t.map((function(e){return Object(l.b)(h.a.Button,{style:{width:"calc(100% / ".concat(t.length,")")},value:e.value,children:e.label},e.value)}))}))})},T={name:"gsfen1",styles:"padding:8px;background-color:#ffffff;.ant-radio-group{width:100%;display:flex;}.ant-radio-button-wrapper{height:80px;display:flex;flex-direction:column;justify-content:center;align-items:center;}.ant-radio-button{}"},S=n(59),w=n(334),N=["children","onSearch"];var C=Object.assign((function(e){var t=e.children,n=e.onSearch,o=Object(c.a)(e,N),i=Object(w.useForm)(),r=Object(v.a)(i,1)[0],u=function(){var e=Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.validateFields();case 2:(t=e.sent)&&n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.b)("div",{css:D,children:Object(l.c)(p.MyForm,Object(a.a)(Object(a.a)({},o),{},{form:r,layout:"inline",children:[t,Object(l.c)(p.MyForm.Item,{children:[Object(l.b)(S.a,{type:"primary",onClick:u,children:"T\xecm Ki\u1ebfm"}),Object(l.b)(S.a,{onClick:function(){return r.resetFields()},children:"X\xf3a"})]})]}))})}),{Item:p.MyForm.Item}),k=C,D={name:"1k13qf8",styles:"padding:10px;background-color:#ffffff;.ant-form-item{margin-bottom:10px;}"},H=n(226),M=n(718),I=["options","children"];var K=H.a.TabPane,R=Object.assign((function(e){var t=e.options,n=e.children,o=Object(c.a)(e,I);return Object(l.b)(H.a,Object(a.a)(Object(a.a)({},o),{},{css:E,children:t?t.map((function(e){var t=e.label,n=e.value,c=e.Icon;return Object(M.a)(K,Object(a.a)(Object(a.a)({},e),{},{tab:Object(l.c)("span",{children:[c&&Object(l.b)(c,{})," ",t]}),key:n}))})):n}))}),H.a),B=R,E={name:"eb6il2",styles:"background-color:#fff;padding:0 20px;box-shadow:0 10px 10px -10px rgb(0 0 0 / 10%);height:40px;.ant-tabs-nav{margin:0;}.ant-tabs-tab{padding:9px 0;&+.ant-tabs-tab{margin:0 0 0 22px;}}"},z=n(719),A=function(e,t){var n=e.pageApi,c=e.pageParams,i=e.searchRender,r=e.tableOptions,u=e.tableRender,d=e.asideKey,b=e.asideData,f=e.asideValue,h=e.asideTreeItemRender,x=e.radioCardsData,T=e.radioCardsValue,S=e.tabsData,w=e.tabsValue,N=Object(m.a)({pageSize:20,pageNum:1,total:0,data:[]}),C=Object(v.a)(N,2),D=C[0],H=C[1],M=Object(o.useState)(f),I=Object(v.a)(M,2),K=I[0],R=I[1];Object(o.useEffect)((function(){b&&R(b[0].key)}),[b]);var E=Object(o.useCallback)(Object(g.a)(O.a.mark((function e(){var t,o,i,r=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{},!d||K){e.next=3;break}return e.abrupt("return");case 3:if(!n){e.next=9;break}return o=Object(a.a)(Object(a.a)(Object(a.a)({},t),c),{},Object(j.a)({pageSize:D.pageSize,pageNum:D.pageNum},d,K)),e.next=7,n(o);case 7:(i=e.sent).status&&H({total:i.result.total,data:i.result.data});case 9:case"end":return e.stop()}}),e)}))),[n,c,D.pageSize,D.pageNum,d,K]);Object(o.useEffect)((function(){E()}),[E]);return Object(o.useImperativeHandle)(t,(function(){return{setAsideCheckedKey:R,load:function(e){return E(e)}}})),Object(l.c)("div",{css:z.a,children:[S&&Object(l.b)(B,{className:"tabs",options:S,defaultValue:S[0].value||w}),Object(l.c)("div",{className:"tabs-main",children:[b&&Object(l.b)(s,{options:b,selectedKeys:K?[K]:void 0,titleRender:h,onSelect:function(e){var t=Object(v.a)(e,1)[0];R(t)}}),Object(l.c)("div",{className:"aside-main",children:[i&&Object(l.b)(k,{className:"search",onSearch:function(e){E(e)},children:i}),x&&Object(l.b)(y,{options:x,defaultValue:T||x[0].value}),r&&Object(l.b)("div",{className:"table",children:Object(l.b)(p.MyTable,{height:"100%",dataSource:D.data,columns:r,pagination:{current:D.pageNum,pageSize:D.pageSize,total:D.total,onChange:function(e,t){H({pageNum:e}),t&&H({pageSize:t})}},children:null===u||void 0===u?void 0:u(D.data)})})]})]})]})},P=Object(o.forwardRef)(A);P.MySearch=k,P.MyTable=p.MyTable,P.MyAside=s},717:function(e,t,n){"use strict";var a=n(40),c=n(8),o=n(720),i=n(0),r=n.n(i),l=n(56),u=n(6),d=n(34),s=n(25),b=["modalId","constants","actions","datas","loading","isSelection","form","rowSelection","summary","isEdit","onBlur","inputOptions"];t.a=function(e){var t=e.modalId,n=e.constants,i=e.actions,f=e.datas,O=e.loading,j=e.isSelection,g=e.form,v=e.rowSelection,p=e.summary,m=e.isEdit,h=e.onBlur,x=e.inputOptions,y=Object(o.a)(e,b),T=Object(l.b)(),S=Object(l.c)((function(e){return e.table})).selectedRowKeys,w=Object(l.c)((function(e){return e.hideColumns})),N=null===w||void 0===w?void 0:w[t||""],C=r.a.useMemo((function(){var e={};return j?e.rowSelection=Object(c.a)({selectedRowKeys:S[t||""]||[],onChange:function(e,n){T(Object(u.onChangeSelectedRowKeys)({tableId:t,selectedRowKeys:e,selectedRows:n}))}},v):delete e.rowSelection,e}),[j,S]);function k(e,t,n){if(!m)return Object(d.l)();var a=n||"active",o=Object(c.a)(Object(c.a)({},e),{},{active:t,name:a});T(null===i||void 0===i?void 0:i.onActiveAsync(o))}function D(e){if(!m)return Object(d.l)();(null===i||void 0===i?void 0:i.onDeleteAsync)&&T(i.onDeleteAsync(e))}var H=Object(u.useSearchText)(),M=Object(a.a)(H,3),I=M[0],K=M[1],R=M[2],B=r.a.useMemo((function(){var e=Object(u.getTableColumns)(n,{onActiveItem:k,onDeleteItem:D,searchText:I,searchInput:R,setSearchText:K,modalId:t,isEdit:m,constants:n,form:g,onBlur:h,inputOptions:x});return N&&(e=e.filter((function(e){return!(null===N||void 0===N?void 0:N[e.id])}))),e}),[I,N,n,x]),E=r.a.useMemo((function(){var t=Object.values(f||{});return(null===e||void 0===e?void 0:e.onCallbackDataSource)&&(t=e.onCallbackDataSource(t)),t}),[f]);return Object(s.b)("div",{className:"table",children:Object(s.b)(u.MyTable,Object(c.a)(Object(c.a)(Object(c.a)({},C),y),{},{rowKey:"id",height:"100%",loading:O,columns:B,dataSource:E,summary:p||null}))})}},718:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),c=(n(333),n(158)),o=(n(78),n(215),n(123),n(240),n(332),n(362),function(e,t){var n=arguments;if(null==t||!c.d.call(t,"css"))return a.createElement.apply(void 0,n);var o=n.length,i=new Array(o);i[0]=c.a,i[1]=Object(c.c)(e,t);for(var r=2;r<o;r++)i[r]=n[r];return a.createElement.apply(null,i)})},719:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={name:"nlddxj",styles:"display:flex;flex-direction:column;.tabs-main{flex:1;display:flex;overflow:hidden;}.search{margin-bottom:10px;}.aside-main{display:flex;flex:1;overflow:hidden;flex-direction:column;}.table{flex:1;overflow:hidden;.ant-table-wrapper,.ant-spin-nested-loading,.ant-spin-container,.ant-table-container{height:100%;}.ant-spin-container{overflow:hidden;display:flex;flex-direction:column;.ant-table{flex:1;overflow:hidden;border-bottom:1px solid #eee;.ant-table-container{display:flex;flex-direction:column;.ant-table-body{flex:1;}}}.ant-pagination{margin:7px 0 5px 0;padding:0 10px;}}}"}},720:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}n.d(t,"a",(function(){return a}))},722:function(e,t,n){"use strict";n(0);var a=n(477),c=n(25),o=a.a.Summary,i=o.Row,r=o.Cell;t.a=function(e){var t,n=e.columns,a=e.dataSource;return Object(c.b)(i,{children:null===n||void 0===n||null===(t=n.map)||void 0===t?void 0:t.call(n,(function(e,t){var n=null===e||void 0===e?void 0:e.id,o=(null===e||void 0===e?void 0:e.colSpan)||0,i=(null===e||void 0===e?void 0:e.cellClassName)||"",l=(null===e||void 0===e?void 0:e.valueStyle)||{},u=(null===e||void 0===e?void 0:e.valueClassName)||"",d=null===e||void 0===e?void 0:e.render,s=(null===a||void 0===a?void 0:a[t])||{},b=(null===s||void 0===s?void 0:s[n])||"";return d&&(b=d(b,s,t)),Object(c.b)(r,{index:t,colSpan:o,className:i,children:Object(c.b)("div",{style:l,className:u,children:b})},n)}))})}},739:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(40),c=n(0);function o(e){var t=Object(c.useState)(e),n=Object(a.a)(t,2),o=n[0],i=n[1];return[o,function(e){return i((function(t){return Object.assign({},t,e)}))}]}}}]);
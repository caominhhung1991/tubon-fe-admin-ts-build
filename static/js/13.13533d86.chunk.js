(this["webpackJsonptu-bon"]=this["webpackJsonptu-bon"]||[]).push([[13],{1079:function(e,t,n){"use strict";n.r(t);var a=n(12),i=n(7),o=n(39),c=n(0),u=n.n(c),r=n(56),l=n(6),d=n(744),s=n(61),b=n(745),h=n(103),O=n(363),m=n(87),j=n(352),f=n(116),v={getTableColumns:function(){return[Object(i.a)(Object(i.a)({},l.constants.stt),{},{fixed:!1}),j.a.tenNguyenVatLieuChaLua,Object(i.a)(Object(i.a)({},f.a.tenMatHang),{},{fixed:!1}),Object(i.a)(Object(i.a)({},h.a.tenNhomMatHang),{},{width:140}),O.a.soLuong,m.a.tenDonViTinh,O.a.donGia,O.a.thanhTien]},getInputFields:function(){return[]},getExcelFields:function(){return this.getTableColumns()}},g=n(743),p=n(223),C=n(742),L=n(145),y=n(59),M=n(384),T=n(522),w=n(65),N=n(820),x=n(30),I=n(821),P=n(23);var K=function(e){var t,n,a=e.dateTimePicker,i=Object(r.b)(),o=Object(r.c)((function(e){return e.account})).accountData,c=null===o||void 0===o||null===(t=o.paths)||void 0===t||null===(n=t.khoChaLua)||void 0===n?void 0:n.edit;return Object(P.c)(P.a,{children:[Object(P.b)(d.a,{header:Object(P.b)("div",{className:"font-weight-bold",children:Object(P.b)("span",{children:"Th\xf4ng Tin Trang "})}),body:Object(P.c)("div",{className:"form-input-aside",style:{padding:"5px"},children:[Object(P.b)("div",{children:(null===a||void 0===a?void 0:a.getMonthRender())||null}),Object(P.b)("div",{className:"mt-1",children:Object(P.b)(y.a,{icon:Object(P.b)(M.a,{}),onClick:function(){if(!c)return Object(x.n)();i(Object(l.openModal)({modalId:s.c.phieuKhoNhapChaLuaModal}))},block:!0,children:"Th\xeam phi\u1ebfu nh\u1eadp kho"})}),Object(P.b)("div",{className:"mt-1",children:Object(P.b)(y.a,{icon:Object(P.b)(T.a,{}),onClick:function(){if(!c)return Object(x.n)();i(Object(l.openModal)({modalId:s.c.phieuKhoXuatChaLuaModal}))},block:!0,children:"Th\xeam phi\u1ebfu xu\u1ea5t kho"})})]}),footer:Object(P.b)("div",{children:Object(P.b)(y.a,{icon:Object(P.b)(w.a,{}),onClick:function(){i(Object(l.toggleAside)({tagPageId:s.c.khoChaLuaModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})}),Object(P.b)(N.a,{}),Object(P.b)(I.a,{})]})},F=n(14),S=n(391),k=n(749),V=s.c.khoChaLuaModal;var H=function(e){var t=e.pageData,n=Object(r.c)((function(e){return e.hideColumns})),o=null===n||void 0===n?void 0:n[V||""],c=u.a.useMemo((function(){var e=[l.constants.stt,j.a.tenNguyenVatLieuChaLua,f.a.tenMatHang,h.a.tenNhomMatHang,O.a.soLuong,m.a.tenDonViTinh,O.a.donGia],t=[O.a.thanhTien];return[{id:0,colSpan:2+e.reduce((function(e,t){var n=t.id;return e+((null===o||void 0===o?void 0:o[n])?0:1)}),0),cellClassName:"text-center font-weight-bold text-danger"},{id:1,colSpan:t.reduce((function(e,t){var n=t.id;return e+((null===o||void 0===o?void 0:o[n])?0:1)}),0),cellClassName:"text-right font-weight-bold text-small text-danger",render:function(e){return Object(l.formatNumber)(e)}},{id:2,colSpan:[].reduce((function(e,t){var n=t.id;return e+((null===o||void 0===o?void 0:o[n])?0:1)}),0)}]}),[o]),d=u.a.useMemo((function(){return t.reduce((function(e,t){var n=e.thanhTien+(t.thanhTien||0);return Object(i.a)(Object(i.a)({},e),{},{thanhTien:n})}),{tong:"T\u1ed5ng ti\u1ec1n",thanhTien:0})}),[t]),s=u.a.useMemo((function(){return["tong","thanhTien"].map((function(e,t){return Object(a.a)({},t,d[e])}))}),[d]);return Object(P.b)(k.a,{columns:c,dataSource:s})},D=n(32),G=n.n(D),A=n(753),E=n(760),R=n(762),X={ngayNhap:{id:"ngayNhap",name:"Ng\xe0y nh\u1eadp",width:100,className:"text-small"},getTableColumns:function(){return[Object(i.a)(Object(i.a)({},l.constants.stt),{},{fixed:!1}),this.ngayNhap,Object(i.a)(Object(i.a)({},R.a.tenLoaiPhieu),{},{width:80}),Object(i.a)(Object(i.a)({},E.a.soLuong),{},{width:80}),Object(i.a)(Object(i.a)({},E.a.donGia),{},{width:80}),Object(i.a)({},E.a.thanhTien)]},getInputFields:function(){return[l.constants.stt,l.constants.id]}};var Y=function(e){var t=e.datas,n=u.a.useMemo((function(){return t}),[t]);return Object(P.b)("div",{className:"khoChaLuaChiTiet-page",css:b.a,children:Object(P.b)(g.a,{constants:X,datas:n,rowClassName:function(e){return"Xu\u1ea5t"===e.tenLoaiPhieu?"text-success":""}})})},B=s.c.khoChaLuaModal;t.default=function(){var e,t,n=Object(r.b)(),c=Object(r.c)((function(e){return e.khoChaLua})),s=c.tabsData,h=c.loading,O=c.pageSize,m=c.khoChaLuas,j=c.phieuKhoChaLuas,f=Object(r.c)((function(e){return e.nguyenVatLieuChaLua})).nguyenVatLieuChaLuas,y=Object(r.c)((function(e){return e.matHangChaLua})).matHangChaLuas,M=Object(r.c)((function(e){var t;return null===(t=e.tagsPage)||void 0===t?void 0:t[B]})),T=Object(r.c)((function(e){return e.account})),w=T.accountData,N=T.isDev,I=null===w||void 0===w||null===(e=w.paths)||void 0===e||null===(t=e.khoChaLua)||void 0===t?void 0:t.edit,k=Object(l.useDatePicker)({defaultTime:N?G()("01/05/2022","DD/MM/YYYY"):G()()}),V=Object(o.a)(k,2),D=V[0],E=V[1],R=Object(C.a)({Instance:p.a,onPending:L.g,addSelectedId:L.a,isEdit:I});u.a.useEffect((function(){return n(Object(L.f)(D)),function(){Object(F.j)("phieuKhoChaLuaByMonth")}}),[D]),u.a.useEffect((function(){return n(Object(L.e)()),function(){Object(F.j)("khoChaLua")}}),[]);var X=u.a.useMemo((function(){return Object.values(m).map((function(e){var t=e.soLuong,a=void 0===t?0:t,o=e.donGia,c=void 0===o?0:o,u=n(Object(A.a)(e)),r=Math.round(a*c);return Object(i.a)(Object(i.a)(Object(i.a)({},u),e),{},{thanhTien:r})})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(a.a)({},t.id,t))}),{})}),[f,y,m]);return Object(P.c)("div",{className:"khoChaLua-page",css:b.a,children:[Object(P.b)(d.b,{className:"tabs",options:s,activeKey:M?"aside":"",onTabClick:function(e){if("add"===e&&I){if(!I)return Object(x.n)();var t=new p.a;n(Object(l.openModal)({modalId:B,data:t.initData}))}else"aside"===e?n(Object(l.toggleAside)({tagPageId:B})):"taiExcel"===e&&n(Object(l.downloadExcel)({tableId:B,constants:v,fileSheet:"khoChaLuaSheet",fileName:"khoChaLuaName"}))}}),Object(P.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[M&&Object(P.b)(K,{dateTimePicker:E}),Object(P.b)("div",{className:"aside-main",children:Object(P.b)(g.a,{isEdit:I,onCallbackDataSource:function(e){return Object(S.a)("tenNguyenVatLieuChaLua",e)},constants:v,actions:R,datas:X,loading:h,modalId:B,expandable:{expandedRowRender:function(e){var t=Object.entries((null===j||void 0===j?void 0:j[e.id])||{}).reduce((function(e,t){var n=Object(o.a)(t,2),c=n[0],u=n[1],r=G()(Number(c)).format("DD/MM/YYYY HH:mm"),l=u.soLuong,d=void 0===l?0:l,s=u.donGia,b=void 0===s?0:s,h="xuat"===u.loaiPhieuId?"Xu\u1ea5t":"Nh\u1eadp",O=d*b;return Object(i.a)(Object(i.a)({},e),{},Object(a.a)({},c,{id:c,ngayNhap:r,soLuong:d,donGia:b,thanhTien:O,tenLoaiPhieu:h}))}),{});return Object(P.b)(Y,{datas:t})},expandRowByClick:!1},isSelection:!0,pagination:!0,pageSize:O,onChange:function(e){n(Object(L.i)(e.pageSize))},summary:function(e){return Object(P.b)(H,{pageData:e})}})})]})]})}},749:function(e,t,n){"use strict";n(0);var a=n(504),i=n(23),o=a.a.Summary,c=o.Row,u=o.Cell;t.a=function(e){var t,n=e.columns,a=e.dataSource;return Object(i.b)(c,{children:null===n||void 0===n||null===(t=n.map)||void 0===t?void 0:t.call(n,(function(e,t){var n=null===e||void 0===e?void 0:e.id,o=(null===e||void 0===e?void 0:e.colSpan)||0,c=(null===e||void 0===e?void 0:e.cellClassName)||"",r=(null===e||void 0===e?void 0:e.valueStyle)||{},l=(null===e||void 0===e?void 0:e.valueClassName)||"",d=null===e||void 0===e?void 0:e.render,s=(null===a||void 0===a?void 0:a[t])||{},b=(null===s||void 0===s?void 0:s[n])||"";return d&&(b=d(b,s,t)),Object(i.b)(u,{index:t,colSpan:o,className:c,children:Object(i.b)("div",{style:r,className:l,children:b})},n)}))})}},753:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return r}));var a=n(16),i=n(7),o=n(352),c=n(116);function u(e){return function(t,n){var a=n(),i=a.nguyenVatLieuChaLua.nguyenVatLieuChaLuas,o=a.matHangChaLua.matHangChaLuas,c=null===i||void 0===i?void 0:i[null===e||void 0===e?void 0:e.id];return c=c||((null===o||void 0===o?void 0:o[null===e||void 0===e?void 0:e.id])||{})}}function r(e,t,n){return function(){return Object(i.a)(Object(i.a)({},e),{},{getTableColumns:function(){var i;return((null===e||void 0===e||null===(i=e.getTableColumns)||void 0===i?void 0:i.call(e))||[]).reduce((function(e,i){return i.id===o.a.tenNguyenVatLieuChaLua.id?[].concat(Object(a.a)(e),Object(a.a)(t?[i]:[])):i.id!==c.a.tenMatHang.id||n?[].concat(Object(a.a)(e),[i]):[].concat(Object(a.a)(e),Object(a.a)(n?[i]:[]))}),[])}})}}},754:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(6),i={soLuong:{id:"soLuong",name:"S\u1ed1 l\u01b0\u1ee3ng",width:100,className:"text-small font-weight-bold",align:"right",sorter:Object(a.sortByNumber)("soLuong"),render:Object(a.renderNumberInput)("SoLuong")},donGia:{id:"donGia",name:"\u0110\u01a1n gi\xe1",width:100,className:"text-small font-weight-bold",align:"right",sorter:Object(a.sortByNumber)("donGia"),render:a.numberRender},thanhTien:{id:"thanhTien",name:"Th\xe0nh ti\u1ec1n",width:120,className:"text-small font-weight-bold",align:"right",isSearch:!0,sorter:Object(a.sortByNumber)("thanhTien"),render:a.numberRender}}},756:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(0);var a=n(6),i=n(237),o=n(23);function c(e){var t=e.name,n=e.label,c=e.rules,u=e.disabled,r=e.format;return Object(o.b)(a.MyFormItem,{name:t,label:n,rules:c,children:Object(o.b)(i.a,{disabled:u,style:{width:"100%"},format:r})})}},758:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(0);var a=n(6),i=n(507),o=n(23);function c(e){var t=e.name,n=e.label,c=e.rules,u=e.disabled,r=e.onPressEnter,l=e.autoFocus;return Object(o.b)(a.MyFormItem,{name:t,label:n,rules:c,children:Object(o.b)(i.a,{autoFocus:l,disabled:u,style:{width:"100%"},onPressEnter:r,type:"number"})})}},760:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var a=n(7),i=n(6),o=n(116),c=n(87),u=n(352),r={soLuong:{id:"soLuong",name:"S\u1ed1 l\u01b0\u1ee3ng",width:100,className:"text-small font-weight-bold",align:"right",isSearch:!0,sorter:Object(i.sortByText)("soLuong"),form:{type:"input-number"}},donGia:{id:"donGia",name:"\u0110\u01a1n gi\xe1",width:100,className:"text-small font-weight-bold",align:"right",form:{type:"input-number-format"},render:i.numberRender},thanhTien:{id:"thanhTien",name:"Th\xe0nh ti\u1ec1n",width:100,className:"text-small font-weight-bold",align:"right",render:i.numberRender},getTableColumns:function(){return[Object(a.a)(Object(a.a)({},i.constants.stt),{},{fixed:!1}),u.a.tenNguyenVatLieuChaLua,Object(a.a)(Object(a.a)({},o.a.tenMatHang),{},{fixed:!1}),r.soLuong,c.a.tenDonViTinh,r.donGia,r.thanhTien,i.constants.editRow]},getInputFields:function(){return[]}},l={getTableColumns:function(){return[Object(a.a)(Object(a.a)({},i.constants.stt),{},{fixed:!1}),u.a.tenNguyenVatLieuChaLua,Object(a.a)(Object(a.a)({},o.a.tenMatHang),{},{fixed:!1}),r.soLuong,Object(a.a)(Object(a.a)({},c.a.tenDonViTinh),{},{className:"text-small"}),r.donGia,r.thanhTien]}}},762:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(6),i=n(254),o={ngayPhieuKho:{id:"ngayPhieuKho",name:"Ng\xe0y",width:100,className:"text-small font-weight-bold",align:"center",isSearch:!0,sorter:Object(a.sortByText)("ngayPhieuKho"),form:{type:"date-picker",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},tongTienPhieuKho:{id:"tongTienPhieuKho",name:"T\u1ed5ng ti\u1ec1n",width:100,className:"text-small font-weight-bold",align:"right",render:a.numberRender},loaiPhieuId:{id:"loaiPhieuId",name:"Lo\u1ea1i phi\u1ebfu",width:90,className:"text-small font-weight-bold",isSearch:!0,align:"center"},tenLoaiPhieu:{id:"tenLoaiPhieu",name:"T\xean lo\u1ea1i phi\u1ebfu",width:110,className:"text-small font-weight-bold",sorter:Object(a.sortByText)("tenLoaiPhieu"),align:"center"},tenMatHangChiTiet:{id:"tenMatHangChiTiet",name:"T\xean lo\u1ea1i phi\u1ebfu",width:90,className:"text-small font-weight-bold",isSearch:!0},taoTuHoaDon:{id:"taoTuHoaDon",name:"T\u1ea1o t\u1eeb h\xf3a \u0111\u01a1n",width:120,className:"text-small font-weight-bold",align:"center",render:Object(i.a)("TaoTuHoaDon")}}},766:function(e,t,n){"use strict";var a=n(0),i=n.n(a),o=n(59),c=n(113),u=n(6),r=n(56),l=n(392),d=n(811),s=n(50),b=n(61),h=n(23);t.a=function(e){var t,n,a=e.form,O=e.name,m=e.mode,j=e.label,f=e.labelCol,v=e.wrapperCol,g=e.rules,p=e.disabled,C=e.autoFocus,L=e.isEdit,y=e.isAddNew,M=e.onAfterSelect,T=Object(r.b)(),w=Object(r.c)((function(e){return e.matHangChaLua})).matHangChaLuas,N=Object(r.c)((function(e){return e.account})).accountData,x=(null===N||void 0===N||null===(t=N.paths)||void 0===t||null===(n=t.matHangChaLua)||void 0===n?void 0:n.edit)||L,I=i.a.useMemo((function(){return Object.values(w).filter((function(e){return e.active})).map((function(e){var t="".concat(e.tenMatHang);return{value:e.id,label:t}}))}),[w]),P=Object(h.b)(u.MyFormItem,{label:j||"M\u1eb7t h\xe0ng ch\u1ea3 l\u1ee5a",type:"select",name:O||"matHangChaLuaId",innerProps:{autoFocus:C,mode:m,showSearch:!0,allowClear:!0,filterOption:u.onSelectSearch,onChange:function(e){T(Object(l.a)(e)),null===M||void 0===M||M(e,null===w||void 0===w?void 0:w[e])},disabled:p,notFoundContent:x?Object(h.b)("div",{children:y?Object(h.b)(o.a,{icon:Object(h.b)(s.a,{}),type:"primary",onClick:function(){return T(Object(u.openModal)({modalId:b.c.matHangChaLuaModal}))},children:"Th\xeam"}):null}):Object(h.b)(c.a,{})},options:I,rules:g||[]});return a?Object(h.c)(h.a,{children:[Object(h.b)(u.MyForm,{form:a,labelCol:f||{span:8},wrapperCol:v||{span:16},children:P}),x&&Object(h.b)(d.a,{onAfterAddFinish:function(e){a.setFieldsValue({matHangChaLuaId:e})}})]}):Object(h.c)(h.a,{children:[P,x&&Object(h.b)(d.a,{})]})}},776:function(e,t,n){"use strict";var a=n(0),i=n.n(a),o=n(6),c=n(251),u=n(56),r=n(183),l=n(23);t.a=function(e){var t=e.name,n=e.mode,a=e.label,d=e.rules,s=e.disabled,b=e.onAfterSelect,h=Object(u.b)(),O=Object(u.c)((function(e){return e.loaiPhieuKho})).loaiPhieuKhos,m=i.a.useMemo((function(){return c.c.filter((function(e){return e.active})).map((function(e){var t="".concat(e.tenLoaiPhieuKho);return{value:e.id,label:t}}))}),[]);return Object(l.b)(o.MyFormItem,{label:a||"Lo\u1ea1i phi\u1ebfu nh\u1eadp",type:"select",name:t||"loaiPhieuKhoId",innerProps:{mode:n,showSearch:!0,allowClear:!0,filterOption:o.onSelectSearch,onChange:function(e){null===b||void 0===b||b(e,null===O||void 0===O?void 0:O[e]),h(Object(r.a)(e))},disabled:s},options:m,rules:d||[]})}},777:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(30);function i(){Object(a.j)("Phi\u1ebfu \u0111\u01b0\u1ee3c t\u1ea1o t\u1eeb h\xf3a \u0111\u01a1n kh\xf4ng th\u1ec3 c\u1eadp nh\u1eadt ho\u1eb7c x\xf3a!")}},783:function(e,t,n){"use strict";var a=n(12),i=n(7),o=n(16),c=n(0),u=n.n(c),r=n(749),l=n(6),d=n(56),s=n(61),b=n(116),h=n(352),O=n(103),m=n(87),j=n(754),f=n(23),v=s.c.phieuKhoChaLuaChiTietModal;t.a=function(e){var t=e.pageData,n=e.isNguyenVatLieuChaLuaColumn,c=e.isMatHangChaLuaColumn,s=Object(d.c)((function(e){return e.hideColumns})),g=null===s||void 0===s?void 0:s[v||""],p=u.a.useMemo((function(){var e=[l.constants.stt].concat(Object(o.a)(n?[h.a.tenNguyenVatLieuChaLua]:[]),Object(o.a)(c?[b.a.tenMatHang]:[]),[O.a.tenNhomMatHang,j.a.soLuong,m.a.tenDonViTinh,j.a.donGia]),t=[j.a.thanhTien],a=[l.constants.editRow];return[{id:0,colSpan:e.reduce((function(e,t){var n=t.id;return e+((null===g||void 0===g?void 0:g[n])?0:1)}),0),cellClassName:"text-center font-weight-bold text-danger"},{id:1,colSpan:t.reduce((function(e,t){var n=t.id;return e+((null===g||void 0===g?void 0:g[n])?0:1)}),0),cellClassName:"text-right font-weight-bold text-small text-danger",render:function(e){return Object(l.formatNumber)(e)}},{id:2,colSpan:a.reduce((function(e,t){var n=t.id;return e+((null===g||void 0===g?void 0:g[n])?0:1)}),0)}]}),[n,c,g]),C=u.a.useMemo((function(){return t.reduce((function(e,t){var n=e.thanhTien+(t.thanhTien||0);return Object(i.a)(Object(i.a)({},e),{},{thanhTien:n})}),{tong:"T\u1ed5ng ti\u1ec1n",thanhTien:0})}),[t]),L=u.a.useMemo((function(){return["tong","thanhTien"].map((function(e,t){return Object(a.a)({},t,C[e])}))}),[C]);return Object(f.b)(r.a,{columns:p,dataSource:L})}},787:function(e,t,n){"use strict";function a(){return window.confirm("D\u1eef li\u1ec7u d\xe3 thay \u0111\u1ed5i, b\u1ea1n c\xf3 mu\u1ed1n tho\xe1t?")}function i(e){return window.confirm(e||"X\xe1c nh\u1eadn?")}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}))},798:function(e,t,n){"use strict";var a=n(0),i=n.n(a),o=n(6),c=n(251),u=n(56),r=n(183),l=n(23);t.a=function(e){var t=e.name,n=e.mode,a=e.label,d=e.rules,s=e.onAfterSelect,b=e.disabled,h=Object(u.b)(),O=i.a.useMemo((function(){return c.d.filter((function(e){return e.active})).map((function(e){var t="".concat(e.tenLoaiPhieuKho);return{value:e.id,label:t}}))}),[]);return Object(l.b)(o.MyFormItem,{label:a||"Lo\u1ea1i phi\u1ebfu xu\u1ea5t",type:"select",name:t||"loaiPhieuKhoId",innerProps:{mode:n,showSearch:!0,allowClear:!0,filterOption:o.onSelectSearch,onChange:function(e){null===s||void 0===s||s(e,null===c.b||void 0===c.b?void 0:c.b[e]),h(Object(r.a)(e))},disabled:b},options:O,rules:d||[]})}},820:function(e,t,n){"use strict";var a=n(5),i=n.n(a),o=n(9),c=n(39),u=n(0),r=n.n(u),l=n(6),d=n(505),s=n(56),b=n(61),h=n(30),O=n(12),m=n(7),j=n(59),f=n(50),v=n(745),g=n(352),p=n(87),C=n(103),L=n(754),y=n(116),M={getTableColumns:function(){return[Object(m.a)(Object(m.a)({},l.constants.stt),{},{fixed:!1}),g.a.tenNguyenVatLieuChaLua,Object(m.a)(Object(m.a)({},y.a.tenMatHang),{},{fixed:!1}),Object(m.a)(Object(m.a)({},C.a.tenNhomMatHang),{},{className:"text-small",width:140}),L.a.soLuong,Object(m.a)(Object(m.a)({},p.a.tenDonViTinh),{},{align:"center",className:"text-small"}),L.a.donGia,L.a.thanhTien,l.constants.editRow]},getInputFields:function(){return[l.constants.id]},getExcelFields:function(){return[l.constants.active]}},T=n(743),w=n(772),N=n(758),x=n(393),I=n(770),P=n(773),K=n(750),F=n(766),S=n(392),k=n(253),V=n(183),H=n(23),D=b.c.phieuKhoNhapChaLuaChiTietModal,G="nguyenVatLieuChaLuaId";var A=function(e){var t=Object(s.b)(),n=d.a.useForm(),a=Object(c.a)(n,1)[0],u=Object(s.c)((function(e){return e.form})),b=u.modal,h=u.datas,O=Object(s.c)((function(e){return e.loaiPhieuKho})),j=O.loaiPhieuKhoId,f=O.loaiPhieuKhos,v=r.a.useMemo((function(){var e;return!!(null===b||void 0===b||null===(e=b[D])||void 0===e?void 0:e.open)}),[b[D]]),g=null===h||void 0===h?void 0:h[D];function p(){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(i.a.mark((function e(){var n,o,c,u,r,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.validateFields();case 2:n=e.sent,o=n.soLuong,c=void 0===o?0:o,u=n.donGia,r=void 0===u?0:u,l=t(Object(x.c)(n)),l=t(Object(S.d)(l)),d=10*Math.round(c*r/10),t(Object(k.e)({convertedData:Object(m.a)(Object(m.a)({},l),{},{thanhTien:d}),nameOfId:"nguyenVatLieuChaLuaId",nameOfIdThayThe:"matHangChaLuaId"})),a.resetFields(),Object(I.a)(G);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.a.useEffect((function(){v?v&&g?a.setFieldsValue(g):v&&!g&&a.setFieldsValue({}):a.resetFields()}),[v,g]);var y=r.a.useMemo((function(){return t(Object(V.c)(j))}),[j,f]),M=r.a.useMemo((function(){return t(Object(V.d)(j))}),[j,f]);return Object(H.b)(l.MyModal,{title:Object(H.b)("div",{children:"Nguy\xean v\u1eadt li\u1ec7u, s\u1ed1 l\u01b0\u1ee3ng"}),visible:v,onClose:function(){t(Object(l.closeModal)({modalId:D}))},onOkModal:p,width:900,modalId:D,datas:h,children:Object(H.c)(l.MyForm,{form:a,labelCol:{span:8},wrapperCol:{span:16},children:[Object(H.b)(K.a,{name:"id",label:"ID",disabled:!0,classNameItem:"display__none"}),M?Object(H.b)(w.a,{isAddNew:!0}):null,y?Object(H.b)(F.a,{isAddNew:!0}):null,Object(H.b)(N.a,{name:L.a.soLuong.id,label:L.a.soLuong.name,onPressEnter:p}),Object(H.b)(P.a,{name:L.a.donGia.id,label:L.a.donGia.name,onPressEnter:p})]})})},E=n(783),R=n(753),X=b.c.phieuKhoNhapChaLuaChiTietModal;var Y=function(e){var t=Object(s.b)(),n=Object(s.c)((function(e){return e.phieuKhoChaLuaChiTiet})).phieuKhoChaLuaChiTiets,a=Object(s.c)((function(e){return e.nguyenVatLieuChaLua})).nguyenVatLieuChaLuas,i=Object(s.c)((function(e){return e.matHangChaLua})).matHangChaLuas,o=Object(s.c)((function(e){return e.loaiPhieuKho})),c=o.loaiPhieuKhoId,u=o.loaiPhieuKhos,d=r.a.useMemo((function(){return Object.values(n||{}).reduce((function(e,n){var a=t(Object(R.a)(n));return Object(m.a)(Object(m.a)({},e),{},Object(O.a)({},n.id,Object(m.a)(Object(m.a)({},a),n)))}),{})}),[n,i,a]),b=r.a.useMemo((function(){return t(Object(V.d)(c))}),[c,u]),h=r.a.useMemo((function(){return t(Object(V.c)(c))}),[c,u]),g=r.a.useMemo((function(){return t(Object(R.b)(M,b,h))}),[h,b]);return Object(H.c)("div",{className:"phieuKhoNhapChaLuaChiTiet-page",css:v.a,children:[Object(H.b)("div",{style:{marginBottom:"7px"},children:Object(H.b)(j.a,{icon:Object(H.b)(f.a,{}),type:"primary",onClick:function(){t(Object(l.openModal)({modalId:X}))},children:"Th\xeam m\u1eb7t h\xe0ng, s\u1ed1 l\u01b0\u1ee3ng"})}),Object(H.b)(T.a,{isEdit:!0,constants:g,datas:d,modalId:X,isSelection:!1,pagination:!1,inputOptions:{onDeleteItem:function(e){t(Object(k.b)(e))}},summary:function(e){return Object(H.b)(E.a,{isMatHangChaLuaColumn:h,isNguyenVatLieuChaLuaColumn:b,pageData:e})}}),Object(H.b)(A,{})]})},B=n(756),_=n(32),q=n.n(_),z=n(776),J=n(251),Q=n(167),U=n(762),W=n(777),Z=b.c.phieuKhoNhapChaLuaModal;t.a=function(e){var t,n,a=e.onAfterAddFinish,u=Object(s.b)(),b=d.a.useForm(),O=Object(c.a)(b,1)[0],m=Object(s.c)((function(e){return e.form})),j=m.modal,f=m.datas,v=null===f||void 0===f?void 0:f[Z],g=Object(s.c)((function(e){return e.account})).accountData,p=null===g||void 0===g||null===(t=g.paths)||void 0===t||null===(n=t.phieuKhoNhapChaLua)||void 0===n?void 0:n.edit,C=r.a.useMemo((function(){var e;return!!(null===j||void 0===j||null===(e=j[Z])||void 0===e?void 0:e.open)}),[j[Z]]);return r.a.useEffect((function(){if(C)if(C&&v){var e=Object(l.convertToMoment)([U.a.ngayPhieuKho],v);O.setFieldsValue(e),u(Object(k.f)((null===v||void 0===v?void 0:v.phieuKhoChaLuaChiTiets)||{})),u(Object(V.a)(null===v||void 0===v?void 0:v.loaiPhieuKhoId))}else C&&!v&&(O.setFieldsValue({ngayPhieuKho:q()(),loaiPhieuKhoId:[J.b.thanhPham.id]}),u(Object(V.a)([J.b.thanhPham.id])));else O.resetFields(),u(Object(k.f)({}))}),[C,v]),Object(H.c)(l.MyModal,{title:Object(H.b)("div",{children:"Phi\u1ebfu Nh\u1eadp Kho Ch\u1ea3 L\u1ee5a"}),visible:C,onClose:function(){u(Object(l.closeModal)({modalId:Z}))},onOkModal:function(){return p?(null===v||void 0===v?void 0:v.taoTuHoaDon)?Object(W.a)():void u(Object(l.onConfirmOk)(Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.validateFields();case 2:return t=e.sent,n=Object(l.convertMomentToString)([U.a.ngayPhieuKho],t),n=u(Object(V.e)(n)),n=u(Object(k.d)(n)),e.next=8,u(Object(Q.f)(n));case 8:u(Object(l.closeModal)({modalId:Z})),null===a||void 0===a||a(n);case 10:case"end":return e.stop()}}),e)}))))):Object(h.n)()},width:1100,modalId:Z,datas:f,children:[Object(H.c)(l.MyForm,{form:O,labelCol:{span:6},wrapperCol:{span:18},children:[Object(H.b)(K.a,{disabled:!0,classNameItem:"display__none",name:l.constants.id.id,label:l.constants.id.name}),Object(H.b)(B.a,{name:U.a.ngayPhieuKho.id,label:U.a.ngayPhieuKho.name,rules:[{required:!0}],format:"DD/MM/YYYY"}),Object(H.b)(z.a,{rules:[{required:!0}],mode:"multiple"})]}),Object(H.b)(Y,{})]})}},821:function(e,t,n){"use strict";var a=n(5),i=n.n(a),o=n(12),c=n(9),u=n(39),r=n(0),l=n.n(r),d=n(6),s=n(505),b=n(56),h=n(61),O=n(166),m=n(30),j=n(750),f=n(762),v=n(756),g=n(798),p=n(7),C=n(59),L=n(50),y=n(202),M=n(745),T=n(352),w=n(754),N=n(87),x=n(103),I=n(116),P={getTableColumns:function(){return[Object(p.a)(Object(p.a)({},d.constants.stt),{},{fixed:!1}),T.a.tenNguyenVatLieuChaLua,Object(p.a)(Object(p.a)({},I.a.tenMatHang),{},{fixed:!1}),Object(p.a)(Object(p.a)({},x.a.tenNhomMatHang),{},{width:140}),w.a.soLuong,N.a.tenDonViTinh,w.a.donGia,w.a.thanhTien,d.constants.editRow]},getInputFields:function(){return[]}},K=n(743),F=n(758),S=n(772),k=n(770),V=n(145),H=n(766),D=n(253),G=n(183),A=n(23),E=h.c.phieuKhoXuatChaLuaChiTietModal;var R=function(e){var t=Object(b.b)(),n=s.a.useForm(),a=Object(u.a)(n,1)[0],o=Object(b.c)((function(e){return e.form})),r=o.modal,h=o.datas,O=Object(b.c)((function(e){return e.loaiPhieuKho})),f=O.loaiPhieuKhoId,v=O.loaiPhieuKhos,g=l.a.useMemo((function(){var e;return!!(null===r||void 0===r||null===(e=r[E])||void 0===e?void 0:e.open)}),[r[E]]),C=null===h||void 0===h?void 0:h[E];function L(){return y.apply(this,arguments)}function y(){return(y=Object(c.a)(i.a.mark((function e(){var n,o,c,u,r,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.validateFields();case 2:if(n=e.sent,o=n.soLuong,c=void 0===o?0:o,u=n.donGia,r=void 0===u?0:u,!n.matHangChaLuaId||!n.nguyenVatLieuChaLuaId){e.next=6;break}return e.abrupt("return",Object(m.j)("Ch\u1ec9 ch\u1ecdn nguy\xean li\u1ec7u ho\u1eb7c m\u1eb7t h\xe0ng!"));case 6:l=t(Object(V.c)(n)),d=10*Math.round(c*r/10),t(Object(D.e)({convertedData:Object(p.a)(Object(p.a)({},l),{},{thanhTien:d}),nameOfId:"nguyenVatLieuChaLuaId",nameOfIdThayThe:"matHangChaLuaId"})),a.resetFields(),Object(k.a)("nguyenVatLieuChaLuaId");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){a.setFieldsValue(t)}l.a.useEffect((function(){g?g&&C&&a.setFieldsValue(C):a.resetFields()}),[g,C]);var T=l.a.useMemo((function(){return t(Object(G.c)(f))}),[f,v]),N=l.a.useMemo((function(){return t(Object(G.d)(f))}),[f,v]);return Object(A.b)(d.MyModal,{title:Object(A.b)("div",{children:"Nguy\xean Li\u1ec7u V\xe0 S\u1ed1 L\u01b0\u1ee3ng"}),visible:g,onClose:function(){t(Object(d.closeModal)({modalId:E}))},onOkModal:L,width:900,modalId:E,datas:h,children:Object(A.c)(d.MyForm,{form:a,labelCol:{span:6},wrapperCol:{span:18},children:[Object(A.b)(j.a,{disabled:!0,classNameItem:"display__none",name:"id",label:"id"}),N?Object(A.b)(S.a,{onAfterSelect:M,onAfterAddFinish:M,isAddNew:!0,autoFocus:!0}):null,T?Object(A.b)(H.a,{onAfterSelect:function(e,t){a.setFieldsValue(t)}}):null,Object(A.b)(F.a,{name:w.a.soLuong.id,label:w.a.soLuong.name,onPressEnter:L}),Object(A.b)(j.a,{name:w.a.donGia.id,label:w.a.donGia.name,disabled:!0})]})})},X=n(787),Y=n(783),B=n(753),_=h.c.phieuKhoXuatChaLuaChiTietModal;var q=function(e){var t=Object(b.b)(),n=Object(b.c)((function(e){return e.loaiPhieuKho})),a=n.loaiPhieuKhoId,i=n.loaiPhieuKhos,c=Object(b.c)((function(e){return e.nguyenVatLieuChaLua})).nguyenVatLieuChaLuas,u=Object(b.c)((function(e){return e.matHangChaLua})).matHangChaLuas,r=Object(b.c)((function(e){return e.phieuKhoChaLuaChiTiet})).phieuKhoChaLuaChiTiets,s=Object(b.c)((function(e){return e.table})).selectedRows,h=l.a.useMemo((function(){return Object.values(r||{}).reduce((function(e,n){var a=t(Object(B.a)(n));return Object(p.a)(Object(p.a)({},e),{},Object(o.a)({},n.id,Object(p.a)(Object(p.a)({},a),n)))}),{})}),[r,c,u]),O=l.a.useMemo((function(){return t(Object(G.d)(a))}),[a,i]),j=l.a.useMemo((function(){return t(Object(G.c)(a))}),[a,i]),f=l.a.useMemo((function(){return t(Object(B.b)(P,O,j))}),[j,O]);return Object(A.c)("div",{className:"phieuKhoXuatChaLuaChiTiet-page",css:M.a,children:[Object(A.c)("div",{style:{marginBottom:"7px"},children:[Object(A.b)(C.a,{icon:Object(A.b)(L.a,{}),type:"primary",onClick:function(){t(Object(d.openModal)({modalId:_}))},children:"Th\xeam NVL, s\u1ed1 l\u01b0\u1ee3ng"}),Object(A.b)(C.a,{icon:Object(A.b)(y.a,{}),type:"dashed",danger:!0,onClick:function(){var e=(null===s||void 0===s?void 0:s[_])||[];if(0===e.length)return Object(m.j)("Ch\u01b0a ch\u1ecdn m\u1eb7t h\xe0ng!");Object(X.b)("X\xe1c nh\u1eadn x\xf3a m\u1eb7t h\xe0ng \u0111\xe3 ch\u1ecdn?")&&(t(Object(D.c)({phieuKhoXuatChaLuaChiTietDataArray:e})),t(Object(d.onChangeSelectedRowKeys)({tableId:_,selectedRowKeys:[],selectedRows:[]})))},children:"X\xf3a \u0111\xe3 ch\u1ecdn"})]}),Object(A.b)(K.a,{isEdit:!0,constants:f,onCallbackDataSource:function(e){return Object(d.onCallbackDataSource)("tenNguyenVatLieuChaLua",e)},datas:h,modalId:_,inputOptions:{onDelete:function(e){t(Object(D.b)(e))}},summary:function(e){return Object(A.b)(Y.a,{isNguyenVatLieuChaLuaColumn:O,isMatHangChaLuaColumn:j,pageData:e})}}),Object(A.b)(R,{})]})},z=n(777),J=n(32),Q=n.n(J),U=h.c.phieuKhoXuatChaLuaModal;t.a=function(e){var t,n,a=e.onAfterAddFinish,r=s.a.useForm(),h=Object(u.a)(r,1)[0],p=Object(b.b)(),C=Object(b.c)((function(e){return e.loaiPhieuKho})).loaiPhieuKhos,L=Object(b.c)((function(e){return e.form})),y=L.modal,M=L.datas,T=Object(b.c)((function(e){return e.account})).accountData,w=null===T||void 0===T||null===(t=T.paths)||void 0===t||null===(n=t.phieuKhoXuatChaLua)||void 0===n?void 0:n.edit,N=l.a.useMemo((function(){var e;return!!(null===y||void 0===y||null===(e=y[U])||void 0===e?void 0:e.open)}),[y[U]]),x=null===M||void 0===M?void 0:M[U];function I(){return(I=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=2;break}return e.abrupt("return",Object(m.n)());case 2:if(!(null===x||void 0===x?void 0:x.taoTuHoaDon)){e.next=4;break}return e.abrupt("return",Object(z.a)());case 4:p(Object(d.onConfirmOk)(Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.validateFields();case 2:return t=e.sent,n=Object(d.convertMomentToString)([f.a.ngayPhieuKho],t),n=p(Object(G.e)(n)),n=p(Object(D.d)(n)),e.next=8,p(Object(O.f)(n));case 8:p(Object(d.closeModal)({modalId:U})),null===a||void 0===a||a(n);case 10:case"end":return e.stop()}}),e)})))));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.useEffect((function(){if(N){if(N&&x){var e=Object(d.convertToMoment)([f.a.ngayPhieuKho],x);h.setFieldsValue(e),p(Object(D.f)((null===e||void 0===e?void 0:e.phieuKhoChaLuaChiTiets)||{})),p(Object(G.a)(null===x||void 0===x?void 0:x.loaiPhieuKhoId))}else if(N&&!x){var t;h.setFieldsValue((t={},Object(o.a)(t,f.a.ngayPhieuKho.id,Q()()),Object(o.a)(t,"loaiPhieuKhoId",[C.sanXuat.id]),t)),p(Object(G.a)([C.sanXuat.id]))}}else h.resetFields(),p(Object(D.f)({}))}),[N,x]),Object(A.c)(d.MyModal,{title:Object(A.b)("div",{children:"Phi\u1ebfu Kho Xu\u1ea5t Ch\u1ea3 L\u1ee5a"}),visible:N,onClose:function(){p(Object(d.closeModal)({modalId:U}))},onOkModal:function(){return I.apply(this,arguments)},width:1100,modalId:U,datas:M,children:[Object(A.c)(d.MyForm,{form:h,labelCol:{span:6},wrapperCol:{span:18},children:[Object(A.b)(j.a,{disabled:!0,classNameItem:"display__none",name:d.constants.id.id,label:d.constants.id.name}),Object(A.b)(v.a,{format:"L",name:f.a.ngayPhieuKho.id,label:f.a.ngayPhieuKho.name,rules:[{required:!0}]}),Object(A.b)(g.a,{rules:[{required:!0}],mode:"multiple"})]}),Object(A.b)(q,{})]})}}}]);
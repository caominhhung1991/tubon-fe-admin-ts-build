(this["webpackJsonptu-bon"]=this["webpackJsonptu-bon"]||[]).push([[38],{1031:function(e,t,a){"use strict";a.r(t);var n=a(41),i=a(0),c=a.n(i),o=a(57),u=a(367),r=a(365),d=a(722),l=a(30),b=a(725),h=a(7),s=a(8),p=a(791),m=a(167),f={inputText:{id:"inputText",name:"Input text",width:100,className:"text-small font-weight-bold",align:"center",form:{type:"input",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},inputNumber:{id:"inputNumber",name:"Input number",width:100,className:"text-small font-weight-bold",align:"center",form:{type:"input-number-format",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},time:{id:"time",name:"Time",width:100,className:"text-small",form:{type:"date-picker",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},getTableColumns:function(){return[Object(h.a)(Object(h.a)({},l.a.stt),{},{fixed:!1}),p.a.ngay,p.a.tongTienPhieuKho,m.a.tenLoaiPhieuKho,l.a.createdAt,l.a.createdBy,l.a.capNhatRow]},getInputFields:function(){return[this.inputText,this.inputNumber,this.time]},getExcelFields:function(){return[this.inputText,this.inputNumber,this.time,l.a.active]},getFormViewFields:function(){var e=[this.inputText,this.inputNumber,this.time];return Object(s.getFormItemViewFields)(e)}},O=a(723),v=a(469),j=a(721),g=a(414),N=a(60),T=a(362),x=a(65),K=a(33),C=a.n(K),w=a(340),y=a(237),D=a(15),M=a(819),k=a(17);var L=function(e){var t,a,n,i=e.dateTimePicker,c=Object(o.b)(),u=Object(o.c)((function(e){return e.account})).accountData,b=null===u||void 0===u||null===(t=u.paths)||void 0===t||null===(a=t.phieuKhoNhapCL)||void 0===a?void 0:a.edit;return Object(k.c)(k.a,{children:[Object(k.b)(d.a,{header:Object(k.b)("div",{className:"font-weight-bold",children:Object(k.b)("span",{children:"Th\xf4ng Tin Trang "})}),body:Object(k.c)("div",{className:"form-input-aside",style:{padding:"5px"},children:[Object(k.b)("div",{children:(null===i||void 0===i||null===(n=i.getDayRender)||void 0===n?void 0:n.call(i))||null}),Object(k.b)("div",{className:"mt-1",children:Object(k.b)(N.a,{icon:Object(k.b)(T.a,{}),onClick:function(){var e=(new w.a).initData,t=C()();c(Object(y.c)({modalId:l.d.phieuKhoNhapModal,data:Object(h.a)(Object(h.a)({},e),{},{ngay:t,khoId:"khoChaLua"})}))},block:!0,children:"Th\xeam phi\u1ebfu nh\u1eadp kho"})})]}),footer:Object(k.b)("div",{children:Object(k.b)(N.a,{icon:Object(k.b)(x.a,{}),onClick:function(){c(Object(r.b)({tagPageId:l.d.phieuKhoNhapCLModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})}),Object(k.b)(M.a,{isEdit:b,onStopListen:function(){Object(D.i)(g.d)},onListen:function(){c(Object(g.c)())}})]})},P=a(728),S=a(13),I=a(729),Y=l.d.phieuKhoNhapCLModal;var R=function(e){var t=e.pageData,a=Object(o.c)((function(e){return e.hideColumns})),n=null===a||void 0===a?void 0:a[Y||""],i=c.a.useMemo((function(){var e=[l.a.stt,p.a.ngay],t=[p.a.tongTienPhieuKho],a=[m.a.tenLoaiPhieuKho,l.a.createdAt,l.a.createdBy,l.a.capNhatRow];return[{id:0,colSpan:2+e.reduce((function(e,t){var a=t.id;return e+((null===n||void 0===n?void 0:n[a])?0:1)}),0),cellClassName:"text-center font-weight-bold text-danger"},{id:1,colSpan:t.reduce((function(e,t){var a=t.id;return e+((null===n||void 0===n?void 0:n[a])?0:1)}),0),cellClassName:"text-right font-weight-bold text-small text-danger",render:function(e){return Object(s.formatNumber)(e)}},{id:2,colSpan:a.reduce((function(e,t){var a=t.id;return e+((null===n||void 0===n?void 0:n[a])?0:1)}),0)}]}),[n]),u=c.a.useMemo((function(){return t.reduce((function(e,t){var a=e.tongTienPhieuKho+(t.tongTienPhieuKho||0);return Object(h.a)(Object(h.a)({},e),{},{tongTienPhieuKho:a})}),{tong:"T\u1ed5ng ti\u1ec1n",tongTienPhieuKho:0})}),[t]),r=c.a.useMemo((function(){return["tong","tongTienPhieuKho"].map((function(e,t){return Object(S.a)({},t,u[e])}))}),[u]);return Object(k.b)(I.a,{columns:i,dataSource:r})},E=a(774);var F=function(e){var t=e.phieuKhoData,a=Object(o.c)((function(e){return e.dsMatHang})).dsMatHangs,n=c.a.useMemo((function(){var e=(null===t||void 0===t?void 0:t.phieuKhoChiTiets)||{};return Object.values(e).reduce((function(e,t){var n=t.matHangId,i=t.giaNhapMatHang,c=void 0===i?0:i,o=t.soLuongNhapKho,u=void 0===o?0:o,r=(null===a||void 0===a?void 0:a[n])||{},d=Math.round(c*u);return Object(h.a)(Object(h.a)({},e),{},Object(S.a)({},n,Object(h.a)(Object(h.a)(Object(h.a)({},r),t),{},{thanhTienGiaNhap:d})))}),{})}),[t,a]);return Object(k.b)("div",{children:Object(k.b)(O.a,{constants:E.b,datas:n,isSelection:!1,pagination:!1})})},A=l.d.phieuKhoNhapModal;t.default=function(){var e,t,a=Object(o.b)(),i=Object(P.b)(),l=Object(n.a)(i,2),h=l[0],s=l[1],p=Object(o.c)((function(e){return e.phieuKhoNhapCL})),m=p.tabsData,N=p.phieuKhoNhapCLLoading,T=p.pageSize,x=p.phieuKhoNhapCLs,K=Object(o.c)((function(e){var t;return null===(t=e.tagsPage)||void 0===t?void 0:t[A]})),C=Object(o.c)((function(e){return e.account})).accountData,w=null===C||void 0===C||null===(e=C.paths)||void 0===e||null===(t=e.phieuKhoNhapCL)||void 0===t?void 0:t.edit,y=Object(j.a)({Instance:v.a,onPending:g.f,addSelectedId:g.a,isEdit:w});return c.a.useEffect((function(){return a(Object(g.c)(h)),function(){Object(D.i)(g.d)}}),[h]),Object(k.c)("div",{className:"phieuKhoNhapCL-page",css:b.a,children:[Object(k.b)(d.b,{className:"tabs",options:m,activeKey:K?"aside":"",onTabClick:function(e){"aside"===e?a(Object(r.b)({tagPageId:A})):"taiExcel"===e&&a(Object(u.b)({tableId:A,constants:f,fileSheet:"phieuKhoNhapCLSheet",fileName:"phieuKhoNhapCLName"}))}}),Object(k.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[K&&Object(k.b)(L,{dateTimePicker:s}),Object(k.b)("div",{className:"aside-main",children:Object(k.b)(O.a,{isEdit:w,constants:f,actions:y,datas:x,loading:N,modalId:A,expandable:{expandedRowRender:function(e){return Object(k.b)("div",{children:Object(k.b)(F,{phieuKhoData:e})})},expandRowByClick:!1},isSelection:!0,pagination:!0,pageSize:T,onChange:function(e){a(Object(g.e)(e.pageSize))},summary:function(e){return Object(k.b)(R,{pageData:e})}})})]}),Object(k.b)(M.a,{isEdit:w})]})}},726:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(41),i=a(0),c=a.n(i),o=a(33),u=a.n(o),r=a(484),d=a(224),l=a(73),b=a(36),h=a(241),s=a(17),p=function(e){var t=e||{},a=t.disabledDate,o=t.editabledDate,l=t.className,p=t.defaultTime,m=void 0===p?u()():p,f=t.disabled,O=Object(i.useState)(m),v=Object(n.a)(O,2),j=v[0],g=v[1],N=Object(i.useState)((function(){return Object(b.e)(m)})),T=Object(n.a)(N,2),x=T[0],K=T[1],C=c.a.useMemo((function(){return null===o||void 0===o?void 0:o(j)}),[j,o]);function w(e){var t=Object(b.e)(e);K(t),g(e)}var y=function(e){var t=e.label,n=e.format,i=e.width,c=e.picker;return Object(s.b)(r.a.Item,{label:t,children:Object(s.b)(d.a,{locale:h.a,style:{width:i},format:n,picker:c,value:j,onChange:w,disabledDate:a,disabled:f,className:l})})};return[j,{getDayRender:function(){return y({picker:"date",label:"Ng\xe0y: ",format:"DD/MM/YY",width:"110px"})},getMonthRender:function(){return y({picker:"month",label:"Th\xe1ng: ",format:"MM/YYYY",width:"110px"})},getYearRender:function(){return y({picker:"year",label:"N\u0103m: ",format:"YYYY",width:"110px"})},isEditabledDate:C,selectedTime:j,yearAndDayOfYear:x,getDayOfAll:function(){return null===x||void 0===x?void 0:x.dayOfAll},onUpdate:w}]};p.defaultProps={disabledDate:l.noop,width:"105px",format:"DD/MM/YY",className:"",defaultTime:u()(),disabled:!1};var m=p},728:function(e,t,a){"use strict";var n=a(721);a.d(t,"a",(function(){return n.a}));var i=a(726);a.d(t,"b",(function(){return i.a}))}}]);
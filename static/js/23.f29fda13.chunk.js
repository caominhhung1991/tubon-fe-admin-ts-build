(this["webpackJsonptu-bon"]=this["webpackJsonptu-bon"]||[]).push([[23],{703:function(t,a,e){"use strict";e.d(a,"a",(function(){return o}));var n=e(0),i=(e(319),e(159)),o=(e(79),e(209),e(124),e(231),e(318),e(350),function(t,a){var e=arguments;if(null==a||!i.d.call(a,"css"))return n.createElement.apply(void 0,e);var o=e.length,c=new Array(o);c[0]=i.a,c[1]=Object(i.c)(t,a);for(var l=2;l<o;l++)c[l]=e[l];return n.createElement.apply(null,c)})},707:function(t,a,e){"use strict";e.d(a,"a",(function(){return m}));var n=e(42),i=e(0),o=e.n(i),c=e(35),l=e.n(c),r=e(457),d=e(218),u=e(84),b=e(40),s=e(233),h=e(17),g=function(t){var a=t||{},e=a.disabledDate,c=a.editabledDate,u=a.className,g=a.defaultTime,m=void 0===g?l()():g,f=a.disabled,v=Object(i.useState)(m),O=Object(n.a)(v,2),j=O[0],p=O[1],N=Object(i.useState)((function(){return Object(b.a)(m)})),T=Object(n.a)(N,2),y=T[0],C=T[1],D=o.a.useMemo((function(){return null===c||void 0===c?void 0:c(j)}),[j,c]);function M(t){var a=Object(b.a)(t);C(a),p(t)}var w=function(t){var a=t.label,n=t.format,i=t.width,o=t.picker;return Object(h.b)(r.a.Item,{label:a,children:Object(h.b)(d.a,{locale:s.a,style:{width:i},format:n,picker:o,value:j,onChange:M,disabledDate:e,disabled:f,className:u})})};return[j,{getDayRender:function(){return w({picker:"date",label:"Ng\xe0y: ",format:"DD/MM/YY",width:"110px"})},getMonthRender:function(){return w({picker:"month",label:"Th\xe1ng: ",format:"MM/YYYY",width:"110px"})},getYearRender:function(){return w({picker:"year",label:"N\u0103m: ",format:"YYYY",width:"110px"})},isEditabledDate:D,selectedTime:j,yearAndDayOfYear:y,getDayOfAll:function(){return null===y||void 0===y?void 0:y.dayOfAll},onUpdate:M}]};g.defaultProps={disabledDate:u.noop,width:"105px",format:"DD/MM/YY",className:"",defaultTime:l()(),disabled:!1};var m=g},709:function(t,a,e){"use strict";var n=e(701);e.d(a,"a",(function(){return n.a}));var i=e(707);e.d(a,"b",(function(){return i.a}))},711:function(t,a,e){"use strict";e(0);var n=e(456),i=e(17),o=n.a.Summary,c=o.Row,l=o.Cell;a.a=function(t){var a,e=t.columns,n=t.dataSource;return Object(i.b)(c,{children:null===e||void 0===e||null===(a=e.map)||void 0===a?void 0:a.call(e,(function(t,a){var e=null===t||void 0===t?void 0:t.id,o=(null===t||void 0===t?void 0:t.colSpan)||0,c=(null===t||void 0===t?void 0:t.cellClassName)||"",r=(null===t||void 0===t?void 0:t.valueStyle)||{},d=(null===t||void 0===t?void 0:t.valueClassName)||"",u=null===t||void 0===t?void 0:t.render,b=(null===n||void 0===n?void 0:n[a])||{},s=(null===b||void 0===b?void 0:b[e])||"";return u&&(s=u(s,b,a)),Object(i.b)(l,{index:a,colSpan:o,className:c,children:Object(i.b)("div",{style:r,className:d,children:s})},e)}))})}},984:function(t,a,e){"use strict";e.r(a);var n=e(28),i=e(42),o=e(0),c=e.n(o),l=e(57),r=e(351),d=e(352),u=e(230),b=e(702),s=e(30),h=e(705),g=e(11),m=e(140),f=e(160),v=e(320),O=e(9),j={tonDau:{id:"tonDau",name:"T\u1ed3n \u0111\u1ea7u",width:60,className:"text-small",align:"right"},nhap:{id:"nhap",name:"Nh\u1eadp",width:50,className:"text-small font-weight-bold text-danger",align:"right"},tongSoLuong:{id:"tongSoLuong",name:"T\u1ed5ng SL",width:65,className:"text-small font-weight-bold",align:"right"},xuat:{id:"xuat",name:"Xu\u1ea5t",width:50,className:"text-small font-weight-bold text-danger",align:"right"},tonCuoi:{id:"tonCuoi",name:"T\u1ed3n cu\u1ed1i",width:65,className:"text-small font-weight-bold",align:"right"},chiPhi:{id:"chiPhi",name:"Chi ph\xed",width:80,className:"text-small font-weight-bold",align:"right",render:O.numberRender},doanhThu:{id:"doanhThu",name:"Doanh thu",width:80,className:"text-small font-weight-bold",align:"right",render:O.numberRender},getTableColumns:function(){return[s.a.stt,Object(g.a)(Object(g.a)({},m.a.tenMatHang),{},{width:130}),Object(g.a)(Object(g.a)({},v.a.tenNhomMatHang),{},{width:110}),Object(g.a)(Object(g.a)({},m.a.giaNhapMatHang),{},{width:70}),Object(g.a)(Object(g.a)({},m.a.giaBanMatHang),{},{width:70}),Object(g.a)(Object(g.a)({},f.a.tenDonViTinh),{},{width:90}),this.tonDau,this.nhap,this.tongSoLuong,this.xuat,this.tonCuoi,this.chiPhi,this.doanhThu]},getInputFields:function(){return[]},getExcelFields:function(){return[s.a.stt,m.a.tenMatHang,v.a.tenNhomMatHang,m.a.giaNhapMatHang,m.a.giaBanMatHang,f.a.tenDonViTinh,this.tonDau,this.nhap,this.tongSoLuong,this.xuat,this.tonCuoi,this.chiPhi,this.doanhThu]}},p=e(704),N=e(12),T=e(20),y=e(21),C=function(t){Object(T.a)(e,t);var a=Object(y.a)(e);function e(){var t;Object(N.a)(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=a.call.apply(a,[this].concat(i))).pathDatas=["quanLyBaoCao","baoCaoTuBon","datas"],t.pathDeleted=["quanLyBaoCao","baoCaoTuBon","deleted"],t.tonCuoiPaths=["quanLyBaoCao","baoCaoTuBon","tonCuoi"],t.initData={},t}return e}(O.AppClass),D=e(701),M=e(398),w=e(60),x=e(66),Y=e(17);var S=function(t){var a,e=t.selectedTime,n=t.dateTimePicker,i=Object(l.b)();return Object(Y.b)(Y.a,{children:Object(Y.b)(b.a,{header:Object(Y.b)("div",{className:"font-weight-bold",children:Object(Y.b)("span",{children:"Th\xf4ng Tin Trang "})}),body:Object(Y.c)("div",{className:"form-input-aside",style:{padding:"5px"},children:[Object(Y.b)("div",{children:(null===n||void 0===n||null===(a=n.getDayRender)||void 0===a?void 0:a.call(n))||null}),Object(Y.b)("div",{className:"mt-1",children:Object(Y.b)(w.a,{block:!0,type:"primary",onClick:function(){return i(Object(M.e)(e))},children:"L\u01b0u b\xe1o c\xe1o ng\xe0y"})}),Object(Y.b)("div",{className:"mt-1",children:Object(Y.b)(w.a,{block:!0,type:"primary",onClick:function(){return i(Object(M.f)(e))},children:"L\u01b0u b\xe1o c\xe1o t\u1eeb \u0111\u1ea7u th\xe1ng t\u1edbi cu\u1ed1i th\xe1ng"})})]}),footer:Object(Y.b)("div",{children:Object(Y.b)(w.a,{icon:Object(Y.b)(x.a,{}),onClick:function(){i(Object(d.b)({tagPageId:s.d.baoCaoTuBonNgayModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})})})},B=e(40),k=e(709),P=e(13),H=e(711),L=s.d.baoCaoTuBonNgayModal;var I=function(t){var a=t.pageData,e=Object(l.c)((function(t){return t.hideColumns})),n=null===e||void 0===e?void 0:e[L||""],i=c.a.useMemo((function(){return[{id:0,colSpan:[s.a.stt,m.a.tenMatHang,v.a.tenNhomMatHang,m.a.giaNhapMatHang,m.a.giaBanMatHang,f.a.tenDonViTinh,j.tonDau,j.nhap,j.tongSoLuong,j.xuat,j.tonCuoi].reduce((function(t,a){var e=a.id;return t+((null===n||void 0===n?void 0:n[e])?0:1)}),0),cellClassName:"text-center font-weight-bold text-danger"},{id:1,colSpan:1,cellClassName:"text-right font-weight-bold text-small text-danger",render:function(t){return Object(O.formatNumber)(t)}},{id:2,colSpan:1,cellClassName:"text-right font-weight-bold text-small text-danger",render:function(t){return Object(O.formatNumber)(t)}}]}),[n]),o=c.a.useMemo((function(){return a.reduce((function(t,a){var e=t.chiPhi+(a.chiPhi||0),n=t.doanhThu+(a.doanhThu||0);return Object(g.a)(Object(g.a)({},t),{},{chiPhi:e,doanhThu:n})}),{tong:"T\u1ed5ng ti\u1ec1n",chiPhi:0,doanhThu:0})}),[a]),r=c.a.useMemo((function(){return["tong","chiPhi","doanhThu"].map((function(t,a){return Object(P.a)({},a,o[t])}))}),[o]);return Object(Y.b)(H.a,{columns:i,dataSource:r})},R=e(364),E=e(35),A=e.n(E),q=s.d.baoCaoTuBonNgayModal;a.default=function(){var t,a,e=Object(l.b)(),o=Object(k.b)({defaultTime:A()().subtract(1,"day")}),s=Object(i.a)(o,2),g=s[0],m=s[1],f=Object(l.c)((function(t){return t.baoCaoTuBonNgay})),v=f.tabsData,O=f.loading,N=f.pageSize,T=f.baoCaoTuBonNgays,y=Object(l.c)((function(t){var a;return null===(a=t.tagsPage)||void 0===a?void 0:a[q]})),w=Object(l.c)((function(t){return t.account})).accountData,x=null===w||void 0===w||null===(t=w.paths)||void 0===t||null===(a=t.baoCaoTuBonNgay)||void 0===a?void 0:a.edit,P=Object(l.c)((function(t){return t.dsMatHang})).dsMatHangs,H=Object(D.a)({Instance:C,onPending:M.d,addSelectedId:M.a});c.a.useEffect((function(){e(Object(M.c)(g))}),[g,P]);var L=c.a.useMemo((function(){return v?[].concat(Object(n.a)(v),[{label:"B\xe1o c\xe1o ng\xe0y: ".concat(g.format("DD-MM-YYYY")),value:"null"}]):v}),[g]);return Object(Y.c)("div",{className:"baoCaoTuBonNgay-page",css:h.a,children:[Object(Y.b)(b.b,{className:"tabs",options:L,activeKey:y?"aside":"",onTabClick:function(t){if("add"===t&&x){if(!x)return Object(B.f)();var a=new C;e(Object(u.c)({modalId:q,data:a.initData}))}else"aside"===t?e(Object(d.b)({tagPageId:q})):"taiExcel"===t&&e(Object(r.b)({tableId:q,constants:j,fileSheet:"".concat(g.format("YYYY-MM-DD")),fileName:"Bao Cao Tu Bon Ngay ".concat(g.format("YYYY-MM-DD")),pageDatas:T}))}}),Object(Y.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[y&&Object(Y.b)(S,{selectedTime:g,dateTimePicker:m}),Object(Y.b)("div",{className:"aside-main",children:Object(Y.b)(p.a,{isEdit:x,onCallbackDataSource:function(t){return Object(R.a)("tenMatHang",t)},constants:j,actions:H,datas:T,loading:O,modalId:q,isSelection:!1,pagination:!0,pageSize:N,onChange:function(t){e(Object(M.g)(t.pageSize))},onRow:function(t){return{onClick:function(){x&&e(Object(u.c)({modalId:q,data:t}))}}},summary:function(t){return Object(Y.b)(I,{pageData:t})}})})]})]})}}}]);
(this["webpackJsonptu-bon"]=this["webpackJsonptu-bon"]||[]).push([[34],{1117:function(n,t,e){"use strict";e.r(t);var a=e(39),o=e(0),r=e.n(o),c=e(60),i=e(7),l=e(777),d=e(65),u=e(778),s=e(6),g=e(800),b={tongCongNo:{id:"tongCongNo",name:"T\u1ed5ng c\xf4ng n\u1ee3",width:100,className:"text-small font-weight-bold",align:"right",render:i.numberRender},tongTraCongNo:{id:"tongTraCongNo",name:"T\u1ed5ng tr\u1ea3",width:100,className:"text-small font-weight-bold",align:"right",render:i.numberRender},traCongNoLan1:{id:"traCongNoLan1",name:"Tr\u1ea3 l\u1ea7n 1",width:100,className:"text-small font-weight-bold",align:"right",form:{type:"input-number-format",innerProps:{autoFocus:!0}},render:i.numberRender},traCongNoLan2:{id:"traCongNoLan2",name:"Tr\u1ea3 l\u1ea7n 2",width:100,className:"text-small font-weight-bold",align:"right",form:{type:"input-number-format"},render:i.numberRender},traCongNoLan3:{id:"traCongNoLan3",name:"Tr\u1ea3 l\u1ea7n 3",width:100,className:"text-small font-weight-bold",align:"right",form:{type:"input-number-format"},render:i.numberRender},congNoConLai:{id:"congNoConLai",name:"C\xf2n l\u1ea1i",width:100,className:"text-small font-weight-bold",align:"right",render:i.numberRender}},m={getTableColumns:function(){return[i.constants.stt,Object(s.a)(Object(s.a)({},g.a.tenKhachHangChaLua),{},{fixed:!0}),b.tongCongNo,b.tongTraCongNo,b.congNoConLai,b.traCongNoLan1,b.traCongNoLan2,b.traCongNoLan3,i.constants.capNhatRow]},getInputFields:function(){return[b.traCongNoLan1,b.traCongNoLan2,b.traCongNoLan3]},getExcelFields:function(){return[i.constants.active]}},h=e(776),f=e(5),v=e.n(f),C=e(10),N=e(470),O=e(26),j=e(808),p=e(24),L=d.c.congNoChaLuaModal;var x=function(n){var t,e,a=n.onAfterAddFinish,o=n.selectedTime,l=Object(c.b)(),d=Object(c.c)((function(n){return n.form})),u=d.modal,g=d.datas,h=null===g||void 0===g?void 0:g[L],f=Object(c.c)((function(n){return n.account})).accountData,x=null===f||void 0===f||null===(t=f.paths)||void 0===t||null===(e=t.congNoChaLua)||void 0===e?void 0:e.edit,w=r.a.useMemo((function(){var n;return!!(null===u||void 0===u||null===(n=u[L])||void 0===n?void 0:n.open)}),[u[L]]);return Object(p.c)(i.MyModal,{form:!0,title:Object(p.c)("div",{children:["C\xf4ng N\u1ee3 ",null===h||void 0===h?void 0:h.tenKhachHangChaLua]}),visible:w,onClose:function(){l(Object(i.closeModal)({modalId:L}))},onOkModal:function(n,t){if(!x)return Object(O.o)();l(Object(i.onConfirmOk)(Object(C.a)(v.a.mark((function n(){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l(Object(N.e)(o,Object(s.a)({id:h.id},t)));case 2:null===a||void 0===a||a("null"),l(Object(i.closeModal)({modalId:L}));case 4:case"end":return n.stop()}}),n)})))))},formOptions:Object(i.getFormItemFields)(m.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:L,datas:g,children:[Object(p.b)(j.a,{disabled:!0,name:b.tongCongNo.id,label:b.tongCongNo.name}),Object(p.b)(j.a,{disabled:!0,name:b.congNoConLai.id,label:b.congNoConLai.name})]})},w=e(404),y=e(775),S=e(64),T=e(73),M=e(28),I=e.n(M);var k=function(n){var t,e=n.selectedTime,a=n.dateTimePicker,o=Object(c.b)();return Object(p.b)(p.a,{children:Object(p.b)(l.a,{header:Object(p.b)("div",{className:"font-weight-bold mt-1",children:"C\xf4ng N\u1ee3 Kh\xe1ch H\xe0ng Ch\u1ea3 L\u1ee5a"}),body:Object(p.c)("div",{className:"form-input-aside",style:{padding:"5px"},children:[Object(p.b)("div",{children:(null===a||void 0===a||null===(t=a.getMonthRender)||void 0===t?void 0:t.call(a))||null}),Object(p.b)("div",{children:Object(O.g)().map((function(n){var t;return Object(p.b)("div",{className:"mt-1",children:Object(p.c)(S.a,{block:!0,type:+((null===e||void 0===e||null===(t=e.format)||void 0===t?void 0:t.call(e,"MM"))||0)===n.id?"primary":void 0,onClick:function(){return function(n){var t=e.format("YYYY"),o=I()("01/".concat(n,"/").concat(t),"L");null===a||void 0===a||a.onUpdate(o)}(null===n||void 0===n?void 0:n.id)},children:["C\xf4ng n\u1ee3 th\xe1ng ",n.name]})},n.id)}))})]}),footer:Object(p.b)("div",{children:Object(p.b)(S.a,{icon:Object(p.b)(T.a,{}),onClick:function(){o(Object(i.toggleAside)({tagPageId:d.c.congNoChaLuaModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})})})},E=e(279),P=e(12),F=e(11),H=e(782),R=d.c.congNoChaLuaModal;var D=function(n){var t=n.pageData,e=n.isSelection,a=n.isExpandable,o=Object(c.c)((function(n){return n.hideColumns})),l=null===o||void 0===o?void 0:o[R||""],d=r.a.useMemo((function(){var n=[i.constants.stt,g.a.tenKhachHangChaLua],t=[b.tongCongNo],o=[i.constants.capNhatRow],r=n.reduce((function(n,t){var e=t.id;return n+((null===l||void 0===l?void 0:l[e])?0:1)}),0),c=t.reduce((function(n,t){var e=t.id;return n+((null===l||void 0===l?void 0:l[e])?0:1)}),0),d=o.reduce((function(n,t){var e=t.id;return n+((null===l||void 0===l?void 0:l[e])?0:1)}),0);return[{id:0,colSpan:(e?1:0)+(a?1:0)+r,cellClassName:"text-center font-weight-bold text-danger"},{id:1,colSpan:c,cellClassName:"text-right font-weight-bold text-small text-danger",render:function(n){return Object(i.formatNumber)(n)}},{id:2,colSpan:c,cellClassName:"text-right font-weight-bold text-small text-danger",render:function(n){return Object(i.formatNumber)(n)}},{id:3,colSpan:c,cellClassName:"text-right font-weight-bold text-small text-danger",render:function(n){return Object(i.formatNumber)(n)}},{id:4,colSpan:c,cellClassName:"text-right font-weight-bold text-small text-danger",render:function(n){return Object(i.formatNumber)(n)}},{id:5,colSpan:c,cellClassName:"text-right font-weight-bold text-small text-danger",render:function(n){return Object(i.formatNumber)(n)}},{id:6,colSpan:c,cellClassName:"text-right font-weight-bold text-small text-danger",render:function(n){return Object(i.formatNumber)(n)}},{id:7,colSpan:d}]}),[l]),u=r.a.useMemo((function(){return t.reduce((function(n,t){var e=n.tongCongNo+(t.tongCongNo||0),a=(n.congNoConLai||0)+(t.congNoConLai||0),o=(n.tongTraCongNo||0)+(t.tongTraCongNo||0),r=(n.traCongNoLan1||0)+(t.traCongNoLan1||0),c=(n.traCongNoLan2||0)+(t.traCongNoLan2||0),i=(n.traCongNoLan3||0)+(t.traCongNoLan3||0);return Object(s.a)(Object(s.a)({},n),{},{tongCongNo:e,congNoConLai:a,tongTraCongNo:o,traCongNoLan1:r,traCongNoLan2:c,traCongNoLan3:i})}),{tong:"T\u1ed5ng ti\u1ec1n",tongCongNo:0})}),[t]),m=r.a.useMemo((function(){return["tong","tongCongNo","tongTraCongNo","congNoConLai","traCongNoLan1","traCongNoLan2","traCongNoLan3"].map((function(n,t){return Object(F.a)({},t,u[n])}))}),[u]);return Object(p.b)(H.a,{columns:d,dataSource:m})},K=d.c.congNoChaLuaModal;t.default=function(){var n,t,e=Object(c.b)(),o=Object(c.c)((function(n){return n.congNoChaLua})),d=o.tabsData,s=o.congNoChaLuaLoading,g=o.pageSize,b=o.congNoChaLuas,f=o.congNoChaLuaDatas,v=Object(c.c)((function(n){return n.hoaDonBanHangChaLua})).hoaDonCongNoBanHangChaLuas,C=Object(c.c)((function(n){var t;return null===(t=n.tagsPage)||void 0===t?void 0:t[K]})),O=Object(c.c)((function(n){return n.account})),j=O.accountData,L=O.isDev,S=null===j||void 0===j||null===(n=j.paths)||void 0===n||null===(t=n.congNoChaLua)||void 0===t?void 0:t.edit,T=Object(i.useDatePicker)({defaultTime:L?I()("01/05/2022","L"):I()()}),M=Object(a.a)(T,2),F=M[0],H=M[1],R=Object(y.a)({Instance:w.a,onPending:N.f,addSelectedId:N.a,isEdit:S});return r.a.useEffect((function(){e(Object(N.c)())}),[F,b,v]),r.a.useEffect((function(){return e(Object(E.d)(F)),e(Object(N.d)(F)),function(){Object(P.j)("congNoChaLua")}}),[F]),Object(p.c)("div",{className:"congNoChaLua-page",css:u.a,children:[Object(p.b)(l.b,{className:"tabs",options:d,activeKey:C?"aside":"",onTabClick:function(n){"aside"===n?e(Object(i.toggleAside)({tagPageId:K})):"taiExcel"===n&&e(Object(i.downloadExcel)({tableId:K,constants:m,fileSheet:"congNoChaLuaSheet",fileName:"congNoChaLuaName"}))}}),Object(p.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[C&&Object(p.b)(k,{selectedTime:F,dateTimePicker:H}),Object(p.b)("div",{className:"aside-main",children:Object(p.b)(h.a,{isEdit:S,constants:m,actions:R,datas:f,loading:s,modalId:K,isSelection:!1,pagination:!0,pageSize:g,onChange:function(n){e(Object(N.g)(n.pageSize))},summary:function(n){return Object(p.b)(D,{pageData:n})}})})]}),Object(p.b)(x,{selectedTime:F,onAfterAddFinish:function(){e(Object(N.c)())}})]})}},779:function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));var a=e(0),o=(e(374),e(178)),r=(e(92),e(244),e(146),e(273),e(373),e(411),function(n,t){var e=arguments;if(null==t||!o.d.call(t,"css"))return a.createElement.apply(void 0,e);var r=e.length,c=new Array(r);c[0]=o.a,c[1]=Object(o.c)(n,t);for(var i=2;i<r;i++)c[i]=e[i];return a.createElement.apply(null,c)})},780:function(n,t,e){"use strict";function a(n,t){if(null==n)return{};var e,a,o=function(n,t){if(null==n)return{};var e,a,o={},r=Object.keys(n);for(a=0;a<r.length;a++)e=r[a],t.indexOf(e)>=0||(o[e]=n[e]);return o}(n,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(a=0;a<r.length;a++)e=r[a],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(o[e]=n[e])}return o}e.d(t,"a",(function(){return a}))},782:function(n,t,e){"use strict";e(0);var a=e(538),o=e(24),r=a.a.Summary,c=r.Row,i=r.Cell;t.a=function(n){var t,e=n.columns,a=n.dataSource;return Object(o.b)(c,{children:null===e||void 0===e||null===(t=e.map)||void 0===t?void 0:t.call(e,(function(n,t){var e=null===n||void 0===n?void 0:n.id,r=(null===n||void 0===n?void 0:n.colSpan)||0,c=(null===n||void 0===n?void 0:n.cellClassName)||"",l=(null===n||void 0===n?void 0:n.valueStyle)||{},d=(null===n||void 0===n?void 0:n.valueClassName)||"",u=null===n||void 0===n?void 0:n.render,s=(null===a||void 0===a?void 0:a[t])||{},g=(null===s||void 0===s?void 0:s[e])||"";return u&&(g=u(g,s,t)),Object(o.b)(i,{index:t,colSpan:r,className:c,children:Object(o.b)("div",{style:l,className:d,children:g})},e)}))})}},800:function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var a=e(7),o={tenKhachHangChaLua:{id:"tenKhachHangChaLua",name:"T\xean kh\xe1ch h\xe0ng",width:125,className:"text-small font-weight-bold",isSearch:!0,form:{type:"input",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}],innerProps:{autoFocus:!0}}},getTableColumns:function(){return[a.constants.stt,this.tenKhachHangChaLua,a.constants.active,a.constants.editRow]},getInputFields:function(){return[this.tenKhachHangChaLua]},getExcelFields:function(){return[this.tenKhachHangChaLua,a.constants.active]}}},808:function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));e(0);var a=e(7),o=e(541),r=e(26),c=e(24);function i(n){var t=n.name,e=n.label,i=n.rules,l=n.onPressEnter,d=n.disabled;return Object(c.b)(a.MyFormItem,{name:t,label:e,rules:i,children:Object(c.b)(o.a,{disabled:d,style:{width:"100%"},onPressEnter:l,formatter:r.a.formatter,parser:r.a.parser,type:"tel"})})}}}]);
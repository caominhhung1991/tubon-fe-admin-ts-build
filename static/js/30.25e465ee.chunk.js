(this["webpackJsonptu-bon"]=this["webpackJsonptu-bon"]||[]).push([[30],{1114:function(n,a,e){"use strict";e.r(a);var t=e(5),o=e.n(t),i=e(10),c=e(11),r=e(6),l=e(39),u=e(0),d=e.n(u),s=e(60),h=e(7),b=e(28),T=e.n(b),g=e(68),f=e(777),v=e(65),m=e(778),p=e(426),O=e(460),j={daThanhToan:{id:"daThanhToan",name:"\u0110\xe3 TT",width:70,className:"text-small",filters:h.trueFalseFilter.filters,onFilter:h.trueFalseFilter.onFilter("daThanhToan"),align:"center",fixed:!0,render:Object(O.a)("daThanhToan")},ngay:{id:"ngay",name:"Ng\xe0y",width:100,className:"text-small font-weight-bold",align:"center",isSearch:!0,fixed:!0,sorter:Object(h.sortByText)("ngay"),form:{type:"date-picker",innerProps:{disabledDate:function(n){return n<T()()}},rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},Thu:{id:"Thu",name:"Thu",width:110,className:"text-small font-weight-bold text-success",align:"right",isSearch:!0,form:{type:"input-number-format",innerProps:{min:0,step:1e3}},render:h.numberRender},Chi:{id:"Chi",name:"Chi",width:120,className:"text-small font-weight-bold text-danger",align:"right",isSearch:!0,form:{type:"input-number-format",innerProps:{min:0,step:1e3}},render:h.numberRender},loaiThanhToan:{id:"loaiThanhToan",name:"Lo\u1ea1i TT",width:100,className:"text-small",align:"center",isSearch:!0},nguoiThanhToan:{id:"nguoiThanhToan",name:"Ng\u01b0\u1eddi TT",width:110,className:"text-small font-weight-bold",align:"center",isSearch:!0},noiDungThanhToan:{id:"noiDungThanhToan",name:"N\u1ed9i dung",width:200,isSearch:!0,className:"text-small",form:{type:"text-area"}},getTableColumns:function(){return[h.constants.stt,this.daThanhToan,this.ngay,this.Thu,this.Chi,this.nguoiThanhToan,this.loaiThanhToan,this.noiDungThanhToan,Object(r.a)(Object(r.a)({},p.a.tenTaiKhoanNganHang),{},{width:170,render:function(n,a){var e,t;return(null===a||void 0===a||null===(e=a.taiKhoanNganHang)||void 0===e?void 0:e.tenNguoiNhan)||(null===a||void 0===a||null===(t=a.taiKhoanNganHang)||void 0===t?void 0:t.hoTen)}}),Object(r.a)(Object(r.a)({},p.a.nganHang),{},{width:200}),p.a.soTaiKhoan,h.constants.editRow]},getInputFields:function(){return[this.ngay,this.Thu,this.Chi,this.noiDungThanhToan]},getExcelFields:function(){return[h.constants.stt,this.daThanhToan,this.ngay,this.Thu,this.Chi,this.nguoiThanhToan,this.loaiThanhToan,this.noiDungThanhToan,Object(r.a)(Object(r.a)({},p.a.tenTaiKhoanNganHang),{},{width:170,render:function(n,a){var e,t;return(null===a||void 0===a||null===(e=a.taiKhoanNganHang)||void 0===e?void 0:e.tenNguoiNhan)||(null===a||void 0===a||null===(t=a.taiKhoanNganHang)||void 0===t?void 0:t.hoTen)}}),Object(r.a)(Object(r.a)({},p.a.nganHang),{},{width:200}),p.a.soTaiKhoan]}},C=e(776),N=e(266),y=e(775),w=e(455),M=e(376),x=e(26),S=e(814),K=e(486),I=e(24),F=function(n){var a=n.form,e=n.name,t=n.mode,o=n.label,i=n.labelCol,c=n.wrapperCol,r=n.rules,l=n.onAfterSelect,u=n.disabled,b=Object(s.b)(),T=Object(s.c)((function(n){return n.loaiThanhToan})).loaiThanhToans,g=d.a.useMemo((function(){return Object.values(T).map((function(n){var a="".concat(n.tenLoaiThanhToan);return{value:n.id,label:a}}))}),[T]);var f=Object(I.b)(h.MyFormItem,{label:o||"Lo\u1ea1i thanh to\xe1n",type:"select",name:e||"loaiThanhToanId",innerProps:{mode:t,showSearch:!0,allowClear:!0,filterOption:h.onSelectSearch,onChange:function(n){b(Object(K.a)(n)),null===l||void 0===l||l(n)},disabled:u},options:g,rules:r||[]});return a?Object(I.b)(I.a,{children:Object(I.b)(h.MyForm,{form:a,labelCol:i||{span:8},wrapperCol:c||{span:16},children:f})}):Object(I.b)(I.a,{children:f})},H=e(360),k=e(439),D=function(n){var a=n.form,e=n.name,t=n.mode,o=n.label,i=n.labelCol,c=n.wrapperCol,r=n.rules,l=n.onAfterSelect,u=n.disabled,b=Object(s.b)(),T=Object(s.c)((function(n){return n.nguoiThanhToan})).nguoiThanhToans,g=d.a.useMemo((function(){return Object.values(T).map((function(n){var a="".concat(n.tenNguoiThanhToan);return{value:n.id,label:a}}))}),[T]);var f=Object(I.b)(h.MyFormItem,{label:o||"Ng\u01b0\u1eddi TT",type:"select",name:e||"nguoiThanhToanId",innerProps:{mode:t,showSearch:!0,allowClear:!0,filterOption:h.onSelectSearch,onChange:function(n){b(Object(k.a)(n)),null===l||void 0===l||l(n)},disabled:u},options:g,rules:r||[]});return a?Object(I.b)(I.a,{children:Object(I.b)(h.MyForm,{form:a,labelCol:i||{span:8},wrapperCol:c||{span:16},children:f})}):Object(I.b)(I.a,{children:f})},A=e(873),P=v.c.baoCaoKeToanTienMatModal;var E=function(){var n,a,e=Object(s.b)(),t=Object(s.c)((function(n){return n.form})),c=t.modal,u=t.datas,b=Object(s.c)((function(n){return n.taiKhoanNganHang})).loading,g=null===u||void 0===u?void 0:u[P],f=Object(M.useForm)(),v=Object(l.a)(f,1)[0];d.a.useEffect((function(){g?v.setFieldsValue(g):(v.resetFields(),v.setFieldsValue({nguoiThanhToan:A.b.tinh.id,loaiThanhToan:H.b.chuyenKhoan.id,ngay:T()()}))}),[g]);var m=Object(s.c)((function(n){return n.account})).accountData,p=null===m||void 0===m||null===(n=m.paths)||void 0===n||null===(a=n.baoCaoKeToanTienMat)||void 0===a?void 0:a.edit,O=d.a.useMemo((function(){var n;return!!(null===c||void 0===c||null===(n=c[P])||void 0===n?void 0:n.open)}),[c[P]]);function C(){return(C=Object(i.a)(o.a.mark((function n(){var a,t,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(p){n.next=2;break}return n.abrupt("return",Object(x.o)());case 2:if(!b){n.next=4;break}return n.abrupt("return",null);case 4:return n.next=6,v.validateFields();case 6:if(a=n.sent,t=a.ngay,i=Object(h.convertMomentToString)(j.getInputFields(),a),null===g||void 0===g?void 0:g.id){n.next=15;break}return i.id=t.valueOf().toString(),n.next=13,e(Object(w.g)({currentData:i,validatedValues:i}));case 13:n.next=17;break;case 15:return n.next=17,e(Object(w.g)({currentData:Object(r.a)(Object(r.a)({},g),i),validatedValues:i}));case 17:e(Object(h.closeModal)({modalId:P}));case 18:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(I.b)(h.MyModal,{title:Object(I.b)("div",{children:"BC Ti\u1ec1n M\u1eb7t"}),visible:O,onClose:function(){e(Object(h.closeModal)({modalId:P}))},onOkModal:function(){return C.apply(this,arguments)},formProps:{labelCol:{span:6},wrapperCol:{span:18}},width:1200,modalId:P,datas:u,children:Object(I.c)(h.MyForm,{form:v,labelCol:{span:6},wrapperCol:{span:18},options:Object(h.getFormItemFields)(j.getInputFields()),children:[Object(I.b)(S.a,{isAddNew:!0,isTrangQuanLy:!0,onAfterSelect:function(n){v.setFieldsValue({taiKhoanNganHangId:n})}}),Object(I.b)(F,{name:"loaiThanhToan"}),Object(I.b)(D,{name:"nguoiThanhToan"})]})})},V=e(782),R=e(529),L=v.c.baoCaoKeToanTienMatModal,B=Object(u.memo)((function(n){var a=n.pageData,e=Object(s.c)((function(n){return n.hideColumns})),t=null===e||void 0===e?void 0:e[L||""],o=d.a.useMemo((function(){var n=[h.constants.stt,j.daThanhToan,j.ngay],a=[p.a.tenTaiKhoanNganHang,j.noiDungThanhToan,A.a.tenNguoiThanhToan,R.a.tenLoaiThanhToan,h.constants.editRow];return[{id:0,colSpan:1+n.reduce((function(n,a){var e=a.id;return n+((null===t||void 0===t?void 0:t[e])?0:1)}),0),cellClassName:"text-center font-weight-bold text-danger"},{id:1,colSpan:1,cellClassName:"text-right font-weight-bold text-small text-success",render:function(n){return Object(h.formatNumber)(n)}},{id:2,colSpan:1,cellClassName:"text-right font-weight-bold text-small text-danger",render:function(n){return Object(h.formatNumber)(n)}},{id:4,colSpan:2+a.reduce((function(n,a){var e=a.id;return n+((null===t||void 0===t?void 0:t[e])?0:1)}),0)}]}),[t]),i=d.a.useMemo((function(){return a.reduce((function(n,a){var e=n.Thu+(a.Thu||0),t=n.Chi+(a.Chi||0);return Object(r.a)(Object(r.a)({},n),{},{Thu:e,Chi:t})}),{tong:"T\u1ed5ng ti\u1ec1n",Thu:0,Chi:0})}),[a]),l=d.a.useMemo((function(){return["tong","Thu","Chi"].map((function(n,a){return Object(c.a)({},a,i[n])}))}),[i]);return Object(I.b)(V.a,{columns:o,dataSource:l})})),q=e(64),z=e(73),Q=function(n){var a,e=n.dateTimePicker,t=Object(s.b)(),o=Object(s.c)((function(n){return n.baoCaoKeToanTienMat})).baoCaoKeToanTienMats,i=d.a.useMemo((function(){return o?Object.values(o).reduce((function(n,a){var e=(null===n||void 0===n?void 0:n.soTienChuaThanhToan)||0,t=(null===a||void 0===a?void 0:a.daThanhToan)?0:a.Chi||0,o=(null===n||void 0===n?void 0:n.soTienDaThanhToan)||0,i=(null===a||void 0===a?void 0:a.daThanhToan)&&a.Chi||0;return Object(r.a)(Object(r.a)({},n),{},{soTienChuaThanhToan:e+t,soTienDaThanhToan:o+i})}),{}):{}}),[o]),c=i||{},l=c.soTienChuaThanhToan,u=void 0===l?0:l,b=c.soTienDaThanhToan,T=void 0===b?0:b;return Object(I.b)(I.a,{children:Object(I.b)(f.a,{header:Object(I.b)("div",{className:"font-weight-bold",children:Object(I.b)("span",{children:"Th\xf4ng Tin Trang "})}),body:Object(I.c)("div",{className:"form-input-aside",style:{padding:"5px"},children:[Object(I.b)("div",{children:(null===e||void 0===e||null===(a=e.getMonthRender)||void 0===a?void 0:a.call(e))||null}),Object(I.c)("div",{className:"font-weight-bold mt-1",children:["S\u1ed1 ti\u1ec1n \u0111\xe3 thanh to\xe1n: ",Object(h.formatNumber)(T)]}),Object(I.c)("div",{className:"font-weight-bold mt-1",children:["S\u1ed1 ti\u1ec1n ch\u01b0a thanh to\xe1n: ",Object(h.formatNumber)(u)]})]}),footer:Object(I.b)("div",{children:Object(I.b)(q.a,{icon:Object(I.b)(z.a,{}),onClick:function(){t(Object(h.toggleAside)({tagPageId:v.c.baoCaoKeToanTienMatModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})})})},J=v.c.baoCaoKeToanTienMatModal;a.default=function(){var n,a,e=Object(s.b)(),t=Object(h.useDatePicker)({defaultTime:T()()}),u=Object(l.a)(t,2),b=u[0],v=u[1],p=Object(s.c)((function(n){return n.baoCaoKeToanTienMat})),O=p.tabsData,M=p.loading,x=p.baoCaoKeToanTienMats,S=p.pageSize,K=Object(s.c)((function(n){var a;return null===(a=n.tagsPage)||void 0===a?void 0:a[J]})),F=Object(s.c)((function(n){return n.account})).accountData,H=null===F||void 0===F||null===(n=F.paths)||void 0===n||null===(a=n.baoCaoKeToanTienMat)||void 0===a?void 0:a.edit,k=Object(y.a)({Instance:N.a,onPending:w.f,addSelectedId:w.a,onActive:w.c,onDelete:w.d,isEdit:H});var D=d.a.useMemo((function(){return x?Object.values(x).reduce((function(n,a){var e=(null===a||void 0===a?void 0:a.taiKhoanNganHang)||{},t=e.soTaiKhoan,o=e.nganHang;return Object(r.a)(Object(r.a)({},n),{},Object(c.a)({},a.id,Object(r.a)(Object(r.a)({},a),{},{soTaiKhoan:t,nganHang:o})))}),{}):{}}),[x]);return d.a.useEffect((function(){e(Object(w.e)({selectedTime:b}))}),[b]),Object(I.c)("div",{className:"baoCaoKeToanTienMat-page",css:m.a,children:[Object(I.b)(f.b,{className:"tabs",options:O,activeKey:"all",onTabClick:function(n){if("add"===n){var a=new N.a;e(Object(h.openModal)({modalId:J,data:a.initData}))}else"aside"===n?e(Object(h.toggleAside)({tagPageId:J})):"taiExcel"===n&&e(Object(h.downloadExcel)({tableId:J,constants:j,fileSheet:"baoCaoKeToanTienMatSheet",fileName:"baoCaoKeToanTienMatName"}))}}),Object(I.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[K&&Object(I.b)(Q,{dateTimePicker:v}),Object(I.b)("div",{className:"aside-main",children:Object(I.b)(C.a,{isEdit:H,pagination:!0,isSelection:!0,constants:j,actions:k,datas:D,loading:M,modalId:J,pageSize:S,onChange:function(n){e(Object(w.h)(n.pageSize))},onRow:function(n){return{onClick:function(){var a=Object(i.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log(n);case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()}},onCallbackDataSource:function(n){return Object(g.orderBy)(n,"ngayTao")},summary:function(n){return Object(I.b)(B,{pageData:n})},rowClassName:function(n){return(null===n||void 0===n?void 0:n.daThanhToan)?"":"bg-gold-light"}})})]}),Object(I.b)(E,{})]})}},779:function(n,a,e){"use strict";e.d(a,"a",(function(){return i}));var t=e(0),o=(e(374),e(178)),i=(e(92),e(244),e(146),e(273),e(373),e(411),function(n,a){var e=arguments;if(null==a||!o.d.call(a,"css"))return t.createElement.apply(void 0,e);var i=e.length,c=new Array(i);c[0]=o.a,c[1]=Object(o.c)(n,a);for(var r=2;r<i;r++)c[r]=e[r];return t.createElement.apply(null,c)})},780:function(n,a,e){"use strict";function t(n,a){if(null==n)return{};var e,t,o=function(n,a){if(null==n)return{};var e,t,o={},i=Object.keys(n);for(t=0;t<i.length;t++)e=i[t],a.indexOf(e)>=0||(o[e]=n[e]);return o}(n,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)e=i[t],a.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(o[e]=n[e])}return o}e.d(a,"a",(function(){return t}))},781:function(n,a,e){"use strict";e.d(a,"a",(function(){return t}));var t={appSettings:"/app-settings",khachHang:"/app-settings/khach-hang",nhaCungCap:"/app-settings/nha-cung-cap",matHang:"/app-settings/mat-hang",nhomMatHang:"/quan-ly-mat-hang/nhom-mat-hang",donViTinh:"/app-settings/don-vi-tinh",taiKhoanNganHang:"/app-settings/tai-khoan-ngan-hang"}},782:function(n,a,e){"use strict";e(0);var t=e(538),o=e(24),i=t.a.Summary,c=i.Row,r=i.Cell;a.a=function(n){var a,e=n.columns,t=n.dataSource;return Object(o.b)(c,{children:null===e||void 0===e||null===(a=e.map)||void 0===a?void 0:a.call(e,(function(n,a){var e=null===n||void 0===n?void 0:n.id,i=(null===n||void 0===n?void 0:n.colSpan)||0,c=(null===n||void 0===n?void 0:n.cellClassName)||"",l=(null===n||void 0===n?void 0:n.valueStyle)||{},u=(null===n||void 0===n?void 0:n.valueClassName)||"",d=null===n||void 0===n?void 0:n.render,s=(null===t||void 0===t?void 0:t[a])||{},h=(null===s||void 0===s?void 0:s[e])||"";return d&&(h=d(h,s,a)),Object(o.b)(r,{index:a,colSpan:i,className:c,children:Object(o.b)("div",{style:l,className:u,children:h})},e)}))})}},805:function(n,a,e){"use strict";var t=e(5),o=e.n(t),i=e(10),c=e(0),r=e.n(c),l=e(7),u=e(64),d=e(45),s=e(330),h=e(60),b=e(426),T=e(775),g=e(378),f=e(65),v=e(414),m=e(26),p=e(781),O=e(24),j=f.c.taiKhoanNganHangModal;a.a=function(n){var a,e,t=n.onAfterAddFinish,c=Object(h.b)(),f=Object(d.u)(),C=Object(h.c)((function(n){return n.form})),N=C.modal,y=C.datas,w=Object(h.c)((function(n){return n.account})).accountData,M=null===w||void 0===w||null===(a=w.paths)||void 0===a||null===(e=a.taiKhoanNganHang)||void 0===e?void 0:e.edit,x=Object(T.a)({Instance:g.a,onPending:v.e,addSelectedId:v.a,isEdit:M}),S=r.a.useMemo((function(){var n;return!!(null===N||void 0===N||null===(n=N[j])||void 0===n?void 0:n.open)}),[N[j]]);function K(){return(K=Object(i.a)(o.a.mark((function n(a,e){var i,r,u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(M){n.next=2;break}return n.abrupt("return",Object(m.o)());case 2:if(i=!0,r=e,!e){n.next=18;break}if(null===a||void 0===a?void 0:a.id){n.next=13;break}return n.next=8,c(x.onAddAsync({validatedValues:r}));case 8:i=n.sent,null===t||void 0===t||t(null===(u=i)||void 0===u?void 0:u.id),i=Boolean(i),n.next=18;break;case 13:return n.t0=Boolean,n.next=16,c(x.onUpdateAsync({currentData:a,validatedValues:r}));case 16:n.t1=n.sent,i=(0,n.t0)(n.t1);case 18:i&&c(Object(l.closeModal)({modalId:j}));case 19:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(O.b)(l.MyModal,{form:!0,title:Object(O.c)("div",{children:["T\xe0i Kho\u1ea3n Ng\xe2n H\xe0ng ",Object(O.b)(u.a,{icon:Object(O.b)(s.a,{}),onClick:function(){f(p.a.taiKhoanNganHang)},children:"Trang qu\u1ea3n l\xfd"})]}),visible:S,onClose:function(){c(Object(l.closeModal)({modalId:j}))},onOkModal:function(n,a){return K.apply(this,arguments)},formOptions:Object(l.getFormItemFields)(b.a.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:j,datas:y})}},814:function(n,a,e){"use strict";var t=e(0),o=e.n(t),i=e(64),c=e(132),r=e(45),l=e(7),u=e(60),d=e(414),s=e(805),h=e(49),b=e(330),T=e(65),g=e(781),f=e(24);a.a=function(n){var a,e,t=n.form,v=n.name,m=n.mode,p=n.label,O=n.labelCol,j=n.wrapperCol,C=n.rules,N=n.isAddNew,y=n.isTrangQuanLy,w=n.onAfterSelect,M=n.disabled,x=Object(u.b)(),S=Object(r.u)(),K=Object(u.c)((function(n){return n.taiKhoanNganHang})).taiKhoanNganHangs,I=Object(u.c)((function(n){return n.account})).accountData,F=null===I||void 0===I||null===(a=I.paths)||void 0===a||null===(e=a.taiKhoanNganHang)||void 0===e?void 0:e.edit,H=o.a.useMemo((function(){return Object.values(K).filter((function(n){return n.active})).map((function(n){var a=n.maTaiKhoan?"".concat(n.maTaiKhoan," - "):"",e="".concat(a," - ").concat(n.hoTen," - ").concat(n.tenNguoiNhan||""," - ").concat(n.soTaiKhoan," - ").concat(n.nganHang);return{value:n.id,label:e}}))}),[K]);var k=Object(f.b)(l.MyFormItem,{label:p||"TKNH",type:"select",name:v||"taiKhoanNganHangId",innerProps:{mode:m,showSearch:!0,allowClear:!0,filterOption:l.onSelectSearch,onChange:function(n){x(Object(d.a)(n)),null===w||void 0===w||w(n)},disabled:M,notFoundContent:F?Object(f.c)("div",{children:[N?Object(f.b)(i.a,{icon:Object(f.b)(h.a,{}),type:"primary",onClick:function(){return x(Object(l.openModal)({modalId:T.c.taiKhoanNganHangModal}))},children:"Th\xeam"}):null,y?Object(f.b)(i.a,{icon:Object(f.b)(b.a,{}),type:"dashed",onClick:function(){S(g.a.taiKhoanNganHang)},children:"Q. l\xfd"}):null]}):Object(f.b)(c.a,{})},options:H,rules:C||[]});return t?Object(f.c)(f.a,{children:[Object(f.b)(l.MyForm,{form:t,labelCol:O||{span:8},wrapperCol:j||{span:16},children:k}),F&&Object(f.b)(s.a,{onAfterAddFinish:function(n){t.setFieldsValue({taiKhoanNganHangId:n})}})]}):Object(f.c)(f.a,{children:[k,F&&Object(f.b)(s.a,{onAfterAddFinish:function(n){return null===w||void 0===w?void 0:w(n)}})]})}},873:function(n,a,e){"use strict";e.d(a,"b",(function(){return o})),e.d(a,"a",(function(){return i}));var t=e(7),o={tuyet:{id:"Tuy\u1ebft",nguoiThanhToanId:"Tuy\u1ebft",tenNguoiThanhToan:"Tuy\u1ebft"},tinh:{id:"T\u1ecbnh",nguoiThanhToanId:"T\u1ecbnh",tenNguoiThanhToan:"T\u1ecbnh"},empty:{id:"",nguoiThanhToanId:"",tenNguoiThanhToan:"--"}},i={nguoiThanhToanId:{id:"nguoiThanhToanId",name:"M\xe3 lo\u1ea1i TT",width:100},tenNguoiThanhToan:{id:"tenNguoiThanhToan",name:"Ng\u01b0\u1eddi TT",width:90,className:"text-small",align:"center",isSearch:!0,form:{type:"input"}},getTableColumns:function(){return[t.constants.stt,t.constants.active,t.constants.editRow]},getInputFields:function(){return[]}}}}]);
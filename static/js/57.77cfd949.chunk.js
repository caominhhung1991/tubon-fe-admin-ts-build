(this["webpackJsonptu-bon"]=this["webpackJsonptu-bon"]||[]).push([[57],{1001:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(55),o=a(7),r=a(705),d=a(64),u=a(709),l=a(8),s=a(211),b=a(123),h=a(158),g={getTableColumns:function(){return[o.constants.stt,s.a.tenMatHang,Object(l.a)(Object(l.a)({},b.a.tenDonViTinh),{},{className:"text-small"}),h.a.tenNhomMatHang,s.a.giaNhapMatHang,s.a.giaBanMatHang,o.constants.capNhatRow]},getInputFields:function(){return[]},getExcelFields:function(){return[o.constants.active]}},m=a(707),O=a(351),j=a(704),f=a(394),v=a(59),p=a(65),C=a(25);var L=function(e){var t,a=e.dateTimePicker,n=Object(i.b)();return Object(C.b)(C.a,{children:Object(C.b)(r.a,{header:Object(C.b)("div",{className:"font-weight-bold",children:Object(C.b)("span",{children:"Th\xf4ng Tin Trang "})}),body:Object(C.b)("div",{className:"form-input-aside",style:{padding:"5px"},children:Object(C.b)("div",{children:(null===a||void 0===a||null===(t=a.getDayRender)||void 0===t?void 0:t.call(a))||null})}),footer:Object(C.b)("div",{children:Object(C.b)(v.a,{icon:Object(C.b)(p.a,{}),onClick:function(){n(Object(o.toggleAside)({tagPageId:d.c.matHangChaLuaModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})})})},M=a(36),y=a(5),H=a.n(y),I=a(10),w=a(40),T=a(496),x=a(467),F=a(186),N=a(469),k=a(13),E=a(57),G=a(374),S={dinhLuongGram:{id:"dinhLuongGram",name:"\u0110\u1ecbnh l\u01b0\u1ee3ng (Gram)",width:100,className:"text-small font-weight-bold",align:"right",sorter:Object(o.sortByText)("dinhLuongGram"),form:{type:"input-number",rules:[{required:!0}]}},dinhLuongKg:{id:"dinhLuongKg",name:"\u0110\u1ecbnh l\u01b0\u1ee3ng (Kg)",width:100,className:"text-small font-weight-bold",align:"right",sorter:Object(o.sortByText)("dinhLuongKg")},getTableColumns:function(){return[o.constants.stt,G.a.tenNguyenVatLieuChaLua,this.dinhLuongGram,this.dinhLuongKg,o.constants.editRow]},getInputFields:function(){return[o.constants.id]},getExcelFields:function(){return[o.constants.active]}},K={getTableColumns:function(){return[o.constants.stt,G.a.tenNguyenVatLieuChaLua,S.dinhLuongGram,S.dinhLuongKg]}},D=a(395),B=a(805),R=a(370),V=d.c.matHangChaLuaChiTietModal;var P=function(e){var t=Object(i.b)(),a=x.a.useForm(),n=Object(w.a)(a,1)[0],r=Object(i.c)((function(e){return e.form})),d=r.modal,u=r.datas,l=c.a.useMemo((function(){var e;return!!(null===d||void 0===d||null===(e=d[V])||void 0===e?void 0:e.open)}),[d[V]]),s=null===u||void 0===u?void 0:u[V],b=c.a.useMemo((function(){return Object(o.getFormItemFields)(S.getInputFields())}),[]);function h(){return(h=Object(I.a)(H.a.mark((function e(){var a,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.validateFields();case 2:a=e.sent,c=Object(o.convertMomentToString)(S.getInputFields(),a),c=t(Object(R.c)(c)),t(Object(D.c)({convertedData:c,nameOfId:"nguyenVatLieuChaLuaId"})),n.resetFields();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.useEffect((function(){l||n.resetFields()}),[l]),c.a.useEffect((function(){n.setFieldsValue(s)}),[s]),Object(C.b)(o.MyModal,{title:Object(C.b)("div",{children:"M\u1eb7t H\xe0ng Ch\u1ea3 L\u1ee5a"}),visible:l,onClose:function(){t(Object(o.closeModal)({modalId:V}))},onOkModal:function(){return h.apply(this,arguments)},width:900,modalId:V,datas:u,children:Object(C.c)(o.MyForm,{form:n,labelCol:{span:8},wrapperCol:{span:16},options:b,children:[Object(C.b)(B.a,{rules:[{required:!0}]}),Object(C.b)(o.MyFormItem,{name:S.dinhLuongGram.id,label:S.dinhLuongGram.name,rules:[{required:!0}],children:Object(C.b)(N.a,{style:{width:"100%"}})})]})})},q=d.c.matHangChaLuaChiTietModal;var A=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.matHangChaLuaChiTiet})).matHangChaLuaChiTiets,n=c.a.useMemo((function(){return Object.values(a||{}).reduce((function(e,t){var a=(t.dinhLuongGram||0)/1e3;return Object(l.a)(Object(l.a)({},e),{},Object(k.a)({},t.id,Object(l.a)(Object(l.a)({},t),{},{dinhLuongKg:a})))}),{})}),[a]);return Object(C.c)("div",{className:"matHangChaLuaChiTiet-page",css:u.a,children:[Object(C.b)("div",{style:{marginBottom:"7px"},children:Object(C.b)(v.a,{icon:Object(C.b)(E.a,{}),type:"primary",onClick:function(){t(Object(o.openModal)({modalId:q}))},children:"Th\xeam nguy\xean li\u1ec7u"})}),Object(C.b)(m.a,{isEdit:!0,constants:S,datas:n,modalId:q,isSelection:!1,pagination:!1,inputOptions:{onDeleteItem:function(e){t(Object(D.b)(e))}}}),Object(C.b)(P,{})]})},z=a(717),J=a(714),X=a(358),Q=a(357),U=d.c.matHangChaLuaModal;var W=function(e){var t=Object(i.b)(),a=x.a.useForm(),n=Object(w.a)(a,1)[0],r=Object(i.c)((function(e){return e.form})),u=r.modal,b=r.datas,h=Object(i.c)((function(e){return e.matHangChaLuaChiTiet})).matHangChaLuaChiTiets,g=null===b||void 0===b?void 0:b[U],m=c.a.useMemo((function(){var e;return!!(null===u||void 0===u||null===(e=u[U])||void 0===e?void 0:e.open)}),[u[U]]);function O(){return(O=Object(I.a)(H.a.mark((function e(){var a,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("X\xe1c nh\u1eadn l\u01b0u m\u1eb7t h\xe0ng?")){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,n.validateFields();case 4:return a=e.sent,c=Object(l.a)(Object(l.a)(Object(l.a)({},g),a),{},{matHangChaLuaChiTiets:h}),c=t(Object(X.c)(c)),c=t(Object(Q.c)(c)),e.next=10,t(Object(f.d)(c));case 10:t(Object(o.closeModal)({modalId:U})),t(Object(D.d)({})),t(Object(o.closeModal)({modalId:d.c.openAddMatHangSoLuongModal}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.useEffect((function(){n.setFieldsValue(g),t(Object(D.d)(null===g||void 0===g?void 0:g.matHangChaLuaChiTiets))}),[g]),c.a.useEffect((function(){m||n.resetFields()}),[m]),Object(C.c)(o.MyModal,{title:Object(C.c)("div",{children:["M\u1eb7t H\xe0ng Ch\u1ea3 L\u1ee5a - ",null===g||void 0===g?void 0:g.tenMatHang]}),visible:m,onClose:function(){t(Object(o.closeModal)({modalId:U}))},width:900,modalId:U,datas:b,footer:null,children:[Object(C.b)("div",{children:Object(C.c)(o.MyForm,{form:n,children:[Object(C.b)(o.MyFormItem,{name:s.a.tenMatHang.id,label:s.a.tenMatHang.name,rules:[{required:!0}],children:Object(C.b)(F.a,{style:{width:"100%"}})}),Object(C.b)(z.a,{}),Object(C.b)(J.a,{}),Object(C.b)(o.MyFormItem,{name:"giaBanMatHang",label:"Gi\xe1 b\xe1n",children:Object(C.b)(N.a,{style:{width:"100%"}})})]})}),Object(C.b)(A,{}),Object(C.b)("div",{className:"mt-1",style:{textAlign:"right"},children:Object(C.b)(v.a,{type:"primary",icon:Object(C.b)(T.a,{}),onClick:function(){return O.apply(this,arguments)},children:"L\u01b0u m\u1eb7t h\xe0ng"})})]})};var Y=function(e){var t=e.record,a=c.a.useMemo((function(){return(null===t||void 0===t?void 0:t.matHangChaLuaChiTiets)||{}}),[t]),n=c.a.useMemo((function(){return Object.values(a||{}).reduce((function(e,t){var a=(t.dinhLuongGram||0)/1e3;return Object(l.a)(Object(l.a)({},e),{},Object(k.a)({},t.id,Object(l.a)(Object(l.a)({},t),{},{dinhLuongKg:a})))}),{})}),[a]);return Object(C.b)(m.a,{constants:K,datas:n})},Z=d.c.matHangChaLuaModal;t.default=function(){var e,t,a=Object(i.b)(),n=Object(i.c)((function(e){return e.khoChaLua})).khoChaLuas,d=Object(i.c)((function(e){return e.matHangChaLua})),l=d.tabsData,s=d.matHangChaLuaLoading,b=d.pageSize,h=d.matHangChaLuas,v=Object(i.c)((function(e){var t;return null===(t=e.tagsPage)||void 0===t?void 0:t[Z]})),p=Object(i.c)((function(e){return e.account})).accountData,y=null===p||void 0===p||null===(e=p.paths)||void 0===e||null===(t=e.matHangChaLua)||void 0===t?void 0:t.edit,H=Object(j.a)({Instance:O.a,onPending:f.f,addSelectedId:f.a,isEdit:y});var I=c.a.useMemo((function(){return h?a(Object(f.c)()):{}}),[h,n]);return Object(C.c)("div",{className:"matHangChaLua-page",css:u.a,children:[Object(C.b)(r.b,{className:"tabs",options:l,activeKey:v?"aside":"",onTabClick:function(e){if("add"===e){if(!y)return Object(M.k)();var t=new O.a;a(Object(o.openModal)({modalId:Z,data:t.initData}))}else"aside"===e?a(Object(o.toggleAside)({tagPageId:Z})):"taiExcel"===e&&a(Object(o.downloadExcel)({tableId:Z,constants:g,fileSheet:"matHangChaLuaSheet",fileName:"matHangChaLuaName"}))}}),Object(C.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[v&&Object(C.b)(L,{}),Object(C.b)("div",{className:"aside-main",children:Object(C.b)(m.a,{isEdit:y,constants:g,actions:H,datas:I,loading:s,modalId:Z,expandable:{expandedRowRender:function(e){return Object(C.b)(Y,{record:e})},expandRowByClick:!1},isSelection:!1,pagination:!0,pageSize:b,onChange:function(e){a(Object(f.g)(e.pageSize))}})})]}),Object(C.b)(W,{})]})}}}]);
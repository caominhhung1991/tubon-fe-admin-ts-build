(this["webpackJsonptu-bon"]=this["webpackJsonptu-bon"]||[]).push([[15],{1016:function(n,t,e){"use strict";e.r(t);var a=e(40),o=e(0),i=e.n(o),c=e(56),l=e(713),r=e(45),d=e(64),u=e(716),b=e(8),s=e(7),g=e(725),h=e(740),f={getTableColumns:function(){return[Object(b.a)(Object(b.a)({},g.a.daThanhToan),{},{name:"\u0110\xe3 TT"}),Object(b.a)(Object(b.a)({},s.constants.stt),{},{fixed:!1}),g.a.donHangId,h.a.tenNhaCungCap,Object(b.a)(Object(b.a)({},g.a.ngayGiao),{},{defaultSortOrder:"descend",sortDirections:["descend"]}),g.a.tongTienDonHang,g.a.ngayDat,d.e.tenTrangThai,s.constants.editRow]},getInputFields:function(){return[]},getExcelFields:function(){return[s.constants.active]}},m=e(714),O=e(12),v=e(18),j=e(19),p=e(31),S=e.n(p),y=function(n){Object(v.a)(e,n);var t=Object(j.a)(e);function e(){var n;Object(O.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))).pathDatas=["quanLyHangNhap","datas"],n.pathDeleted=["quanLyHangNhap","deleted"],n.initData={tenNguyenVatLieuChaLua:"",inputNumber:0,time:S()()},n}return e}(s.AppClass),M=e(712),T=e(386),H=e(59),N=e(65),x=e(25);function C(n){var t,e=n.dateTimePicker,a=Object(c.b)();return Object(x.b)(x.a,{children:Object(x.b)(l.a,{header:Object(x.b)("div",{className:"font-weight-bold",children:Object(x.b)("span",{children:"Th\xf4ng Tin Trang "})}),body:Object(x.b)("div",{className:"form-input-aside",style:{padding:"5px"},children:Object(x.b)("div",{children:(null===e||void 0===e||null===(t=e.getMonthRender)||void 0===t?void 0:t.call(e))||null})}),footer:Object(x.b)("div",{children:Object(x.b)(H.a,{icon:Object(x.b)(N.a,{}),onClick:function(){a(Object(s.toggleAside)({tagPageId:d.c.danhSachDHNModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})})})}var k=e(33),z=e(14),D="/quan-ly-hang-nhap/tao-don-hang-nhap",w=e(13),I=e(719),F=d.c.danhSachDHNModal,L=Object(o.memo)((function(n){var t=n.pageData,e=Object(c.c)((function(n){return n.hideColumns})),a=null===e||void 0===e?void 0:e[F||""],o=i.a.useMemo((function(){var n=[s.constants.stt,g.a.donHangId,g.a.ngayGiao,h.a.tenNhaCungCap],t=[g.a.tongTienDonHang],e=[g.a.ngayDat,d.e.tenTrangThai,s.constants.capNhatRow];return[{id:0,colSpan:2+n.reduce((function(n,t){var e=t.id;return n+((null===a||void 0===a?void 0:a[e])?0:1)}),0),cellClassName:"text-center font-weight-bold text-danger"},{id:1,colSpan:t.reduce((function(n,t){var e=t.id;return n+((null===a||void 0===a?void 0:a[e])?0:1)}),0),cellClassName:"text-right font-weight-bold text-small text-danger",render:function(n){return Object(s.formatNumber)(n)}},{id:2,colSpan:e.reduce((function(n,t){var e=t.id;return n+((null===a||void 0===a?void 0:a[e])?0:1)}),0)}]}),[a]),l=i.a.useMemo((function(){return t.reduce((function(n,t){var e=n.tongTienDonHang+(t.tongTienDonHang||0);return Object(b.a)(Object(b.a)({},n),{},{tongTienDonHang:e})}),{tong:"T\u1ed5ng ti\u1ec1n",tongTienDonHang:0})}),[t]),r=i.a.useMemo((function(){return["tong","tongTienDonHang"].map((function(n,t){return Object(w.a)({},t,l[n])}))}),[l]);return Object(x.b)(I.a,{columns:o,dataSource:r})})),E=e(5),A=e.n(E),G=e(9),B=e(475),P=e(55),V=e(333),R=e(159),K=e(728),q=e(123),U=e(216),Y=d.c.donHangNhapModal,J=Object(o.memo)((function(n){var t=n.pageData,e=Object(c.c)((function(n){return n.hideColumns})),a=null===e||void 0===e?void 0:e[Y||""],o=i.a.useMemo((function(){var n=[s.constants.stt,U.a.tenMatHang,R.a.tenNhomMatHang,K.a.soLuong,K.a.soLuongThuc,q.a.tenDonViTinh,U.a.giaNhapMatHang],t=[K.a.thanhTien];return[{id:0,colSpan:0+n.reduce((function(n,t){var e=t.id;return n+((null===a||void 0===a?void 0:a[e])?0:1)}),0),cellClassName:"text-center font-weight-bold text-danger"},{id:1,colSpan:t.reduce((function(n,t){var e=t.id;return n+((null===a||void 0===a?void 0:a[e])?0:1)}),0),cellClassName:"text-right font-weight-bold text-small text-danger",render:function(n){return Object(s.formatNumber)(n)}},{id:2,colSpan:[].reduce((function(n,t){var e=t.id;return n+((null===a||void 0===a?void 0:a[e])?0:1)}),0)}]}),[a]),l=i.a.useMemo((function(){return t.reduce((function(n,t){var e=n.thanhTien+(t.thanhTien||0);return Object(b.a)(Object(b.a)({},n),{},{thanhTien:e})}),{tong:"T\u1ed5ng ti\u1ec1n",thanhTien:0})}),[t]),r=i.a.useMemo((function(){return["tong","thanhTien"].map((function(n,t){return Object(w.a)({},t,l[n])}))}),[l]);return Object(x.b)(I.a,{columns:o,dataSource:r})})),X=e(504),_=e(477),W=d.c.openEditGiaNhapMatHang;var Q=function(n){var t=n.dataSource,e=n.onOk,l=Object(c.c)((function(n){return n.form})),r=l.modal,d=l.datas,u=null===d||void 0===d?void 0:d[W],g=Object(c.b)(),h=Object(o.useRef)(null),f=Object(V.useForm)(),m=Object(a.a)(f,1)[0];i.a.useEffect((function(){return m.setFieldsValue(u),(null===h||void 0===h?void 0:h.current)&&h.current.focus(),function(){m.resetFields()}}),[u]);var O=i.a.useMemo((function(){var n;return!!(null===r||void 0===r||null===(n=r[W])||void 0===n?void 0:n.open)}),[r[W]]);function v(){return j.apply(this,arguments)}function j(){return(j=Object(G.a)(A.a.mark((function n(){var a,o,i;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.validateFields();case 2:a=n.sent,o=a.giaNhapMatHang,null===e||void 0===e||e(Object(b.a)(Object(b.a)({},u),{},{giaNhapMatHang:o})),(i=null===t||void 0===t?void 0:t[(null===u||void 0===u?void 0:u.index)+1])?(m.resetFields(),g(Object(s.openModal)({modalId:W,data:i}))):g(Object(s.closeModal)({modalId:W}));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(x.b)(s.MyModal,{title:Object(x.c)("div",{children:["Gi\xe1 m\u1eb7t h\xe0ng - ",(null===u||void 0===u?void 0:u.tenMatHang)||""]}),visible:O,width:700,modalId:W,datas:d,onOkModal:v,onClose:function(){return g(Object(s.closeModal)({modalId:W}))},children:Object(x.c)(s.MyForm,{form:m,labelCol:{span:8},wrapperCol:{span:16},children:[Object(x.b)(s.MyFormItem,{name:"giaNhapMatHang",label:"Gi\xe1 nguy\xean li\u1ec7u:",children:Object(x.b)(_.a,{ref:h,min:0,style:{width:"100%"},onPressEnter:v,autoFocus:!0})}),Object(x.b)(s.MyFormItem,{label:"Ch\u1ee9c n\u0103ng",children:Object(x.b)(H.a,{type:"primary",onClick:v,icon:Object(x.b)(X.a,{}),children:"L\u01b0u"})})]})})},Z=e(218),$=e(86),nn=e(821),tn=e(72),en={getTableColumns:function(){return[Object(b.a)(Object(b.a)({},s.constants.stt),{},{fixed:!1}),Object(b.a)(Object(b.a)({},U.a.tenMatHang),{},{width:150,fixed:!1,isSearch:!1}),Object(b.a)(Object(b.a)({},R.a.tenNhomMatHang),{},{align:"center",isSearch:!1}),Object(b.a)({},K.a.soLuong),Object(b.a)(Object(b.a)({},K.a.soLuongThuc),{},{render:function(n,t,e,a){var o,i=(null===a||void 0===a||null===(o=a.inputOptions)||void 0===o?void 0:o.openEditSoLuongThuc)||tn.noop;return Object(x.b)("div",{className:"hoverClassBG textDecorationUnderline",onClick:function(){return i(t)},children:n||"--"})}}),Object(b.a)(Object(b.a)({},q.a.tenDonViTinh),{},{align:"center",isSearch:!1,width:90}),Object(b.a)(Object(b.a)({},U.a.giaNhapMatHang),{},{render:function(n,t,e,a){var o,i=(null===a||void 0===a||null===(o=a.inputOptions)||void 0===o?void 0:o.openEditGiaNhapMatHang)||tn.noop;return Object(x.b)("div",{className:"hoverClassBG textDecorationUnderline",onClick:function(){return i(t)},children:n?Object(s.formatNumber)(n):"--"})}}),K.a.thanhTien]}},an=d.c.donHangNhapModal,on=function(n){var t=n.donHangNhapData,e=Object(c.b)(),o=Object(c.c)((function(n){return n.donHangNhap})).loading,l=Object(c.c)((function(n){return n.chiTietDonHang})).chiTietDonHangs,r=Object(V.useForm)(),u=Object(a.a)(r,1)[0];i.a.useEffect((function(){return e(Object(Z.m)((null===t||void 0===t?void 0:t.chiTietDonHangs)||{})),function(){e(Object(Z.m)({}))}}),[t]);var g=i.a.useMemo((function(){return l?Object.values(l).map((function(n){var t=n.soLuongThuc,e=void 0===t?0:t,a=n.giaNhapMatHang,o=void 0===a?0:a,i=Math.round(e*o);return Object(b.a)(Object(b.a)({},n),{},{thanhTien:i})})).reduce((function(n,t){return Object(b.a)(Object(b.a)({},n),{},Object(w.a)({},t.id,t))}),{}):{}}),[l]),h=i.a.useMemo((function(){return Object(s.onCallbackDataSource)("tenMatHang",Object.values(g||{}))}),[g]);return Object(x.c)(x.a,{children:[Object(x.b)(m.a,{onCallbackDataSource:function(n){return Object(s.onCallbackDataSource)("tenMatHang",n)},constants:en,datas:g,loading:o,modalId:an,form:u,pageSize:50,summary:function(n){return Object(x.b)(J,{pageData:n})},inputOptions:{openEditGiaNhapMatHang:function(n){e(Object(s.openModal)({modalId:d.c.openEditGiaNhapMatHang,data:n}))},openEditSoLuongThuc:function(n){e(Object(s.openModal)({modalId:d.c.openEditSoLuongThuc,data:n}))}}}),Object(x.b)(Q,{dataSource:h,onOk:function(n){e(Object(Z.i)(n)),e(Object($.h)(!0))}}),Object(x.b)(nn.a,{dataSource:h,onOk:function(n){e(Object(Z.j)(n)),e(Object($.h)(!0))}})]})},cn=e(822),ln=e(736),rn=e(798),dn=d.c.danhSachDHNModal,un=function(n){var t,e,o=Object(c.b)(),l=Object(c.c)((function(n){return n.form})),r=l.modal,u=l.datas,g=Object(c.c)((function(n){return n.donHang})).donHangDirty,h=Object(c.c)((function(n){return n.danhSachDHN})).donHangNhapData,f=Object(c.c)((function(n){return n.account})).accountData,m=null===f||void 0===f||null===(t=f.paths)||void 0===t||null===(e=t.danhSachDHN)||void 0===e?void 0:e.edit,O=B.a.useForm(),v=Object(a.a)(O,1)[0],j=null===u||void 0===u?void 0:u[dn],p=i.a.useMemo((function(){var n;return!!(null===r||void 0===r||null===(n=r[dn])||void 0===n?void 0:n.open)}),[r[dn]]);function y(){if(g&&!window.confirm("\u0110\u01a1n h\xe0ng \u0111\xe3 thay \u0111\u1ed5i, b\u1ea1n c\xf3 mu\u1ed1n tho\xe1t?"))return null;o(Object(s.closeModal)({modalId:dn})),o(Object($.h)(!1))}function M(){return N.apply(this,arguments)}function N(){return(N=Object(G.a)(A.a.mark((function n(){var t,e,a;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(m){n.next=2;break}return n.abrupt("return",Object(k.l)());case 2:if(window.confirm("X\xe1c nh\u1eadn l\u01b0u \u0111\u01a1n h\xe0ng?")){n.next=4;break}return n.abrupt("return",null);case 4:return n.next=6,v.validateFields();case 6:t=n.sent,e=t.ngayGiao,a=e.format("L"),o(Object(T.g)(Object(b.a)(Object(b.a)({},h),{},{ngayGiao:a}))),o(Object(s.closeModal)({modalId:dn})),o(Object($.h)(!1));case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return i.a.useEffect((function(){return o(Object(T.c)(j)),function(){return Object(z.j)("donHangNhapData")}}),[j]),i.a.useEffect((function(){if(h){var n=S()(null===h||void 0===h?void 0:h.ngayGiao,"L");v.setFieldsValue(Object(b.a)(Object(b.a)({},h),{},{ngayGiao:n}))}else v.resetFields()}),[h]),(null===h||void 0===h?void 0:h.trangThaiId)===d.g.daHuy.trangThaiId?Object(x.b)(s.MyModal,{title:Object(x.c)("div",{children:["\u0110\u01a1n \u0111\u1eb7t h\xe0ng nh\xe0 cung c\u1ea5p: ",null===h||void 0===h?void 0:h.tenNhaCungCap]}),visible:p,onClose:y,onOkModal:M,width:1200,maskClosable:!g,modalId:dn,datas:u,children:Object(x.b)("div",{children:"\u0110\u01a1n h\xe0ng \u0111\xe3 h\u1ee7y"})}):Object(x.c)(s.MyModal,{title:Object(x.c)("div",{children:["\u0110\u01a1n \u0111\u1eb7t h\xe0ng nh\xe0 cung c\u1ea5p: ",null===h||void 0===h?void 0:h.tenNhaCungCap]}),visible:p,onClose:y,onOkModal:M,width:1200,maskClosable:!g,modalId:dn,datas:u,children:[Object(x.c)(s.MyForm,{form:v,labelCol:{span:4},wrapperCol:{span:20},children:[Object(x.b)(ln.a,{name:"ngayGiao",label:"Ng\xe0y giao",rules:[{required:!0}]}),Object(x.b)(rn.a,{rules:[{required:!0}]}),Object(x.b)(s.MyFormItem,{label:"Ch\u1ee9c n\u0103ng",children:Object(x.b)(H.a,{type:"primary",icon:Object(x.b)(P.a,{}),onClick:function(){return o(Object(s.openModal)({modalId:d.c.openAddMatHangSoLuongModal}))},children:"Th\xeam m\u1eb7t h\xe0ng"})}),Object(x.c)("div",{className:"mt-1",children:[Object(x.b)("div",{className:"font-weight-bold",style:{marginBottom:"7px"},children:"Chi Ti\u1ebft \u0110\u01a1n H\xe0ng:"}),Object(x.b)(on,{donHangNhapData:h})]})]}),Object(x.b)(cn.a,{giaMatHangName:"giaNhapMatHang",soLuongName:"soLuong",onAfterAddFinish:function(n){o(Object(Z.b)(n)),o(Object($.h)(!0))}})]})},bn=function(n){var t=n.donHangNhapData,e=i.a.useState({}),o=Object(a.a)(e,2),c=o[0],l=o[1],r=Object(V.useForm)(),d=Object(a.a)(r,1)[0];i.a.useEffect((function(){l((null===t||void 0===t?void 0:t.chiTietDonHangs)||{})}),[t]);var u=i.a.useMemo((function(){return c?Object.values(c).map((function(n){var t=n.soLuongThuc,e=void 0===t?0:t,a=n.giaNhapMatHang,o=void 0===a?0:a,i=Math.round(e*o);return Object(b.a)(Object(b.a)({},n),{},{thanhTien:i})})).reduce((function(n,t){return Object(b.a)(Object(b.a)({},n),{},Object(w.a)({},t.id,t))}),{}):{}}),[c]);return Object(x.b)(x.a,{children:Object(x.b)(m.a,{onCallbackDataSource:function(n){var t=n.map((function(n,t){var e=Object(s.xoaDauVietNam)(n.tenMatHang);return Object(b.a)(Object(b.a)({},n),{},{index:t,searchName:e})}));return Object(tn.orderBy)(t,"searchName")},constants:en,datas:u,form:d,pageSize:50})})},sn=e(366),gn=e(823),hn=e(800),fn=d.c.danhSachDHNModal;t.default=function(){var n,t,e=Object(c.b)(),o=Object(r.u)(),b=Object(c.c)((function(n){return n.danhSachDHN})),g=b.tabsData,h=b.loading,O=b.pageSize,v=b.danhSachDHNs,j=Object(c.c)((function(n){return n.table})).selectedRows,p=Object(c.c)((function(n){var t;return null===(t=n.tagsPage)||void 0===t?void 0:t[fn]})),S=Object(s.useDatePicker)(),H=Object(a.a)(S,2),N=H[0],w=H[1],I=Object(c.c)((function(n){return n.account})).accountData,F=null===I||void 0===I||null===(n=I.paths)||void 0===n||null===(t=n.danhSachDHN)||void 0===t?void 0:t.edit,E=Object(M.a)({Instance:y,onPending:T.f,addSelectedId:T.a,onDelete:T.e,isEdit:F});return i.a.useEffect((function(){return e(Object(T.d)(N)),function(){Object(z.j)("danhSachDHM")}}),[N]),Object(x.c)("div",{className:"danhSachDHN-page",css:u.a,children:[Object(x.b)(l.b,{className:"tabs",options:g,activeKey:p?"aside":"",onTabClick:function(n){if("add"===n){if(!F)return Object(k.l)();o(D)}else if("aside"===n)e(Object(s.toggleAside)({tagPageId:fn}));else if("print"===n)e(Object(s.openModal)({modalId:d.d.inDonHang}));else if("taiExcel"===n){var t,a=null===j||void 0===j||null===(t=j[fn])||void 0===t?void 0:t[0],i=null===a||void 0===a?void 0:a.chiTietDonHangs;e(Object(s.downloadExcel)({tableId:fn,constants:gn.a,fileSheet:a.id,fileName:"Don Hang Nhap ".concat(null===a||void 0===a?void 0:a.tenNhaCungCap,"_Ngay Giao ").concat(null===a||void 0===a?void 0:a.ngayGiao),dataSource:Object(sn.a)("tenMatHang",Object.values(i||{}))}))}}}),Object(x.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[p&&Object(x.b)(C,{dateTimePicker:w}),Object(x.b)("div",{className:"aside-main",children:Object(x.b)(m.a,{constants:f,actions:E,datas:v,loading:h,modalId:fn,isEdit:F,expandable:{expandedRowRender:function(n){return Object(x.b)(bn,{donHangNhapData:n})}},isSelection:!0,pagination:!0,pageSize:O,onChange:function(n){return e(Object(T.h)(n.pageSize))},summary:function(n){return Object(x.b)(L,{pageData:n})},rowClassName:function(n){return n.trangThaiId===d.g.daHuy.trangThaiId?"bg-danger":n.trangThaiId===d.g.chuaNhan.trangThaiId?"bg-gold-light":""}})})]}),Object(x.b)(un,{}),Object(x.b)(s.PrintModal,{modalId:d.d.inDonHang,title:"In \u0110\u01a1n \u0110\u1eb7t H\xe0ng",onPrint:function(n){var t=(null===j||void 0===j?void 0:j[fn])||[];if(0===t.length)return Object(k.h)("Ch\u01b0a ch\u1ecdn \u0111\u01a1n h\xe0ng!");if(t.length>1)return Object(k.h)("Ch\u1ec9 ch\u1ecdn m\u1ed9t \u0111\u01a1n h\xe0ng!");var a=null===t||void 0===t?void 0:t[0];e(Object(hn.a)(a,n))}})]})}},719:function(n,t,e){"use strict";e(0);var a=e(474),o=e(25),i=a.a.Summary,c=i.Row,l=i.Cell;t.a=function(n){var t,e=n.columns,a=n.dataSource;return Object(o.b)(c,{children:null===e||void 0===e||null===(t=e.map)||void 0===t?void 0:t.call(e,(function(n,t){var e=null===n||void 0===n?void 0:n.id,i=(null===n||void 0===n?void 0:n.colSpan)||0,c=(null===n||void 0===n?void 0:n.cellClassName)||"",r=(null===n||void 0===n?void 0:n.valueStyle)||{},d=(null===n||void 0===n?void 0:n.valueClassName)||"",u=null===n||void 0===n?void 0:n.render,b=(null===a||void 0===a?void 0:a[t])||{},s=(null===b||void 0===b?void 0:b[e])||"";return u&&(s=u(s,b,t)),Object(o.b)(l,{index:t,colSpan:i,className:c,children:Object(o.b)("div",{style:r,className:d,children:s})},e)}))})}},728:function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));e(0);var a=e(7),o=e(72),i=e(25),c={soLuong:{id:"soLuong",name:"S\u1ed1 l\u01b0\u1ee3ng",width:100,className:"text-small font-weight-bold",align:"right",form:{type:"input-number-format"}},soLuongThuc:{id:"soLuongThuc",name:"SL nh\u1eadn",width:100,className:"text-small font-weight-bold",align:"right",form:{type:"input-number-format"}},thanhTien:{id:"thanhTien",name:"Th\xe0nh ti\u1ec1n",width:100,className:"text-small font-weight-bold",align:"right",render:a.numberRender},thanhTienSauVAT:{id:"thanhTienSauVAT",name:"Th\xe0nh ti\u1ec1n",width:100,className:"text-small font-weight-bold",align:"right",render:a.numberRender},ghiChu:{id:"ghiChu",name:"Ghi ch\xfa",width:100,className:"text-small",form:{type:"text-area"},render:function(n,t,e,a){var c,l=(null===a||void 0===a||null===(c=a.inputOptions)||void 0===c?void 0:c.openEditGhiChu)||o.noop;return Object(i.b)("div",{className:"hoverClassBG",onClick:function(){return l(t)},children:n||"--"})}},getTableColumns:function(){return[]},getInputFields:function(){return[]}}},736:function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));e(0);var a=e(7),o=e(226),i=e(25);function c(n){var t=n.name,e=n.label,c=n.rules,l=n.disabled;return Object(i.b)(a.MyFormItem,{name:t,label:e,rules:c,children:Object(i.b)(o.a,{disabled:l,style:{width:"100%"}})})}},765:function(n,t,e){"use strict";var a=e(8),o=e(20),i=e(0),c=e.n(i),l=e(59),r=e(110),d=e(7),u=e(56),b=e(756),s=e(55),g=e(64),h=e(72),f=e(366),m=e(25);t.a=function(n){var t,e,i=n.form,O=n.name,v=n.mode,j=n.label,p=n.labelCol,S=n.wrapperCol,y=n.rules,M=n.isEdit,T=n.isAddNew,H=n.onAfterSelect,N=n.onAfterAddFinish,x=n.disabled,C=n.matHangFilters,k=n.loaiTruMatHangs,z=n.defaultValues,D=Object(u.b)(),w=Object(u.c)((function(n){return n.dsMatHang})).dsMatHangs,I=Object(u.c)((function(n){return n.account})).accountData,F=(null===I||void 0===I||null===(t=I.paths)||void 0===t||null===(e=t.matHang)||void 0===e?void 0:e.edit)||M,L=c.a.useMemo((function(){var n=Object.values(w);return Object.values(z||{}).length>0&&(n=Object.values(z).reduce((function(n,t){var e=t.id,i=(null===w||void 0===w?void 0:w[e])||{};return[].concat(Object(o.a)(n),[Object(a.a)(Object(a.a)({},i),t)])}),[])),C&&(n=Object(h.filter)(n,C)),Object.values(k||{}).length>0&&(n=n.reduce((function(n,t){return(null===k||void 0===k?void 0:k[null===t||void 0===t?void 0:t.id])?n:[].concat(Object(o.a)(n),[t])}),[])),n=(n=Object(f.a)("tenMatHang",n)).filter((function(n){return n.active})).map((function(n){var t="".concat(n.tenMatHang," - ").concat(null===n||void 0===n?void 0:n.tenDonViTinh," - ").concat(null===n||void 0===n?void 0:n.tenNhomMatHang);return{value:n.id,label:t}})),n}),[w,k,z]),E=Object(m.b)(d.MyFormItem,{label:j||"M\u1eb7t h\xe0ng",type:"select",name:O||"matHangId",innerProps:{autoFocus:!0,mode:v,showSearch:!0,allowClear:!0,filterOption:d.onSelectSearch,onChange:function(n){var t=null===w||void 0===w?void 0:w[n];null===H||void 0===H||H(n,t)},disabled:x,notFoundContent:F?Object(m.b)("div",{children:T?Object(m.b)(l.a,{icon:Object(m.b)(s.a,{}),type:"primary",onClick:function(){return D(Object(d.openModal)({modalId:g.c.dsMatHangModal}))},children:"Th\xeam"}):null}):Object(m.b)(r.a,{})},options:L,rules:y||[]});return i?Object(m.c)(m.a,{children:[Object(m.b)(d.MyForm,{form:i,labelCol:p||{span:8},wrapperCol:S||{span:16},children:E}),F&&Object(m.b)(b.a,{onAfterAddFinish:function(n){i.setFieldsValue({matHangId:n})}})]}):Object(m.c)(m.a,{children:[E,F&&Object(m.b)(b.a,{onAfterAddFinish:function(n){function t(t,e){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}((function(n,t){null===N||void 0===N||N(n,t)}))})]})}},767:function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var a={diaChiKhachHangDonHangStyle:{fontSize:9,color:"black",margin:[5,5,5,15]},congTyTextStyle:{fontSize:13,margin:[0,0,0,2],color:"black"},logoStyle:{margin:[0,0,0,0]},headerStyle:{margin:[0,0,0,1]},subHeaderStyle:{margin:[0,15,0,0]},subheader:{fontSize:16,bold:!0,margin:[0,10,0,5]},sub10header:{fontSize:10,bold:!0,margin:[0,2,0,2]},sub8header:{fontSize:8,bold:!0,margin:[0,2,0,2]},sub11header:{fontSize:11,bold:!0,margin:[0,5,0,5]},marginBottom10:{margin:[0,0,0,10]},tableExample:{margin:[0,5,0,15]},tableHeader8:{bold:!0,fontSize:8,color:"black",margin:[1,1,1,1]},tableHeader:{bold:!0,fontSize:9,color:"black",margin:[1,1,1,1]},tableHeaderLightBlue:{bold:!0,fontSize:9,color:"black",margin:[1,1,1,1]},textTable:{fontSize:8,color:"black"},textTable8:{fontSize:8,color:"black"},textTable9:{fontSize:9,color:"black"},textTable9Bold:{fontSize:9,bold:!0,color:"black"},textTable9DonDatHang:{fontSize:9,color:"black",margin:[0,1,0,1]},textTable9BoldDonDatHang:{fontSize:9,bold:!0,color:"black",margin:[0,1,0,1]},textTable8BoldDonDatHang:{fontSize:8,bold:!0,color:"black",margin:[0,1,0,1]},textTable11BoldDonDatHang:{fontSize:11,bold:!0,color:"black"},fontSize13BoldTitle:{fontSize:14,color:"red",margin:[0,5,0,15],bold:!0},fontSize13BoldDonDatHang:{fontSize:9,margin:[0,15,0,5],bold:!0},textTable10Bold:{fontSize:10,bold:!0,color:"black"},nameRecipeTable:{fontSize:9,bold:!0,color:"black"},kindRecipeTable:{fontSize:10,color:"red",bold:!0},textStyle:{fontSize:10,margin:[0,0,0,2],color:"black"},shiftStyle:{fontSize:11,margin:[0,0,0,2],color:"black"},thueVAT:{bold:!0,fontSize:9,color:"red",margin:[10,10,0,0]},ghiChuKhachHang:{bold:!0,fontSize:9,margin:[10,10,10,5]},nguoiNhanHangStyle:{bold:!0,fontSize:10,color:"black",margin:[0,10,0,0]},columnsStyle:{margin:[0,10,0,10]},lineStyle:{backgroundColor:"black"},donDatHangStyle:{color:"red",margin:[0,10,0,0],fontSize:13},lien1GiaoKhachHangStyle:{margin:[16,2,0,0],fontSize:10},lien2LuuHanhNoiBoStyle:{margin:[40,2,0,0],fontSize:10},nguoiThietKe:{bold:!0,fontSize:11,color:"black",margin:[30,10,0,0]},ngayThangNam:{fontSize:11,color:"black",margin:[0,10,0,0]},bold8:{fontSize:8,bold:!0,color:"black",margin:[0,0,5,0]},bold11:{fontSize:11,bold:!0,color:"black",margin:[0,0,10,0]},bold14:{fontSize:14,bold:!0,color:"black",margin:[20,20,20,0]},bold15:{fontSize:15,bold:!0,color:"black",margin:[20,20,20,0]},bold16:{fontSize:16,bold:!0,color:"black",margin:[20,20,20,0]},bold20:{fontSize:20,bold:!0,color:"black",margin:[20,20,20,0]},fontSize6:{fontSize:6,color:"black"},fontSize8:{fontSize:8,color:"black",margin:[2,2,2,2]},fontSize9:{fontSize:9,color:"black",margin:[2,2,2,2]},fontSize8Margin5:{fontSize:8,color:"black",margin:[5,5,5,5]},fontSize9Top20:{fontSize:9,color:"black",margin:[2,15,2,2]},fontSize9Bottom20:{fontSize:9,color:"black",margin:[2,2,2,15]},fontSize9Margin5:{fontSize:9,color:"black",margin:[5,5,5,5]},fontSize10Margin5:{fontSize:10,color:"black",margin:[5,5,5,5]},fontSize8MarginBottom20:{fontSize:8,color:"black",margin:[5,5,5,30]},nguoiGiaoNhan:{fontSize:13,color:"black",bold:!0,margin:[0,15,0,0]},marginTop:{margin:[0,15,0,0]}}},783:function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));var a=e(20),o=e(72);function i(n){var t=["STT","T\xean kh\xe1ch h\xe0ng","Ghi ch\xfa"].map((function(n){return{text:n,style:"tableHeader",fillColor:"lightblue",alignment:"center"}})),e=Object(o.orderBy)(n).map((function(n,t){return[{text:t+1,style:"textTable9",alignment:"center"},{text:n||"",style:"textTable9",bold:!0},{text:"",style:"textTable9"}]}));return{layout:"lightHorizontalLines",headerRows:1,dontBreakRows:!0,widths:[20,140,"*"],body:[t].concat(Object(a.a)(e))}}},800:function(n,t,e){"use strict";e.d(t,"a",(function(){return f}));var a=e(20),o=e(5),i=e.n(o),c=e(9),l=e(31),r=e.n(l),d=e(7),u=e(781),b=e(782),s=e(767),g=e(366),h=e(783);function f(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"A5";return function(){var e=Object(c.a)(i.a.mark((function e(a){var o,c,l,g,f,O,j,p,S,y,M,T,H,N;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.vfs=b.pdfMake.vfs,o=n.donHangId,c=n.tenNhaCungCap,l=n.ngayGiao,g=n.tenKhachHangs,f=r()(l,"L"),O=m,j=v,p=a(Object(d.getTimestamp)({})),S=p.updatedAtString,y=p.updatedBy,M="Th\u1eddi gian in: ".concat(S," ").concat(y),T=[O(),{style:"subHeaderStyle",columns:[{text:"Ng\xe0y giao: ".concat(f.format("DD.MM.YYYY")),style:"fontSize9Margin5",bold:!0},{text:"M\xe3 H\u0110: ".concat(o||""),style:"fontSize9Margin5",bold:!0},{text:"T\xean NCC: ".concat(c||""),style:"fontSize9Margin5",bold:!0},{text:M,style:"fontSize9Margin5",alignment:"right",bold:!0}]},{table:j(n)},{text:"",style:"marginTop"},g?{table:Object(h.a)(g)}:"",{style:"subHeaderStyle",columns:[{text:"Ng\u01b0\u1eddi giao",style:"fontSize10Margin5",bold:!0,alignment:"center"},{text:"Ng\u01b0\u1eddi nh\u1eadn h\xe0ng",style:"fontSize10Margin5",bold:!0,alignment:"center"}]}],H={pageSize:t,pageOrientation:"portal",pageMargins:[20,20,20,20],content:T,styles:s.a},N=window.open("","_blank"),u.createPdf(H).open({},N);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}function m(){return{style:"",columnGap:5,columns:[[{text:"Th\u1ef1c Ph\u1ea9m T\u01b0 B\u1ed1n".toUpperCase(),style:"bold11",bold:!0,alignment:"left",width:100},{text:"S\u1ed1 15 Nguy\u1ec5n Tri Ph\u01b0\u01a1ng, Ph\xfa Th\u1ecd, Ph\xfa Ch\xe1nh",style:"fontSize8",alignment:"left",width:100},{text:"TX T\xe2n Uy\xean, B\xecnh D\u01b0\u01a1ng",style:"fontSize8",alignment:"left",width:100},{text:"\u0110T: 0981.310.247",style:"fontSize8",alignment:"left",width:100},{text:"Website: thucphamtubon.com",style:"fontSize8",alignment:"left",width:100}],{text:"Phi\u1ebfu Ki\u1ec3m H\xe0ng".toUpperCase(),style:"bold20",bold:!0,alignment:"left"},{text:"",width:40}]}}function O(n){var t=[],e=Object.values(n.chiTietDonHangs||{});return(e=Object(g.a)("tenMatHang",e)).forEach((function(n,e){t.push([{text:e+1,style:"textTable9",alignment:"center"},{text:n.tenMatHang||"",style:"textTable9",bold:!0},{text:n.tenDonViTinh,style:"textTable9",alignment:"center"},{text:n.soLuongThuc||"",style:"textTable9",alignment:"right",bold:!0},{text:"",style:"textTable9",alignment:"right"},{text:"",style:"textTable9"}])})),t}function v(n){return{layout:"lightHorizontalLines",headerRows:1,dontBreakRows:!0,widths:[20,140,50,50,75,"*"],body:[["STT","T\xean m\u1eb7t h\xe0ng","\u0110VT","S\u1ed1 l\u01b0\u1ee3ng","SL th\u1ef1c nh\u1eadn","Ghi ch\xfa"].map((function(n){return{text:n,style:"tableHeader",fillColor:"lightblue",alignment:"center"}}))].concat(Object(a.a)(O(n)))}}},821:function(n,t,e){"use strict";var a=e(5),o=e.n(a),i=e(8),c=e(9),l=e(40),r=e(0),d=e.n(r),u=e(7),b=e(333),s=e(504),g=e(477),h=e(59),f=e(64),m=e(56),O=e(25),v=f.c.openEditSoLuongThuc;t.a=function(n){var t=n.dataSource,e=n.onOk,a=Object(m.c)((function(n){return n.form})),f=a.modal,j=a.datas,p=null===j||void 0===j?void 0:j[v],S=Object(m.b)(),y=Object(r.useRef)(null),M=Object(b.useForm)(),T=Object(l.a)(M,1)[0];d.a.useEffect((function(){T.setFieldsValue(p),(null===y||void 0===y?void 0:y.current)&&y.current.focus()}),[p]);var H=d.a.useMemo((function(){var n;return!!(null===f||void 0===f||null===(n=f[v])||void 0===n?void 0:n.open)}),[f[v]]);function N(){return x.apply(this,arguments)}function x(){return(x=Object(c.a)(o.a.mark((function n(){var a,c,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.validateFields();case 2:a=n.sent,c=a.soLuongThuc,null===e||void 0===e||e(Object(i.a)(Object(i.a)({},p),{},{soLuongThuc:c})),(l=null===t||void 0===t?void 0:t[(null===p||void 0===p?void 0:p.index)+1])?(T.resetFields(),S(Object(u.openModal)({modalId:v,data:l}))):S(Object(u.closeModal)({modalId:v}));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(O.b)(u.MyModal,{title:Object(O.c)("div",{children:["S\u1ed1 L\u01b0\u1ee3ng Th\u1ef1c - ",(null===p||void 0===p?void 0:p.tenMatHang)||""]}),visible:H,width:700,modalId:v,datas:j,onOkModal:N,onClose:function(){return S(Object(u.closeModal)({modalId:v}))},children:Object(O.c)(u.MyForm,{form:T,labelCol:{span:8},wrapperCol:{span:16},children:[Object(O.b)(u.MyFormItem,{name:"soLuongThuc",label:"S\u1ed1 l\u01b0\u1ee3ng th\u1ef1c:",children:Object(O.b)(g.a,{ref:y,min:0,style:{width:"100%"},onPressEnter:N,autoFocus:!0})}),Object(O.b)(u.MyFormItem,{label:"Ch\u1ee9c n\u0103ng",children:Object(O.b)(h.a,{type:"primary",onClick:N,icon:Object(O.b)(s.a,{}),children:"L\u01b0u"})})]})})}},822:function(n,t,e){"use strict";var a=e(5),o=e.n(a),i=e(9),c=e(40),l=e(0),r=e.n(l),d=e(7),u=e(56),b=e(475),s=e(477),g=e(64),h=e(765),f=e(25);t.a=function(n){var t=n.onAfterAddFinish,e=n.soLuongName,a=n.giaMatHangName,l=n.matHangFilters,m=n.notAutoCloseAfterOk,O=n.loaiTruMatHangs,v=n.defaultValues,j=n.soLuongLabel,p=n.giaMatHangLabel,S=n.modalId,y=b.a.useForm(),M=Object(c.a)(y,1)[0];j=j||"S\u1ed1 l\u01b0\u1ee3ng",p=p||"Gi\xe1 m\u1eb7t h\xe0ng",S=S||g.c.openAddMatHangSoLuongModal;var T=Object(u.b)(),H=Object(u.c)((function(n){return n.form})),N=H.modal,x=H.datas,C=r.a.useMemo((function(){var n;return!!(null===N||void 0===N||null===(n=N[S])||void 0===n?void 0:n.open)}),[N[S]]);function k(){return z.apply(this,arguments)}function z(){return(z=Object(i.a)(o.a.mark((function n(){var e;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.validateFields();case 2:e=n.sent,null===t||void 0===t||t(e),m||T(Object(d.closeModal)({modalId:S})),M.resetFields();case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(f.b)(d.MyModal,{title:Object(f.b)("div",{children:"Th\xeam M\u1eb7t H\xe0ng"}),visible:C,onClose:function(){T(Object(d.closeModal)({modalId:S})),M.resetFields()},onOkModal:k,width:700,modalId:S,datas:x,children:Object(f.c)(d.MyForm,{form:M,children:[Object(f.b)(h.a,{defaultValues:v,loaiTruMatHangs:O,matHangFilters:l,rules:[{required:!0}],isAddNew:!0,onAfterAddFinish:function(n){M.setFieldsValue({matHangId:n})}}),Object(f.b)(d.MyFormItem,{name:e,label:j,children:Object(f.b)(s.a,{style:{width:"100%"},onPressEnter:k})}),a?Object(f.b)(d.MyFormItem,{name:a,label:p,children:Object(f.b)(s.a,{style:{width:"100%"},onPressEnter:k})}):null]})})}},823:function(n,t,e){"use strict";e.d(t,"a",(function(){return b}));var a=e(8),o=(e(0),e(7)),i=e(477),c=e(159),l=e(123),r=e(216),d=e(728),u=e(25),b={getTableColumns:function(){return[Object(a.a)(Object(a.a)({},o.constants.stt),{},{fixed:!1}),Object(a.a)(Object(a.a)({},r.a.tenMatHang),{},{width:120,fixed:!1}),Object(a.a)(Object(a.a)({},c.a.tenNhomMatHang),{},{align:"center"}),Object(a.a)(Object(a.a)({},d.a.soLuong),{},{render:function(n,t,e,a){var o=a.onBlur;return Object(u.b)(i.a,{value:n||"",size:"small",name:"".concat(t.id,".soLuong"),onBlur:o,min:0})}}),Object(a.a)(Object(a.a)({},l.a.tenDonViTinh),{},{align:"center"}),r.a.giaNhapMatHang]},getInputFields:function(){return[]},getExcelFields:function(){return[o.constants.stt,r.a.tenMatHang,c.a.tenNhomMatHang,d.a.soLuongThuc,l.a.tenDonViTinh,r.a.giaNhapMatHang]}}}}]);
(this["webpackJsonptu-bon"]=this["webpackJsonptu-bon"]||[]).push([[19],{730:function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));e(0);var a=e(7),o=e(186),i=e(25);function c(t){var n=t.name,e=t.label,c=t.onPressEnter,l=t.rules,r=t.disabled;return Object(i.b)(a.MyFormItem,{name:n,label:e,rules:l,children:Object(i.b)(o.a,{disabled:r,onPressEnter:c})})}},740:function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));e(0);var a=e(7),o=e(221),i=e(25);function c(t){var n=t.name,e=t.label,c=t.rules,l=t.disabled;return Object(i.b)(a.MyFormItem,{name:n,label:e,rules:c,children:Object(i.b)(o.a,{disabled:l,style:{width:"100%"}})})}},746:function(t,n,e){"use strict";var a=e(8),o=e(21),i=e(0),c=e.n(i),l=e(59),r=e(109),d=e(7),u=e(55),b=e(738),s=e(57),g=e(64),h=e(72),f=e(361),m=e(25);n.a=function(t){var n,e,i=t.form,O=t.name,j=t.mode,p=t.label,v=t.labelCol,S=t.wrapperCol,y=t.rules,H=t.isEdit,T=t.isAddNew,x=t.onAfterSelect,M=t.onAfterAddFinish,w=t.disabled,z=t.matHangFilters,D=t.loaiTruMatHangs,C=t.defaultValues,k=Object(u.b)(),N=Object(u.c)((function(t){return t.dsMatHang})).dsMatHangs,I=Object(u.c)((function(t){return t.account})).accountData,P=(null===I||void 0===I||null===(n=I.paths)||void 0===n||null===(e=n.matHang)||void 0===e?void 0:e.edit)||H,B=c.a.useMemo((function(){var t=Object.values(N);return Object.values(C||{}).length>0&&(t=Object.values(C).reduce((function(t,n){var e=n.id,i=(null===N||void 0===N?void 0:N[e])||{};return[].concat(Object(o.a)(t),[Object(a.a)(Object(a.a)({},i),n)])}),[])),z&&(t=Object(h.filter)(t,z)),Object.values(D||{}).length>0&&(t=t.reduce((function(t,n){return(null===D||void 0===D?void 0:D[null===n||void 0===n?void 0:n.id])?t:[].concat(Object(o.a)(t),[n])}),[])),t=(t=Object(f.a)("tenMatHang",t)).filter((function(t){return t.active})).map((function(t){var n="".concat(t.tenMatHang," - ").concat(null===t||void 0===t?void 0:t.tenDonViTinh," - ").concat(null===t||void 0===t?void 0:t.tenNhomMatHang);return{value:t.id,label:n}})),t}),[N,D,C]),L=Object(m.b)(d.MyFormItem,{label:p||"M\u1eb7t h\xe0ng",type:"select",name:O||"matHangId",innerProps:{autoFocus:!0,mode:j,showSearch:!0,allowClear:!0,filterOption:d.onSelectSearch,onChange:function(t){var n=null===N||void 0===N?void 0:N[t];null===x||void 0===x||x(t,n)},disabled:w,notFoundContent:P?Object(m.b)("div",{children:T?Object(m.b)(l.a,{icon:Object(m.b)(s.a,{}),type:"primary",onClick:function(){return k(Object(d.openModal)({modalId:g.c.dsMatHangModal}))},children:"Th\xeam"}):null}):Object(m.b)(r.a,{})},options:B,rules:y||[]});return i?Object(m.c)(m.a,{children:[Object(m.b)(d.MyForm,{form:i,labelCol:v||{span:8},wrapperCol:S||{span:16},children:L}),P&&Object(m.b)(b.a,{onAfterAddFinish:function(t){i.setFieldsValue({matHangId:t})}})]}):Object(m.c)(m.a,{children:[L,P&&Object(m.b)(b.a,{onAfterAddFinish:function(t){function n(n,e){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(t,n){null===M||void 0===M||M(t,n)}))})]})}},747:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var a={diaChiKhachHangDonHangStyle:{fontSize:9,color:"black",margin:[5,5,5,15]},congTyTextStyle:{fontSize:13,margin:[0,0,0,2],color:"black"},logoStyle:{margin:[0,0,0,0]},headerStyle:{margin:[0,0,0,1]},subHeaderStyle:{margin:[0,15,0,0]},subheader:{fontSize:16,bold:!0,margin:[0,10,0,5]},sub10header:{fontSize:10,bold:!0,margin:[0,2,0,2]},sub8header:{fontSize:8,bold:!0,margin:[0,2,0,2]},sub11header:{fontSize:11,bold:!0,margin:[0,5,0,5]},marginBottom10:{margin:[0,0,0,10]},tableExample:{margin:[0,5,0,15]},tableHeader8:{bold:!0,fontSize:8,color:"black",margin:[1,1,1,1]},tableHeader:{bold:!0,fontSize:9,color:"black",margin:[1,1,1,1]},tableHeaderLightBlue:{bold:!0,fontSize:9,color:"black",margin:[1,1,1,1]},textTable:{fontSize:8,color:"black"},textTable8:{fontSize:8,color:"black"},textTable9:{fontSize:9,color:"black"},textTable9Bold:{fontSize:9,bold:!0,color:"black"},textTable9DonDatHang:{fontSize:9,color:"black",margin:[0,1,0,1]},textTable9BoldDonDatHang:{fontSize:9,bold:!0,color:"black",margin:[0,1,0,1]},textTable8BoldDonDatHang:{fontSize:8,bold:!0,color:"black",margin:[0,1,0,1]},textTable11BoldDonDatHang:{fontSize:11,bold:!0,color:"black"},fontSize13BoldTitle:{fontSize:14,color:"red",margin:[0,5,0,15],bold:!0},fontSize13BoldDonDatHang:{fontSize:9,margin:[0,15,0,5],bold:!0},textTable10Bold:{fontSize:10,bold:!0,color:"black"},nameRecipeTable:{fontSize:9,bold:!0,color:"black"},kindRecipeTable:{fontSize:10,color:"red",bold:!0},textStyle:{fontSize:10,margin:[0,0,0,2],color:"black"},shiftStyle:{fontSize:11,margin:[0,0,0,2],color:"black"},thueVAT:{bold:!0,fontSize:9,color:"red",margin:[10,10,0,0]},ghiChuKhachHang:{bold:!0,fontSize:9,margin:[10,10,10,5]},nguoiNhanHangStyle:{bold:!0,fontSize:10,color:"black",margin:[0,10,0,0]},columnsStyle:{margin:[0,10,0,10]},lineStyle:{backgroundColor:"black"},donDatHangStyle:{color:"red",margin:[0,10,0,0],fontSize:13},lien1GiaoKhachHangStyle:{margin:[16,2,0,0],fontSize:10},lien2LuuHanhNoiBoStyle:{margin:[40,2,0,0],fontSize:10},nguoiThietKe:{bold:!0,fontSize:11,color:"black",margin:[30,10,0,0]},ngayThangNam:{fontSize:11,color:"black",margin:[0,10,0,0]},bold8:{fontSize:8,bold:!0,color:"black",margin:[0,0,5,0]},bold11:{fontSize:11,bold:!0,color:"black",margin:[0,0,10,0]},bold14:{fontSize:14,bold:!0,color:"black",margin:[20,20,20,0]},bold15:{fontSize:15,bold:!0,color:"black",margin:[20,20,20,0]},bold16:{fontSize:16,bold:!0,color:"black",margin:[20,20,20,0]},bold20:{fontSize:20,bold:!0,color:"black",margin:[20,20,20,0]},fontSize6:{fontSize:6,color:"black"},fontSize8:{fontSize:8,color:"black",margin:[2,2,2,2]},fontSize9:{fontSize:9,color:"black",margin:[2,2,2,2]},fontSize8Margin5:{fontSize:8,color:"black",margin:[5,5,5,5]},fontSize9Top20:{fontSize:9,color:"black",margin:[2,15,2,2]},fontSize9Bottom20:{fontSize:9,color:"black",margin:[2,2,2,15]},fontSize9Margin5:{fontSize:9,color:"black",margin:[5,5,5,5]},fontSize10Margin5:{fontSize:10,color:"black",margin:[5,5,5,5]},fontSize8MarginBottom20:{fontSize:8,color:"black",margin:[5,5,5,30]},nguoiGiaoNhan:{fontSize:13,color:"black",bold:!0,margin:[0,15,0,0]},marginTop:{margin:[0,15,0,0]}}},753:function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));e(0);var a=e(7),o=e(469),i=e(25);function c(t){var n=t.name,e=t.label,c=t.rules,l=t.disabled,r=t.onPressEnter;return Object(i.b)(a.MyFormItem,{name:n,label:e,rules:c,children:Object(i.b)(o.a,{disabled:l,style:{width:"100%"},onPressEnter:r})})}},758:function(t,n,e){"use strict";function a(t){var n=function(t){return document.getElementById(t)}(t);return null===n||void 0===n||n.focus(),n}e.d(n,"a",(function(){return a}))},762:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var a=e(8),o=e(7),i=e(211),c=e(123),l=e(158),r={tonDau:{id:"tonDau",name:"T\u1ed3n \u0111\u1ea7u",width:60,className:"text-small",align:"right"},nhap:{id:"nhap",name:"Nh\u1eadp",width:50,className:"text-small font-weight-bold text-danger",align:"right"},tongSoLuong:{id:"tongSoLuong",name:"T\u1ed5ng SL",width:65,className:"text-small font-weight-bold",align:"right"},xuat:{id:"xuat",name:"Xu\u1ea5t",width:50,className:"text-small font-weight-bold text-danger",align:"right"},tonCuoi:{id:"tonCuoi",name:"T\u1ed3n cu\u1ed1i",width:65,className:"text-small font-weight-bold",align:"right"},chiPhi:{id:"chiPhi",name:"Chi ph\xed",width:80,className:"text-small font-weight-bold",align:"right",render:o.numberRender},doanhThu:{id:"doanhThu",name:"Doanh thu",width:80,className:"text-small font-weight-bold",align:"right",render:o.numberRender},getTableColumns:function(){return[o.constants.stt,Object(a.a)(Object(a.a)({},i.a.tenMatHang),{},{width:130}),Object(a.a)(Object(a.a)({},l.a.tenNhomMatHang),{},{width:110}),Object(a.a)(Object(a.a)({},i.a.giaNhapMatHang),{},{width:70}),Object(a.a)(Object(a.a)({},i.a.giaBanMatHang),{},{width:70}),Object(a.a)(Object(a.a)({},c.a.tenDonViTinh),{},{width:90}),this.tonDau,this.nhap,this.tongSoLuong,this.xuat,this.tonCuoi,this.chiPhi,this.doanhThu]},getInputFields:function(){return[]},getExcelFields:function(){return[o.constants.stt,o.constants.id,Object(a.a)(Object(a.a)({},i.a.tenMatHang),{},{width:150}),l.a.tenNhomMatHang,i.a.giaNhapMatHang,i.a.giaBanMatHang,c.a.tenDonViTinh,this.tonDau,this.nhap,this.tongSoLuong,this.xuat,Object(a.a)(Object(a.a)({},this.tonCuoi),{},{name:"tonCuoi"}),this.chiPhi,this.doanhThu]}}},784:function(t,n,e){"use strict";e.d(n,"a",(function(){return h}));var a=e(21),o=e(5),i=e.n(o),c=e(10),l=e(32),r=e.n(l),d=e(7),u=e(759),b=e(760),s=e(747),g=e(361);function h(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"A5";return function(){var e=Object(c.a)(i.a.mark((function e(a){var o,c,l,g,h,m,j,p,v,S,y,H,T;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.vfs=b.pdfMake.vfs,o=t.donHangId,c=t.tenNhaCungCap,l=t.ngayGiao,g=r()(l,"L"),h=f,m=O,j=a(Object(d.getTimestamp)({})),p=j.updatedAtString,v=j.updatedBy,S="Th\u1eddi gian in: ".concat(p," ").concat(v),y=[h(),{style:"subHeaderStyle",columns:[{text:"M\xe3 H\u0110: ".concat(o||""),style:"fontSize9Margin5",bold:!0},{text:"T\xean NCC: ".concat(c||""),style:"fontSize9Margin5",bold:!0},{text:"Ng\xe0y giao: ".concat(g.format("DD.MM.YYYY")),style:"fontSize9Margin5",bold:!0},{text:S,style:"fontSize9Margin5",alignment:"right",bold:!0}]},{table:m(t)},{style:"subHeaderStyle",columns:[{text:"Ng\u01b0\u1eddi giao",style:"fontSize10Margin5",bold:!0,alignment:"center"},{text:"Ng\u01b0\u1eddi nh\u1eadn h\xe0ng",style:"fontSize10Margin5",bold:!0,alignment:"center"}]}],H={pageSize:n,pageOrientation:"portal",pageMargins:[20,20,20,20],content:y,styles:s.a},T=window.open("","_blank"),u.createPdf(H).open({},T);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function f(){return{style:"",columnGap:5,columns:[[{text:"Th\u1ef1c Ph\u1ea9m T\u01b0 B\u1ed1n".toUpperCase(),style:"bold11",bold:!0,alignment:"left",width:100},{text:"S\u1ed1 15 Nguy\u1ec5n Tri Ph\u01b0\u01a1ng, Ph\xfa Th\u1ecd, Ph\xfa Ch\xe1nh",style:"fontSize8",alignment:"left",width:100},{text:"TX T\xe2n Uy\xean, B\xecnh D\u01b0\u01a1ng",style:"fontSize8",alignment:"left",width:100},{text:"\u0110T: 0981.310.247",style:"fontSize8",alignment:"left",width:100},{text:"Website: thucphamtubon.com",style:"fontSize8",alignment:"left",width:100}],{text:"Phi\u1ebfu Ki\u1ec3m H\xe0ng".toUpperCase(),style:"bold20",bold:!0,alignment:"left"},{text:"",width:40}]}}function m(t){var n=[],e=Object.values(t.chiTietDonHangs||{});return(e=Object(g.a)("tenMatHang",e)).forEach((function(t,e){n.push([{text:e+1,style:"textTable9",alignment:"center"},{text:t.tenMatHang||"",style:"textTable9",bold:!0},{text:t.tenDonViTinh,style:"textTable9",alignment:"center"},{text:t.soLuongThuc||"",style:"textTable9",alignment:"center",bold:!0},{text:"",style:"textTable9",alignment:"right"},{text:"",style:"textTable9"}])})),n}function O(t){return{layout:"lightHorizontalLines",headerRows:1,dontBreakRows:!0,widths:[20,140,50,50,75,"*"],body:[["STT","T\xean m\u1eb7t h\xe0ng","\u0110VT","S\u1ed1 l\u01b0\u1ee3ng","SL th\u1ef1c nh\u1eadn","Ghi ch\xfa"].map((function(t){return{text:t,style:"tableHeader",fillColor:"lightblue",alignment:"center"}}))].concat(Object(a.a)(m(t)))}}},997:function(t,n,e){"use strict";e.r(n);var a=e(8),o=e(21),i=e(40),c=e(0),l=e.n(c),r=e(55),d=e(7),u=e(705),b=e(64),s=e(709),g=e(211),h=e(158),f=e(123),m=e(413),O={getTableColumns:function(){return[d.constants.stt,Object(a.a)({},g.a.tenMatHang),Object(a.a)(Object(a.a)({},h.a.tenNhomMatHang),{},{width:110}),Object(a.a)(Object(a.a)({},m.a.xuat),{},{name:"T\u1ed5ng b\xe1n",width:80}),Object(a.a)(Object(a.a)({},m.a.tonCuoi),{},{name:"T\u1ed3n kho"}),Object(a.a)({},f.a.tenDonViTinh)]},getInputFields:function(){return[]},getExcelFields:function(){return[d.constants.stt,d.constants.id,g.a.tenMatHang,h.a.tenNhomMatHang,Object(a.a)(Object(a.a)({},m.a.tonCuoi),{},{name:"soLuong"}),Object(a.a)({},f.a.tenDonViTinh)]}},j=e(707),p=e(12),v=e(18),S=e(19),y=function(t){Object(v.a)(e,t);var n=Object(S.a)(e);function e(){var t;Object(p.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))).pathDatas=["tongHopDonHang","datas"],t.pathDeleted=["tongHopDonHang","deleted"],t.initData={},t}return e}(d.AppClass),H=e(704),T=e(417),x=e(13),M=e(66),w=e(59),z=e(57),D=e(65),C=e(5),k=e.n(C),N=e(10),I=e(467),P=e(36),B=e(192),L=e(762),F={soLuong:{id:"soLuong",name:"S\u1ed1 l\u01b0\u1ee3ng ",width:100,className:"text-small font-weight-bold",align:"right",sorter:Object(d.sortByNumber)("soLuong"),render:Object(d.renderNumberInput)("SoLuong")},getTableColumns:function(){return[Object(a.a)(Object(a.a)({},d.constants.stt),{},{fixed:!1}),Object(a.a)(Object(a.a)({},g.a.tenMatHang),{},{fixed:!1}),h.a.tenNhomMatHang,this.soLuong,Object(a.a)(Object(a.a)({},f.a.tenDonViTinh),{},{className:"text-small",isSearch:!1,width:75}),L.a.tonCuoi,d.constants.deleteRowButton]},getInputFields:function(){return[d.constants.stt,d.constants.id,this.soLuong]},getExcelFields:function(){return[d.constants.active]}},E=e(746),A=e(753),R=e(730),V=e(758),Y=e(391),G=e(25),K=b.c.donHangNhapChiTietModal;var X=function(t){var n=Object(r.b)(),e=I.a.useForm(),o=Object(i.a)(e,1)[0],c=Object(r.c)((function(t){return t.form})),u=c.modal,b=c.datas,s=Object(r.c)((function(t){return t.donHangNhapChiTiet})).donHangNhapChiTiets,g=l.a.useMemo((function(){var t;return!!(null===u||void 0===u||null===(t=u[K])||void 0===t?void 0:t.open)}),[u[K]]),h=null===b||void 0===b?void 0:b[K];function f(){return m.apply(this,arguments)}function m(){return(m=Object(N.a)(k.a.mark((function t(){var e,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.validateFields();case 2:e=t.sent,i=Object(a.a)(Object(a.a)({},h),e),n(Object(Y.d)({convertedData:i})),Object(V.a)("matHangId"),o.resetFields(),Object(P.h)();case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return l.a.useEffect((function(){g||o.resetFields()}),[g]),l.a.useEffect((function(){o.setFieldsValue(h)}),[h]),Object(G.b)(d.MyModal,{title:Object(G.b)("div",{children:"M\u1eb7t H\xe0ng"}),visible:g,onClose:function(){n(Object(d.closeModal)({modalId:K}))},onOkModal:f,width:900,modalId:K,datas:b,children:Object(G.c)(d.MyForm,{form:o,labelCol:{span:8},wrapperCol:{span:16},children:[Object(G.b)(R.a,{name:"id",label:"id",disabled:!0}),Object(G.b)(E.a,{isAddNew:!0,loaiTruMatHangs:s,rules:[{required:!0}],onAfterSelect:function(t,e){n(Object(d.openModal)({modalId:K,data:e}))}}),Object(G.b)(A.a,{name:"soLuong",label:"S\u1ed1 l\u01b0\u1ee3ng",onPressEnter:f}),Object(G.b)(R.a,{name:"tenDonViTinh",label:"\u0110\u01a1n v\u1ecb t\xednh",disabled:!0})]})})};function U(t){return window.confirm(t||"X\xe1c nh\u1eadn?")}var q=b.c.donHangNhapChiTietModal;var J=function(t){var n=t.loading,e=Object(r.b)(),a=Object(r.c)((function(t){return t.donHangNhapChiTiet})).donHangNhapChiTiets,o=Object(r.c)((function(t){return t.table})).selectedRows,i=l.a.useMemo((function(){return Object(d.onCallbackDataSource)("tenMatHang",Object.values(a||{}))}),[a]);return Object(G.c)("div",{className:"donHangNhapChiTiet-page",css:s.a,children:[Object(G.c)("div",{style:{marginBottom:"7px"},children:[Object(G.b)(w.a,{icon:Object(G.b)(z.a,{}),type:"primary",onClick:function(){e(Object(d.openModal)({modalId:q}))},children:"Th\xeam m\u1eb7t h\xe0ng"}),Object(G.b)(w.a,{icon:Object(G.b)(B.a,{}),type:"dashed",danger:!0,onClick:function(){var t=(null===o||void 0===o?void 0:o[q])||[];if(0===t.length)return Object(P.g)("Ch\u01b0a ch\u1ecdn m\u1eb7t h\xe0ng!");U("X\xe1c nh\u1eadn x\xf3a m\u1eb7t h\xe0ng \u0111\xe3 ch\u1ecdn?")&&(e(Object(Y.c)({donHangNhapChiTietDataArray:t})),e(Object(d.onChangeSelectedRowKeys)({tableId:q,selectedRowKeys:[],selectedRows:[]})))},children:"X\xf3a m\u1eb7t h\xe0ng \u0111\xe3 ch\u1ecdn"})]}),Object(G.b)(j.a,{loading:n,isEdit:!0,constants:F,onCallbackDataSource:function(t){return Object(d.onCallbackDataSource)("tenMatHang",t)},datas:a,modalId:q,isSelection:!0,pagination:!1,expandable:{expandedRowRender:function(t){return Object(G.b)("div",{children:t.id})},expandRowByClick:!1},rowClassName:function(t){return(null===t||void 0===t?void 0:t.matHangConThieu)?"bg-blue-light":""},inputOptions:{onDelete:function(t){e(Object(Y.b)(t))},openEditSoLuong:function(t){e(Object(d.openModal)({modalId:b.c.openEditSoLuong,data:t}))}}}),Object(G.b)(X,{}),Object(G.b)(d.SoLuongInputModal,{modalId:b.c.openEditSoLuong,soLuongName:"soLuong",dataSource:i,onOk:function(t){e(Object(Y.d)({convertedData:t}))}})]})},W=e(740),_=e(779),Q=e(240),Z=e(720),$=e(362),tt=e(784),nt=b.c.taoDonHangNhapModal;var et=function(t){var n,e,o=t.defaultFieldsValue,c=Object(r.b)(),u=I.a.useForm(),b=Object(i.a)(u,1)[0],s=Object(r.c)((function(t){return t.donHangNhapChiTiet})),g=s.donHangNhapChiTietDirty,h=s.donHangNhapChiTiets,f=Object(r.c)((function(t){return t.taoDonHangNhap})).loading,m=Object(r.c)((function(t){return t.form})),O=m.modal,j=m.datas,p=null===j||void 0===j?void 0:j[nt],v=Object(r.c)((function(t){return t.account})).accountData,S=null===v||void 0===v||null===(n=v.paths)||void 0===n||null===(e=n.danhSachNhanHang)||void 0===e?void 0:e.edit,y=l.a.useMemo((function(){var t;return!!(null===O||void 0===O||null===(t=O[nt])||void 0===t?void 0:t.open)}),[O[nt]]);function H(){return(H=Object(N.a)(k.a.mark((function t(){var n,e,o,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S){t.next=2;break}return t.abrupt("return",Object(P.k)());case 2:if(U("X\xe1c nh\u1eadn t\u1ea1o \u0111\u01a1n h\xe0ng?")){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,b.validateFields();case 6:return n=t.sent,e=Object(d.convertMomentToString)([Z.a.ngayGiao],n),t.next=10,c(Object($.c)(e));case 10:return e=t.sent,o=Object(a.a)(Object(a.a)({},e),{},{chiTietDonHangs:h}),t.next=14,c(Object(Q.c)(o));case 14:return i=t.sent,t.next=17,c(Object(tt.a)(i,"A4"));case 17:c(Object(Y.e)({})),c(Object(d.closeModal)({modalId:nt}));case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return l.a.useEffect((function(){b.setFieldsValue(o)}),[o]),l.a.useEffect((function(){var t=(null===p||void 0===p?void 0:p.donHangNhapChiTiets)||{};c(Object(Y.e)(t))}),[p]),Object(G.c)(d.MyModal,{title:Object(G.b)("div",{children:"T\u1ea1o Phi\u1ebfu Nh\u1eadn H\xe0ng"}),visible:y,onClose:function(){if(g&&!window.confirm("D\u1eef li\u1ec7u d\xe3 thay \u0111\u1ed5i, b\u1ea1n c\xf3 mu\u1ed1n tho\xe1t?"))return Object(P.h)("Ti\u1ebfp t\u1ee5c ch\u1ec9nh s\u1eeda \u0111\u01a1n h\xe0ng nh\u1eadp!");c(Object(d.closeModal)({modalId:nt}))},onOkModal:function(){return H.apply(this,arguments)},width:900,modalId:nt,datas:j,children:[Object(G.c)(d.MyForm,{form:b,labelCol:{span:6},wrapperCol:{span:18},children:[Object(G.b)(W.a,{name:"ngayGiao",label:"Ng\xe0y giao",rules:[{required:!0}]}),Object(G.b)(_.a,{rules:[{required:!0}]})]}),Object(G.b)(J,{loading:f})]})};var at=function(t){var n,e=t.selectedTime,o=t.dateTimePicker,i=Object(r.b)(),c=Object(r.c)((function(t){return t.tongHopDonHang})).tongHopDonHangs,l=Object(r.c)((function(t){return t.dsMatHang})).dsMatHangs;return Object(G.c)(G.a,{children:[Object(G.b)(u.a,{header:Object(G.b)("div",{className:"font-weight-bold",children:Object(G.b)("span",{children:"Th\xf4ng Tin Trang "})}),body:Object(G.c)("div",{className:"form-input-aside",style:{padding:"5px"},children:[Object(G.b)("div",{children:(null===o||void 0===o||null===(n=o.getDayRender)||void 0===n?void 0:n.call(o))||null}),Object(G.b)("div",{children:Object(G.b)(M.a,{title:"L\u1ea5y t\u1ef1 \u0111\u1ed9ng m\u1eb7t h\xe0ng nh\xf3m Rau, c\u1ee7, qu\u1ea3 trong ng\xe0y",children:Object(G.b)(w.a,{block:!0,icon:Object(G.b)(z.a,{}),type:"primary",onClick:function(){var t=Object.values(c||{}).reduce((function(t,n){var e=n.id,o=n.tongSoLuongThuc,i=void 0===o?0:o,c=n.tonCuoi,r=n.nhomMatHangId,d=null===l||void 0===l?void 0:l[e];return r!==h.b.rauCuQua.id?t:d?Object(a.a)(Object(a.a)({},t),{},Object(x.a)({},e,Object(a.a)(Object(a.a)({},d),{},{soLuong:i,soLuongThuc:i,tonCuoi:c}))):Object(a.a)(Object(a.a)({},t),{},Object(x.a)({},e,n))}),{});i(Object(d.openModal)({modalId:b.c.taoDonHangNhapModal,data:{donHangNhapChiTiets:t}}))},children:"T\u1ea1o phi\u1ebfu mua h\xe0ng"})})})]}),footer:Object(G.b)("div",{children:Object(G.b)(w.a,{icon:Object(G.b)(D.a,{}),onClick:function(){i(Object(d.toggleAside)({tagPageId:b.c.tongHopDonHangModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})}),Object(G.b)(et,{defaultFieldsValue:{ngayGiao:e,nhaCungCapId:"-Mzc5aTuUKUtV5CUm4B-"}})]})},ot=e(32),it=e.n(ot),ct=e(361),lt=e(759),rt=e(760),dt=e(747),ut=e(72);function bt(){return{columnGap:5,columns:[[{text:"Th\u1ef1c Ph\u1ea9m T\u01b0 B\u1ed1n".toUpperCase(),style:"bold11",bold:!0,alignment:"left",width:100},{text:"S\u1ed1 15 Nguy\u1ec5n Tri Ph\u01b0\u01a1ng, Ph\xfa Th\u1ecd, Ph\xfa Ch\xe1nh",style:"fontSize8",alignment:"left",width:100},{text:"TX T\xe2n Uy\xean, B\xecnh D\u01b0\u01a1ng",style:"fontSize8",alignment:"left",width:100},{text:"\u0110T: 0981.310.247",style:"fontSize8",alignment:"left",width:100},{text:"Website: thucphamtubon.com",style:"fontSize8",alignment:"left",width:100}],{text:"Phi\u1ebfu T\u1ed5ng H\u1ee3p Gia V\u1ecb".toUpperCase(),style:"bold20",bold:!0,alignment:"left"}]}}function st(t){var n=["STT","T\xean m\u1eb7t h\xe0ng","Nh\xf3m MH","S\u1ed1 l\u01b0\u1ee3ng","\u0110VT","Ghi ch\xfa"].map((function(t){return{text:t,style:"tableHeader",fillColor:"lightblue",alignment:"center"}})),e=[];return(t=Object(ct.a)("tenMatHang",t)).forEach((function(t,n){e.push([{text:n+1,style:"textTable9",alignment:"center"},{text:t.tenMatHang||"",style:"textTable9",bold:!0},{text:t.tenNhomMatHang||"",style:"textTable9"},{text:t.soLuongThuc||"",style:"textTable9",alignment:"right",bold:!0},{text:t.tenDonViTinh,style:"textTable9",alignment:"center"},{text:"",style:"textTable9"}])})),{layout:"lightHorizontalLines",headerRows:1,dontBreakRows:!0,widths:[20,140,50,50,50,"*"],body:[n].concat(e)}}function gt(t){var n=["STT","T\xean kh\xe1ch h\xe0ng","Ghi ch\xfa"].map((function(t){return{text:t,style:"tableHeader",fillColor:"lightblue",alignment:"center"}})),e=Object(ut.orderBy)(t).map((function(t,n){return[{text:n+1,style:"textTable9",alignment:"center"},{text:t||"",style:"textTable9",bold:!0},{text:"",style:"textTable9"}]}));return{layout:"lightHorizontalLines",headerRows:1,dontBreakRows:!0,widths:[20,140,"*"],body:[n].concat(Object(o.a)(e))}}var ht=e(376),ft=e(15),mt=e(383),Ot=b.c.tongHopDonHangModal;n.default=function(){var t,n,e=Object(r.b)(),c=Object(d.useDatePicker)({defaultTime:it()().add(1,"day")}),g=Object(i.a)(c,2),h=g[0],f=g[1],m=Object(r.c)((function(t){return t.dsMatHang})).dsMatHangs,p=Object(r.c)((function(t){return t.tongHopDonHang})),v=p.tabsData,S=p.loading,M=p.pageSize,w=p.tongHopDonHangs,z=p.maDonHangsArray,D=p.maDonHangHeaders,C=p.tenKhachHangsArray,I=Object(r.c)((function(t){return t.danhSachDHX})).danhSachDHXs,P=Object(r.c)((function(t){return t.danhSachDHN})).danhSachDHNs,B=Object(r.c)((function(t){var n;return null===(n=t.tagsPage)||void 0===n?void 0:n[Ot]})),L=Object(r.c)((function(t){return t.account})).accountData,F=null===L||void 0===L||null===(t=L.paths)||void 0===t||null===(n=t.tongHopDonHang)||void 0===n?void 0:n.edit,E=Object(H.a)({Instance:y,onPending:T.e,addSelectedId:T.a,isEdit:F});l.a.useEffect((function(){e(Object(T.d)(h))}),[h,I,P,m]),l.a.useEffect((function(){return e(Object(ht.e)(h)),e(Object(mt.d)(h)),function(){Object(ft.i)("danhSachDHX"),Object(ft.i)("danhSachDHN")}}),[h]);var A=l.a.useMemo((function(){return v?[].concat(Object(o.a)(v),[{label:"T\u1ed5ng h\u1ee3p \u0111\u01a1n h\xe0ng ng\xe0y: ".concat(h.format("DD-MM-YYYY")),value:"null"}]):v}),[h]),R=l.a.useMemo((function(){return Object(a.a)(Object(a.a)({},O),{},{getTableColumns:function(){var t=O.getTableColumns();return[].concat(Object(o.a)(t),Object(o.a)(z.map((function(t,n){return{id:t,name:"".concat(null===D||void 0===D?void 0:D[n]," - ").concat(null===C||void 0===C?void 0:C[n]),width:120,className:"text-small",align:"right"}}))),[d.constants.deleteRowButton])}})}),[z,D,C]);return Object(G.c)("div",{className:"tongHopDonHang-page",css:s.a,children:[Object(G.b)(u.b,{className:"tabs",options:A,activeKey:B?"aside":"",onTabClick:function(t){if("aside"===t)e(Object(d.toggleAside)({tagPageId:Ot}));else if("taiExcel"===t){if(!window.confirm("X\xe1c nh\u1eadn t\u1ea3i file t\u1ed5ng h\u1ee3p \u0111\u01a1n h\xe0ng?"))return null;e(Object(T.c)(h))}else"print"===t&&e(Object(d.openModal)({modalId:b.d.inDonHang}))}}),Object(G.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[B&&Object(G.b)(at,{selectedTime:h,dateTimePicker:f}),Object(G.b)("div",{className:"aside-main",children:Object(G.b)(j.a,{isEdit:F,constants:R,onCallbackDataSource:function(t){return Object(ct.a)("tenMatHang",t)},actions:E,datas:w,loading:S,modalId:Ot,isSelection:!0,pagination:!0,pageSize:M,onChange:function(t){e(Object(T.f)(t.pageSize))},expandable:{expandedRowRender:function(t){return Object(G.b)("div",{children:t.id})},expandRowByClick:!1}})})]}),Object(G.b)(d.PrintModal,{modalId:b.d.inDonHang,title:"In Phi\u1ebfu T\u1ed5ng H\u1ee3p Gia V\u1ecb Ng\xe0y ".concat(h?h.format("DD/MM/YYYY"):""),onPrint:function(t){var n=Object.values(w).filter((function(t){return"giaVi"===t.nhomMatHangId}));e(function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"A5";return function(){var o=Object(N.a)(k.a.mark((function o(i,c){var l,r,u,b,s,g,h,f,m,O,j,p;return k.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:lt.vfs=rt.pdfMake.vfs,l=c(),r=l.tongHopDonHang,u=r.maDonHangHeaders,b=r.tenKhachHangsArray,s=i(Object(d.getTimestamp)({})),g=s.updatedAtString,h=s.updatedBy,f=t.reduce((function(t,n){return Object.keys(n).reduce((function(t,n){return n.indexOf("DHX")>-1?Object(a.a)(Object(a.a)({},t),{},Object(x.a)({},n,!0)):t}),t)}),{}),m=Object.keys(f).map((function(t){var n,e=null===(n=t.split("-"))||void 0===n?void 0:n[1],a=null===u||void 0===u?void 0:u.findIndex((function(t){return t===e}));return null===b||void 0===b?void 0:b[a]})),O=[bt(),{style:"subHeaderStyle",columns:[{text:"Ng\xe0y: ".concat(n.format("DD.MM.YYYY")),style:"fontSize9Margin5",bold:!0},{text:"Th\u1eddi gian in phi\u1ebfu: ".concat(g,", TK: ").concat(h),style:"fontSize9Margin5",alignment:"right"}]},{table:st(t)},{table:gt(m)},{style:"subHeaderStyle",columns:[{text:"Ng\u01b0\u1eddi giao",style:"fontSize10Margin5",bold:!0,alignment:"center"},{text:"Ng\u01b0\u1eddi nh\u1eadn h\xe0ng",style:"fontSize10Margin5",bold:!0,alignment:"center"}]}],j={pageSize:e,pageOrientation:"portal",pageMargins:[20,20,20,20],content:O,styles:dt.a},p=window.open("","_blank"),lt.createPdf(j).open({},p);case 10:case"end":return o.stop()}}),o)})));return function(t,n){return o.apply(this,arguments)}}()}(n,h,t))}})]})}}}]);
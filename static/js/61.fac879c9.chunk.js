(this["webpackJsonptu-bon"]=this["webpackJsonptu-bon"]||[]).push([[61],{1021:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(56),o=a(7),r=a(713),u=a(64),d=a(716),l=a(8),s=a(216),b=a(123),h=a(159),g={getTableColumns:function(){return[o.constants.stt,s.a.tenMatHang,Object(l.a)(Object(l.a)({},b.a.tenDonViTinh),{},{className:"text-small"}),Object(l.a)(Object(l.a)({},h.a.tenNhomMatHang),{},{width:140}),s.a.giaNhapMatHang,s.a.giaBanMatHang,o.constants.active,o.constants.capNhatRow]},getInputFields:function(){return[]},getExcelFields:function(){return[o.constants.active]}},m=a(714),O=a(356),j=a(712),f=a(398),v=a(59),p=a(65),C=a(25);var L=function(e){var t,a=e.dateTimePicker,n=Object(i.b)();return Object(C.b)(C.a,{children:Object(C.b)(r.a,{header:Object(C.b)("div",{className:"font-weight-bold",children:Object(C.b)("span",{children:"Th\xf4ng Tin Trang "})}),body:Object(C.b)("div",{className:"form-input-aside",style:{padding:"5px"},children:Object(C.b)("div",{children:(null===a||void 0===a||null===(t=a.getDayRender)||void 0===t?void 0:t.call(a))||null})}),footer:Object(C.b)("div",{children:Object(C.b)(v.a,{icon:Object(C.b)(p.a,{}),onClick:function(){n(Object(o.toggleAside)({tagPageId:u.c.matHangChaLuaModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})})})},M=a(33),y=a(5),H=a.n(y),w=a(9),I=a(40),T=a(504),x=a(475),F=a(13),N=a(55),k=a(367),E={dinhLuongGram:{id:"dinhLuongGram",name:"\u0110\u1ecbnh l\u01b0\u1ee3ng (Gram)",width:100,className:"text-small font-weight-bold",align:"right",sorter:Object(o.sortByText)("dinhLuongGram"),form:{type:"input-number",rules:[{required:!0}]}},dinhLuongKg:{id:"dinhLuongKg",name:"\u0110\u1ecbnh l\u01b0\u1ee3ng (Kg)",width:100,className:"text-small font-weight-bold",align:"right",sorter:Object(o.sortByText)("dinhLuongKg")},getTableColumns:function(){return[o.constants.stt,k.a.tenNguyenVatLieuChaLua,this.dinhLuongGram,this.dinhLuongKg,o.constants.editRow]},getInputFields:function(){return[o.constants.id]},getExcelFields:function(){return[o.constants.active]}},G={getTableColumns:function(){return[o.constants.stt,k.a.tenNguyenVatLieuChaLua,E.dinhLuongGram,E.dinhLuongKg]}},S=a(477),V=a(399),K=a(762),A=a(376),D=a(751),P=a(724),B=u.c.matHangChaLuaChiTietModal;var R=function(e){var t=Object(i.b)(),a=x.a.useForm(),n=Object(I.a)(a,1)[0],r=Object(i.c)((function(e){return e.form})),u=r.modal,d=r.datas,s=c.a.useMemo((function(){var e;return!!(null===u||void 0===u||null===(e=u[B])||void 0===e?void 0:e.open)}),[u[B]]),b=null===d||void 0===d?void 0:d[B];function h(){return g.apply(this,arguments)}function g(){return(g=Object(w.a)(H.a.mark((function e(){var a,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.validateFields();case 2:a=e.sent,c=Object(o.convertMomentToString)(E.getInputFields(),a),c=t(Object(A.c)(c)),t(Object(V.c)({convertedData:c,nameOfId:"nguyenVatLieuChaLuaId"})),n.resetFields(),Object(D.a)("nguyenVatLieuChaLuaId");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.useEffect((function(){s||n.resetFields()}),[s]),c.a.useEffect((function(){n.setFieldsValue(b)}),[b]),Object(C.b)(o.MyModal,{title:Object(C.b)("div",{children:"M\u1eb7t H\xe0ng Ch\u1ea3 L\u1ee5a"}),visible:s,onClose:function(){t(Object(o.closeModal)({modalId:B}))},onOkModal:h,width:900,modalId:B,datas:d,children:Object(C.c)(o.MyForm,{form:n,labelCol:{span:8},wrapperCol:{span:16},children:[Object(C.b)(P.a,{name:"id",label:"ID",disabled:!0}),Object(C.b)(K.a,{rules:[{required:!0}],isAddNew:!0,onAfterSelect:function(e,t){n.setFieldsValue(Object(l.a)({},t))},onAfterAddFinish:function(e,t){n.setFieldsValue(Object(l.a)(Object(l.a)({},t),{},{nguyenVatLieuChaLuaId:e}))}}),Object(C.b)(o.MyFormItem,{name:E.dinhLuongGram.id,label:E.dinhLuongGram.name,rules:[{required:!0}],children:Object(C.b)(S.a,{style:{width:"100%"},onPressEnter:h})})]})})},q=u.c.matHangChaLuaChiTietModal;var z=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.matHangChaLuaChiTiet})).matHangChaLuaChiTiets,n=c.a.useMemo((function(){return Object.values(a||{}).reduce((function(e,t){var a=(t.dinhLuongGram||0)/1e3;return Object(l.a)(Object(l.a)({},e),{},Object(F.a)({},t.id,Object(l.a)(Object(l.a)({},t),{},{dinhLuongKg:a})))}),{})}),[a]);return Object(C.c)("div",{className:"matHangChaLuaChiTiet-page",css:d.a,children:[Object(C.b)("div",{style:{marginBottom:"7px"},children:Object(C.b)(v.a,{icon:Object(C.b)(N.a,{}),type:"primary",onClick:function(){t(Object(o.openModal)({modalId:q}))},children:"Th\xeam nguy\xean li\u1ec7u"})}),Object(C.b)(m.a,{isEdit:!0,constants:E,datas:n,modalId:q,isSelection:!1,pagination:!1,inputOptions:{onDeleteItem:function(e){t(Object(V.b)(e))}}}),Object(C.b)(R,{})]})},J=a(733),X=a(726),Q=a(363),U=a(362),W=a(763),Y=u.c.matHangChaLuaModal;var Z=function(e){var t=Object(i.b)(),a=x.a.useForm(),n=Object(I.a)(a,1)[0],r=Object(i.c)((function(e){return e.form})),d=r.modal,b=r.datas,h=Object(i.c)((function(e){return e.matHangChaLuaChiTiet})).matHangChaLuaChiTiets,g=null===b||void 0===b?void 0:b[Y],m=c.a.useMemo((function(){var e;return!!(null===d||void 0===d||null===(e=d[Y])||void 0===e?void 0:e.open)}),[d[Y]]);function O(){return(O=Object(w.a)(H.a.mark((function e(){var a,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("X\xe1c nh\u1eadn l\u01b0u m\u1eb7t h\xe0ng?")){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,n.validateFields();case 4:return a=e.sent,c=Object(l.a)(Object(l.a)(Object(l.a)({},g),a),{},{matHangChaLuaChiTiets:h}),c=t(Object(Q.c)(c)),c=t(Object(U.c)(c)),e.next=10,t(Object(f.d)(c));case 10:t(Object(o.closeModal)({modalId:Y})),t(Object(V.d)({})),t(Object(o.closeModal)({modalId:u.c.openAddMatHangSoLuongModal}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.useEffect((function(){n.setFieldsValue(g),t(Object(V.d)(null===g||void 0===g?void 0:g.matHangChaLuaChiTiets))}),[g]),c.a.useEffect((function(){m||n.resetFields()}),[m]),Object(C.c)(o.MyModal,{title:Object(C.c)("div",{children:["M\u1eb7t H\xe0ng Ch\u1ea3 L\u1ee5a - ",null===g||void 0===g?void 0:g.tenMatHang]}),visible:m,onClose:function(){t(Object(o.closeModal)({modalId:Y}))},width:900,modalId:Y,datas:b,footer:null,children:[Object(C.b)("div",{children:Object(C.c)(o.MyForm,{form:n,labelCol:{span:6},wrapperCol:{span:18},children:[Object(C.b)(P.a,{name:s.a.tenMatHang.id,label:s.a.tenMatHang.name,rules:[{required:!0}]}),Object(C.b)(J.a,{}),Object(C.b)(X.a,{}),Object(C.b)(W.a,{name:"giaBanMatHang",label:"Gi\xe1 b\xe1n"})]})}),Object(C.b)(z,{}),Object(C.b)("div",{className:"mt-1",style:{textAlign:"right"},children:Object(C.b)(v.a,{type:"primary",icon:Object(C.b)(T.a,{}),onClick:function(){return O.apply(this,arguments)},children:"L\u01b0u m\u1eb7t h\xe0ng"})})]})};var $=function(e){var t=e.record,a=c.a.useMemo((function(){return(null===t||void 0===t?void 0:t.matHangChaLuaChiTiets)||{}}),[t]),n=c.a.useMemo((function(){return Object.values(a||{}).reduce((function(e,t){var a=(t.dinhLuongGram||0)/1e3;return Object(l.a)(Object(l.a)({},e),{},Object(F.a)({},t.id,Object(l.a)(Object(l.a)({},t),{},{dinhLuongKg:a})))}),{})}),[a]);return Object(C.b)(m.a,{constants:G,datas:n})},_=u.c.matHangChaLuaModal;t.default=function(){var e,t,a=Object(i.b)(),n=Object(i.c)((function(e){return e.khoChaLua})).khoChaLuas,u=Object(i.c)((function(e){return e.matHangChaLua})),l=u.tabsData,s=u.matHangChaLuaLoading,b=u.pageSize,h=u.matHangChaLuas,v=Object(i.c)((function(e){var t;return null===(t=e.tagsPage)||void 0===t?void 0:t[_]})),p=Object(i.c)((function(e){return e.account})).accountData,y=null===p||void 0===p||null===(e=p.paths)||void 0===e||null===(t=e.matHangChaLua)||void 0===t?void 0:t.edit,H=Object(j.a)({Instance:O.a,onPending:f.f,addSelectedId:f.a,isEdit:y});var w=c.a.useMemo((function(){return h?a(Object(f.c)()):{}}),[h,n]);return Object(C.c)("div",{className:"matHangChaLua-page",css:d.a,children:[Object(C.b)(r.b,{className:"tabs",options:l,activeKey:v?"aside":"",onTabClick:function(e){if("add"===e){if(!y)return Object(M.l)();var t=new O.a;a(Object(o.openModal)({modalId:_,data:t.initData}))}else"aside"===e?a(Object(o.toggleAside)({tagPageId:_})):"taiExcel"===e&&a(Object(o.downloadExcel)({tableId:_,constants:g,fileSheet:"matHangChaLuaSheet",fileName:"matHangChaLuaName"}))}}),Object(C.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[v&&Object(C.b)(L,{}),Object(C.b)("div",{className:"aside-main",children:Object(C.b)(m.a,{isEdit:y,constants:g,actions:H,datas:w,loading:s,modalId:_,expandable:{expandedRowRender:function(e){return Object(C.b)($,{record:e})},expandRowByClick:!1},isSelection:!0,pagination:!0,pageSize:b,onChange:function(e){a(Object(f.g)(e.pageSize))}})})]}),Object(C.b)(Z,{})]})}},763:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a(0);var n=a(7),c=a(477),i=a(33),o=a(25);function r(e){var t=e.name,a=e.label,r=e.rules,u=e.onPressEnter;return Object(o.b)(n.MyFormItem,{name:t,label:a,rules:r,children:Object(o.b)(c.a,{style:{width:"100%"},onPressEnter:u,formatter:i.a.formatter,parser:i.a.parser})})}}}]);
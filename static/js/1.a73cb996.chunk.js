(this["webpackJsonptu-bon"]=this["webpackJsonptu-bon"]||[]).push([[1],{725:function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));var a=t(0),o=(t(331),t(162)),i=(t(79),t(215),t(126),t(237),t(330),t(364),function(n,e){var t=arguments;if(null==e||!o.d.call(e,"css"))return a.createElement.apply(void 0,t);var i=t.length,c=new Array(i);c[0]=o.a,c[1]=Object(o.c)(n,e);for(var r=2;r<i;r++)c[r]=t[r];return a.createElement.apply(null,c)})},729:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var a={appSettings:"/app-settings",khachHang:"/app-settings/khach-hang",nhaCungCap:"/app-settings/nha-cung-cap",matHang:"/app-settings/mat-hang",nhomMatHang:"/app-settings/nhom-mat-hang",donViTinh:"/app-settings/don-vi-tinh",taiKhoanNganHang:"/app-settings/tai-khoan-ngan-hang"}},732:function(n,e,t){"use strict";t(0);var a=t(479),o=t(17),i=a.a.Summary,c=i.Row,r=i.Cell;e.a=function(n){var e,t=n.columns,a=n.dataSource;return Object(o.b)(c,{children:null===t||void 0===t||null===(e=t.map)||void 0===e?void 0:e.call(t,(function(n,e){var t=null===n||void 0===n?void 0:n.id,i=(null===n||void 0===n?void 0:n.colSpan)||0,c=(null===n||void 0===n?void 0:n.cellClassName)||"",l=(null===n||void 0===n?void 0:n.valueStyle)||{},d=(null===n||void 0===n?void 0:n.valueClassName)||"",u=null===n||void 0===n?void 0:n.render,s=(null===a||void 0===a?void 0:a[e])||{},b=(null===s||void 0===s?void 0:s[t])||"";return u&&(b=u(b,s,e)),Object(o.b)(r,{index:e,colSpan:i,className:c,children:Object(o.b)("div",{style:l,className:d,children:b})},t)}))})}},736:function(n,e,t){"use strict";var a=t(0),o=t.n(a),i=t(61),c=t(114),r=t(47),l=t(9),d=t(57),u=t(367),s=t(737),b=t(59),h=t(284),f=t(236),p=t(30),m=t(729),v=t(17);e.a=function(n){var e,t,a=n.form,O=n.name,j=n.mode,g=n.label,M=n.labelCol,y=n.wrapperCol,C=n.rules,F=n.isAddNew,I=n.isTrangQuanLy,w=n.onAfterSelect,N=Object(d.b)(),T=Object(r.u)(),x=Object(d.c)((function(n){return n.nhomMatHang})).nhomMatHangs,H=Object(d.c)((function(n){return n.account})).accountData,k=o.a.useMemo((function(){return Object.values(x).filter((function(n){return n.active})).map((function(n){var e="".concat(n.tenNhomMatHang);return{value:n.id,label:e}}))}),[x]),K=null===H||void 0===H||null===(e=H.paths)||void 0===e||null===(t=e.nhomMatHang)||void 0===t?void 0:t.edit;var S=Object(v.b)(l.MyFormItem,{label:g||"Nh\xf3m m\u1eb7t h\xe0ng",type:"select",name:O||"nhomMatHangId",innerProps:{mode:j,showSearch:!0,allowClear:!0,filterOption:l.onSelectSearch,onChange:function(n){N(Object(u.a)(n)),null===w||void 0===w||w(n)},notFoundContent:K?Object(v.c)("div",{children:[F?Object(v.b)(i.a,{icon:Object(v.b)(b.a,{}),type:"primary",onClick:function(){return N(Object(f.c)({modalId:p.d.nhomMatHangModal}))},children:"Th\xeam"}):null,I?Object(v.b)(i.a,{icon:Object(v.b)(h.a,{}),type:"dashed",onClick:function(){T(m.a.nhomMatHang)},children:"Q. l\xfd"}):null]}):Object(v.b)(c.a,{})},options:k,rules:C||[]});return a?Object(v.c)(v.a,{children:[Object(v.b)(l.MyForm,{form:a,labelCol:M||{span:8},wrapperCol:y||{span:16},children:S}),K&&Object(v.b)(s.a,{onAfterAddFinish:function(n){a.setFieldsValue({nhomMatHangId:n})}})]}):Object(v.c)(v.a,{children:[S,K&&Object(v.b)(s.a,{})]})}},737:function(n,e,t){"use strict";var a=t(5),o=t.n(a),i=t(8),c=t(0),r=t.n(c),l=t(9),d=t(57),u=t(236),s=t(332),b=t(723),h=t(380),f=t(30),p=t(367),m=t(17),v=f.d.nhomMatHangModal;e.a=function(n){var e=n.onAfterAddFinish,t=Object(b.a)({Instance:h.a,onPending:p.g,addSelectedId:p.a}),a=Object(d.b)(),c=Object(d.c)((function(n){return n.form})),f=c.modal,O=c.datas,j=r.a.useMemo((function(){var n;return!!(null===f||void 0===f||null===(n=f[v])||void 0===n?void 0:n.open)}),[f[v]]);function g(){return(g=Object(i.a)(o.a.mark((function n(i,c){var r,d,b;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=!0,d=Object(l.convertMomentToString)(s.a.getInputFields(),c),!c){n.next=16;break}if(null===i||void 0===i?void 0:i.id){n.next=11;break}return n.next=6,a(t.onAddAsync({validatedValues:d}));case 6:r=n.sent,null===e||void 0===e||e(null===(b=r)||void 0===b?void 0:b.id),r=Boolean(r),n.next=16;break;case 11:return n.t0=Boolean,n.next=14,a(t.onUpdateAsync({currentData:i,validatedValues:d}));case 14:n.t1=n.sent,r=(0,n.t0)(n.t1);case 16:r&&a(u.a({modalId:v}));case 17:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(m.b)(l.MyModal,{form:!0,title:"Nh\xf3m M\u0103t H\xe0ng",visible:j,onClose:function(){a(u.a({modalId:v}))},onOkModal:function(n,e){return g.apply(this,arguments)},formOptions:Object(l.getFormItemFields)(s.a.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:v,datas:O})}},740:function(n,e,t){"use strict";var a=t(0),o=t.n(a),i=t(61),c=t(114),r=t(47),l=t(9),d=t(57),u=t(368),s=t(5),b=t.n(s),h=t(8),f=t(236),p=t(163),m=t(723),v=t(384),O=t(30),j=t(17),g=O.d.donViTinhModal,M=function(n){var e=n.onAfterAddFinish,t=Object(m.a)({Instance:v.a,onPending:u.f,addSelectedId:u.a}),a=Object(d.b)(),i=Object(d.c)((function(n){return n.form})),c=i.modal,r=i.datas,s=o.a.useMemo((function(){var n;return!!(null===c||void 0===c||null===(n=c[g])||void 0===n?void 0:n.open)}),[c[g]]);function O(){return(O=Object(h.a)(b.a.mark((function n(o,i){var c,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=!0,!i){n.next=16;break}if(null===o||void 0===o?void 0:o.id){n.next=11;break}return n.next=5,a(t.onAddAsync({validatedValues:i}));case 5:c=n.sent,console.log(i,"validatedValues dvt"),null===e||void 0===e||e(null===(r=c)||void 0===r?void 0:r.id),c=Boolean(c),n.next=16;break;case 11:return n.t0=Boolean,n.next=14,a(t.onUpdateAsync({currentData:o,validatedValues:i}));case 14:n.t1=n.sent,c=(0,n.t0)(n.t1);case 16:c&&a(f.a({modalId:g}));case 17:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(j.b)(l.MyModal,{form:!0,title:"\u0110\u01a1n V\u1ecb T\xednh",visible:s,onClose:function(){a(f.a({modalId:g}))},onOkModal:function(n,e){return O.apply(this,arguments)},formOptions:Object(l.getFormItemFields)(p.a.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:g,datas:r})},y=t(729),C=t(59),F=t(284);e.a=function(n){var e,t,a=n.form,s=n.name,b=n.mode,h=n.label,p=n.labelCol,m=n.wrapperCol,v=n.rules,g=n.isAddNew,I=n.isTrangQuanLy,w=n.onAfterSelect,N=Object(d.b)(),T=Object(r.u)(),x=Object(d.c)((function(n){return n.donViTinh})).donViTinhs,H=Object(d.c)((function(n){return n.account})).accountData,k=o.a.useMemo((function(){return Object.values(x).filter((function(n){return n.active})).map((function(n){var e="".concat(n.tenDonViTinh);return{value:n.id,label:e}}))}),[x]),K=null===H||void 0===H||null===(e=H.paths)||void 0===e||null===(t=e.donViTinh)||void 0===t?void 0:t.edit;var S=Object(j.b)(l.MyFormItem,{label:h||"\u0110\u01a1n v\u1ecb t\xednh",type:"select",name:s||"donViTinhId",innerProps:{mode:b,showSearch:!0,allowClear:!0,filterOption:l.onSelectSearch,onChange:function(n){N(Object(u.a)(n)),null===w||void 0===w||w(n)},notFoundContent:K?Object(j.c)("div",{children:[g?Object(j.b)(i.a,{icon:Object(j.b)(C.a,{}),type:"primary",onClick:function(){return N(Object(f.c)({modalId:O.d.donViTinhModal}))},children:"Th\xeam"}):null,I?Object(j.b)(i.a,{icon:Object(j.b)(F.a,{}),type:"dashed",onClick:function(){T(y.a.donViTinh)},children:"Q. l\xfd"}):null]}):Object(j.b)(c.a,{})},options:k,rules:v||[]});return a?Object(j.c)(j.a,{children:[Object(j.b)(l.MyForm,{form:a,labelCol:p||{span:8},wrapperCol:m||{span:16},children:S}),K&&Object(j.b)(M,{onAfterAddFinish:function(n){a.setFieldsValue({donViTinhId:n})}})]}):Object(j.c)(j.a,{children:[S,K&&Object(j.b)(M,{})]})}},749:function(n,e,t){"use strict";var a=t(5),o=t.n(a),i=t(8),c=t(42),r=t(0),l=t.n(r),d=t(333),u=t(61),s=t(284),b=t(47),h=t(9),f=t(57),p=t(236),m=t(752),v=t(723),O=t(383),j=t(30),g=t(371),M=t(736),y=t(740),C=t(368),F=t(374),I=t(367),w=t(38),N="/quan-ly-mat-hang/ds-mat-hang",T=t(17),x=j.d.dsMatHangModal;e.a=function(n){var e,t,a=n.onAfterAddFinish,r=Object(f.b)(),j=Object(b.u)(),H=Object(f.c)((function(n){return n.form})),k=H.modal,K=H.datas,S=null===K||void 0===K?void 0:K[x],A=Object(f.c)((function(n){return n.account})).accountData,L=null===A||void 0===A||null===(e=A.paths)||void 0===e||null===(t=e.dsMatHang)||void 0===t?void 0:t.edit,V=Object(v.a)({Instance:O.a,onPending:g.d,addSelectedId:g.a,isEdit:L}),D=Object(d.useForm)(),E=Object(c.a)(D,1)[0];l.a.useEffect((function(){S?E.setFieldsValue(S):E.resetFields()}),[S]);var G=l.a.useMemo((function(){var n;return!!(null===k||void 0===k||null===(n=k[x])||void 0===n?void 0:n.open)}),[k[x]]);function P(){return(P=Object(i.a)(o.a.mark((function n(){var e,t,i,c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(L){n.next=2;break}return n.abrupt("return",Object(w.f)());case 2:return e=!0,n.next=5,E.validateFields();case 5:return t=n.sent,n.next=8,r(Object(C.c)(t));case 8:return i=n.sent,n.next=11,r(Object(F.c)(i));case 11:return i=n.sent,n.next=14,r(Object(I.c)(i));case 14:if(i=n.sent,!t){n.next=29;break}if(null===S||void 0===S?void 0:S.id){n.next=24;break}return n.next=19,r(V.onAddAsync({validatedValues:i}));case 19:e=n.sent,null===a||void 0===a||a(null===(c=e)||void 0===c?void 0:c.id),e=Boolean(e),n.next=29;break;case 24:return n.t0=Boolean,n.next=27,r(V.onUpdateAsync({currentData:S,validatedValues:i}));case 27:n.t1=n.sent,e=(0,n.t0)(n.t1);case 29:e&&r(p.a({modalId:x}));case 30:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(T.c)(h.MyModal,{title:Object(T.c)("div",{children:["M\u1eb7t H\xe0ng ",Object(T.b)(u.a,{icon:Object(T.b)(s.a,{}),onClick:function(){r(p.a({modalId:x})),j(N)},children:"Trang qu\u1ea3n l\xfd"})]}),visible:G,onClose:function(){r(p.a({modalId:x}))},onOkModal:function(){return P.apply(this,arguments)},width:700,modalId:x,datas:K,children:[Object(T.b)(h.MyForm,{labelCol:{span:8},wrapperCol:{span:16},form:E,options:Object(h.getFormItemFields)(m.a.getInputFields())}),Object(T.b)(y.a,{form:E,isAddNew:!0,isTrangQuanLy:!0}),Object(T.b)(M.a,{form:E,isAddNew:!0,isTrangQuanLy:!0})]})}},752:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var a=t(10),o=t(30),i=t(332),c=t(163),r=t(142),l={getTableColumns:function(){return[o.a.stt,r.a.tenMatHang,Object(a.a)(Object(a.a)({},c.a.tenDonViTinh),{},{align:"center"}),Object(a.a)(Object(a.a)({},i.a.tenNhomMatHang),{},{align:"center",isSearch:!1}),o.a.active,r.a.chaLua,o.a.editRow]},getInputFields:function(){return[o.a.id,r.a.tenMatHang]},getExcelFields:function(){return[o.a.stt,o.a.id,Object(a.a)(Object(a.a)({},r.a.tenMatHang),{},{name:"tenDSMatHang"}),c.a.donViTinhId,c.a.tenDonViTinh,i.a.nhomMatHangId,i.a.tenNhomMatHang,Object(a.a)(Object(a.a)({},o.a.active),{},{name:"active"})]}}},763:function(n,e,t){"use strict";var a=t(5),o=t.n(a),i=t(8),c=t(42),r=t(0),l=t.n(r),d=t(9),u=t(57),s=t(480),b=t(482),h=t(236),f=t(30),p=t(764),m=t(17),v=f.d.matHangAddSoLuongModal;e.a=function(n){var e=n.onAfterAddFinish,t=n.soLuongName,a=n.giaMatHangName,r=n.matHangFilters,f=n.notAutoCloseAfterOk,O=n.loaiTruMatHangs,j=s.a.useForm(),g=Object(c.a)(j,1)[0],M=Object(u.b)(),y=Object(u.c)((function(n){return n.form})),C=y.modal,F=y.datas,I=l.a.useMemo((function(){var n;return!!(null===C||void 0===C||null===(n=C[v])||void 0===n?void 0:n.open)}),[C[v]]);function w(){return(w=Object(i.a)(o.a.mark((function n(){var t;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.validateFields();case 2:t=n.sent,null===e||void 0===e||e(t),f||M(h.a({modalId:v})),g.resetFields();case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(m.b)(d.MyModal,{title:Object(m.b)("div",{children:"Th\xeam M\u1eb7t H\xe0ng"}),visible:I,onClose:function(){M(h.a({modalId:v})),g.resetFields()},onOkModal:function(){return w.apply(this,arguments)},width:700,modalId:v,datas:F,children:Object(m.c)(d.MyForm,{form:g,children:[Object(m.b)(p.a,{loaiTruMatHangs:O,matHangFilters:r,rules:[{required:!0}],isAddNew:!0,onAfterAddFinish:function(n){return g.setFieldsValue({matHangId:n})}}),Object(m.b)(d.MyFormItem,{name:t||"soLuong",label:"S\u1ed1 l\u01b0\u1ee3ng",children:Object(m.b)(b.a,{style:{width:"100%"}})}),a?Object(m.b)(d.MyFormItem,{name:a,label:"Gi\xe1 m\u1eb7t h\xe0ng",children:Object(m.b)(b.a,{style:{width:"100%"}})}):null]})})}},764:function(n,e,t){"use strict";var a=t(23),o=t(0),i=t.n(o),c=t(61),r=t(114),l=t(9),d=t(57),u=t(749),s=t(59),b=t(236),h=t(30),f=t(85),p=t(375),m=t(17);e.a=function(n){var e,t,o=n.form,v=n.name,O=n.mode,j=n.label,g=n.labelCol,M=n.wrapperCol,y=n.rules,C=n.isEdit,F=n.isAddNew,I=n.onAfterSelect,w=n.onAfterAddFinish,N=n.disabled,T=n.matHangFilters,x=n.loaiTruMatHangs,H=Object(d.b)(),k=Object(d.c)((function(n){return n.dsMatHang})).dsMatHangs,K=Object(d.c)((function(n){return n.account})).accountData,S=(null===K||void 0===K||null===(e=K.paths)||void 0===e||null===(t=e.matHang)||void 0===t?void 0:t.edit)||C,A=i.a.useMemo((function(){var n=Object.values(k);return T&&(n=Object(f.filter)(n,T)),x&&(n=n.reduce((function(n,e){return(null===x||void 0===x?void 0:x[null===e||void 0===e?void 0:e.id])?n:[].concat(Object(a.a)(n),[e])}),[])),n=(n=Object(p.a)("tenMatHang",n)).filter((function(n){return n.active})).map((function(n){var e="".concat(n.tenMatHang," - ").concat(null===n||void 0===n?void 0:n.tenDonViTinh," - ").concat(null===n||void 0===n?void 0:n.tenNhomMatHang);return{value:n.id,label:e}})),n}),[k,x]),L=Object(m.b)(l.MyFormItem,{label:j||"M\u1eb7t h\xe0ng",type:"select",name:v||"matHangId",innerProps:{mode:O,showSearch:!0,allowClear:!0,filterOption:l.onSelectSearch,onChange:function(n){null===I||void 0===I||I(n)},disabled:N,notFoundContent:S?Object(m.b)("div",{children:F?Object(m.b)(c.a,{icon:Object(m.b)(s.a,{}),type:"primary",onClick:function(){return H(Object(b.c)({modalId:h.d.dsMatHangModal}))},children:"Th\xeam"}):null}):Object(m.b)(r.a,{})},options:A,rules:y||[]});return o?Object(m.c)(m.a,{children:[Object(m.b)(l.MyForm,{form:o,labelCol:g||{span:8},wrapperCol:M||{span:16},children:L}),S&&Object(m.b)(u.a,{onAfterAddFinish:function(n){o.setFieldsValue({matHangId:n})}})]}):Object(m.c)(m.a,{children:[L,S&&Object(m.b)(u.a,{onAfterAddFinish:function(n){function e(e){return n.apply(this,arguments)}return e.toString=function(){return n.toString()},e}((function(n){null===w||void 0===w||w(n)}))})]})}},774:function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var a=t(9),o={khoId:{id:"khoId",name:"khoId"},tenKho:{id:"tenKho",name:"T\xean kho",width:100,className:"text-small font-weight-bold",form:{type:"input",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},diaChiKho:{id:"diaChiKho",name:"\u0110\u1ecba ch\u1ec9",width:150,className:"text-small",form:{type:"input"}},soLuongTonKho:{id:"soLuongTonKho",name:"SL t\u1ed3n kho",width:100,className:"text-small font-weight-bold",align:"right",form:{type:"input-number-format"},render:a.numberRender},giaNhapTonKho:{id:"giaNhapTonKho",name:"Gi\xe1 nh\u1eadp kho",width:100,className:"text-small font-weight-bold",align:"right",render:a.numberRender},thanhTienTonKho:{id:"thanhTienTonKho",name:"Th\xe0nh ti\u1ec1n",width:100,className:"text-small font-weight-bold",align:"right",render:a.numberRender},getTableColumns:function(){return[]},getInputFields:function(){return[]}}},775:function(n,e,t){"use strict";t.d(e,"a",(function(){return u})),t.d(e,"b",(function(){return s}));var a=t(10),o=(t(0),t(30)),i=t(142),c=t(163),r=t(9),l=t(85),d=t(17),u={soLuongNhapKho:{id:"soLuongNhapKho",name:"SL nh\u1eadp",width:120,className:"text-small font-weight-bold",align:"right",form:{type:"input-number"},render:function(n,e,t,a){var o,i=(null===a||void 0===a||null===(o=a.inputOptions)||void 0===o?void 0:o.openEditSoLuongNhapKho)||l.noop;return Object(d.b)("div",{className:"hoverClassBG",onClick:function(){return i(e)},style:{textDecoration:"underline"},children:n||"--"})}},thanhTienGiaNhap:{id:"thanhTienGiaNhap",name:"Th\xe0nh ti\u1ec1n",width:100,className:"text-small font-weight-bold",align:"right",render:r.numberRender},getTableColumns:function(){return[Object(a.a)(Object(a.a)({},o.a.stt),{},{fixed:!1}),Object(a.a)(Object(a.a)({},i.a.tenMatHang),{},{fixed:!1}),this.soLuongNhapKho,c.a.tenDonViTinh,Object(a.a)(Object(a.a)({},i.a.giaNhapMatHang),{},{render:function(n,e,t,a){var o,i=(null===a||void 0===a||null===(o=a.inputOptions)||void 0===o?void 0:o.openEditGiaNhapMatHang)||l.noop;return Object(d.b)("div",{className:"hoverClassBG",onClick:function(){return i(e)},style:{textDecoration:"underline"},children:n?Object(r.formatNumber)(n):"--"})}}),this.thanhTienGiaNhap,o.a.deleteRow]},getInputFields:function(){return[]}},s={getTableColumns:function(){return[Object(a.a)(Object(a.a)({},o.a.stt),{},{fixed:!1,className:"text-small"}),Object(a.a)(Object(a.a)({},i.a.tenMatHang),{},{fixed:!1,className:"text-small"}),Object(a.a)(Object(a.a)({},u.soLuongNhapKho),{},{className:"text-small",render:function(n){return n}}),Object(a.a)(Object(a.a)({},c.a.tenDonViTinh),{},{className:"text-small"}),Object(a.a)(Object(a.a)({},i.a.giaNhapMatHang),{},{className:"text-small"}),u.thanhTienGiaNhap]},getInputFields:function(){return[]}}},789:function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));var a=t(30),o=t(774),i={getTableColumns:function(){return[a.a.stt,o.a.tenKho,o.a.diaChiKho,a.a.active,a.a.editRow]},getInputFields:function(){return[o.a.tenKho,o.a.diaChiKho]},getExcelFields:function(){return[a.a.stt,o.a.tenKho,o.a.diaChiKho,a.a.active]}}},790:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var a={kho:"/kho",danhSachKho:"/appSetting/danh-sach-kho"}},791:function(n,e,t){"use strict";t.d(e,"c",(function(){return l})),t.d(e,"d",(function(){return d})),t.d(e,"b",(function(){return u})),t.d(e,"a",(function(){return s}));var a=t(13),o=t(10),i=t(38),c=t(104),r=t(85);function l(n){return function(e,t){var r=n.matHangId;if(!r)return Object(i.b)();var l=t().phieuKho.phieuKhoChiTiets,d=Object(o.a)(Object(o.a)({},l),{},Object(a.a)({},r,Object(o.a)(Object(o.a)({},n),{},{id:r})));e(Object(c.f)({phieuKhoChiTiets:d}))}}function d(n){return function(e,t){var r=n.id,l=n.soLuongNhapKho,d=void 0===l?0:l;if(!r)return Object(i.b)();var u=t().phieuKho.phieuKhoChiTiets,s=(null===u||void 0===u?void 0:u[r])||{},b=Object(o.a)(Object(o.a)({},u),{},Object(a.a)({},r,Object(o.a)(Object(o.a)({},s),{},{soLuongNhapKho:d})));e(Object(c.f)({phieuKhoChiTiets:b}))}}function u(n){return function(e,t){var r=n.id,l=n.giaNhapMatHang,d=void 0===l?0:l;if(!r)return Object(i.b)();var u=t().phieuKho.phieuKhoChiTiets,s=(null===u||void 0===u?void 0:u[r])||{},b=Object(o.a)(Object(o.a)({},u),{},Object(a.a)({},r,Object(o.a)(Object(o.a)({},s),{},{giaNhapMatHang:d})));e(Object(c.f)({phieuKhoChiTiets:b}))}}function s(n){return function(e,t){var a=n.id;if(!a)return Object(i.b)();var o=t().phieuKho.phieuKhoChiTiets,l=Object(r.cloneDeep)(o);delete l[a],e(Object(c.f)({phieuKhoChiTiets:l})),e(Object(c.d)(!0))}}},792:function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var a=t(9),o={ngay:{id:"ngay",name:"Ng\xe0y",width:100,className:"text-small font-weight-bold",align:"center",form:{type:"date-picker",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},tongTienPhieuKho:{id:"tongTienPhieuKho",name:"T\u1ed5ng ti\u1ec1n",width:100,className:"text-small font-weight-bold",align:"right",render:a.numberRender},getTableColumns:function(){return[]},getInputFields:function(){return[]}}},817:function(n,e,t){"use strict";var a=t(5),o=t.n(a),i=t(8),c=t(0),r=t.n(c),l=t(9),d=t(61),u=t(47),s=t(284),b=t(57),h=t(236),f=t(789),p=t(723),m=t(413),v=t(30),O=t(385),j=t(38),g=t(790),M=t(17),y=v.d.danhSachKhoModal;e.a=function(n){var e,t,a=n.onAfterAddFinish,c=Object(b.b)(),v=Object(u.u)(),C=Object(b.c)((function(n){return n.form})),F=C.modal,I=C.datas,w=Object(b.c)((function(n){return n.account})).accountData,N=null===w||void 0===w||null===(e=w.paths)||void 0===e||null===(t=e.danhSachKho)||void 0===t?void 0:t.edit,T=Object(p.a)({Instance:m.a,onPending:O.d,addSelectedId:O.a,isEdit:N}),x=r.a.useMemo((function(){var n;return!!(null===F||void 0===F||null===(n=F[y])||void 0===n?void 0:n.open)}),[F[y]]);function H(){return(H=Object(i.a)(o.a.mark((function n(e,t){var i,r,d;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(N){n.next=2;break}return n.abrupt("return",Object(j.f)());case 2:if(i=!0,r=Object(l.convertMomentToString)(f.a.getInputFields(),t),!t){n.next=18;break}if(null===e||void 0===e?void 0:e.id){n.next=13;break}return n.next=8,c(T.onAddAsync({validatedValues:r}));case 8:i=n.sent,null===a||void 0===a||a(null===(d=i)||void 0===d?void 0:d.id),i=Boolean(i),n.next=18;break;case 13:return n.t0=Boolean,n.next=16,c(T.onUpdateAsync({currentData:e,validatedValues:r}));case 16:n.t1=n.sent,i=(0,n.t0)(n.t1);case 18:i&&c(h.a({modalId:y}));case 19:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(M.b)(l.MyModal,{form:!0,title:Object(M.c)("div",{children:["Kho ",Object(M.b)(d.a,{icon:Object(M.b)(s.a,{}),onClick:function(){v(g.a.danhSachKho)},children:"Trang qu\u1ea3n l\xfd"})]}),visible:x,onClose:function(){c(h.a({modalId:y}))},onOkModal:function(n,e){return H.apply(this,arguments)},formOptions:Object(l.getFormItemFields)(f.a.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:y,datas:I})}},818:function(n,e,t){"use strict";var a=t(5),o=t.n(a),i=t(10),c=t(8),r=t(42),l=t(0),d=t.n(l),u=t(9),s=t(59),b=t(509),h=t(480),f=t(224),p=t(61),m=t(57),v=t(236),O=t(30),j=t(13),g=t(726),M=t(339),y=t(723),C=t(415),F=t(863),I=t(791),w=t(864),N=t(104),T=t(732),x=t(142),H=t(163),k=t(775),K=t(17),S=O.d.phieuKhoNhapModal;var A=function(n){var e=n.pageData,t=Object(m.c)((function(n){return n.hideColumns})),a=null===t||void 0===t?void 0:t[S||""],o=d.a.useMemo((function(){var n=[O.a.stt,x.a.tenMatHang,k.a.soLuongNhapKho,H.a.tenDonViTinh,x.a.giaNhapMatHang],e=[k.a.thanhTienGiaNhap],t=[O.a.editRow];return[{id:0,colSpan:1+n.reduce((function(n,e){var t=e.id;return n+((null===a||void 0===a?void 0:a[t])?0:1)}),0),cellClassName:"text-center font-weight-bold text-danger"},{id:1,colSpan:e.reduce((function(n,e){var t=e.id;return n+((null===a||void 0===a?void 0:a[t])?0:1)}),0),cellClassName:"text-right font-weight-bold text-small text-danger",render:function(n){return Object(u.formatNumber)(n)}},{id:2,colSpan:t.reduce((function(n,e){var t=e.id;return n+((null===a||void 0===a?void 0:a[t])?0:1)}),0)}]}),[a]),c=d.a.useMemo((function(){return e.reduce((function(n,e){var t=n.thanhTienGiaNhap+(e.thanhTienGiaNhap||0);return Object(i.a)(Object(i.a)({},n),{},{thanhTienGiaNhap:t})}),{tong:"T\u1ed5ng ti\u1ec1n",thanhTienGiaNhap:0})}),[e]),r=d.a.useMemo((function(){return["tong","thanhTienGiaNhap"].map((function(n,e){return Object(j.a)({},e,c[n])}))}),[c]);return Object(K.b)(T.a,{columns:o,dataSource:r})},L=O.d.phieuKhoNhapModal;var V=function(n){var e,t,a=n.isEdit,o=n.modalId,c=Object(m.b)(),r=Object(m.c)((function(n){return n.phieuKhoNhap})),l=r.loading,u=r.pageSize,s=Object(m.c)((function(n){return n.phieuKho})).phieuKhoChiTiets,b=Object(m.c)((function(n){return n.dsMatHang})).dsMatHangs,h=Object(m.c)((function(n){return n.account})).accountData;a=a||(null===h||void 0===h||null===(e=h.paths)||void 0===e||null===(t=e.phieuKhoNhap)||void 0===t?void 0:t.edit),o=o||L;var f=Object(y.a)({Instance:M.a,onPending:C.c,addSelectedId:C.a,isEdit:a,onDelete:I.a}),p=d.a.useMemo((function(){return s?Object.values(s).reduce((function(n,e){var t=e.matHangId,a=e.giaNhapMatHang,o=void 0===a?0:a,c=e.soLuongNhapKho,r=void 0===c?0:c,l=(null===b||void 0===b?void 0:b[t])||{},d=Math.round(o*r);return Object(i.a)(Object(i.a)({},n),{},Object(j.a)({},t,Object(i.a)(Object(i.a)(Object(i.a)({},l),e),{},{thanhTienGiaNhap:d})))}),{}):{}}),[s,b]);return Object(K.c)("div",{children:[Object(K.b)(g.a,{isEdit:a,constants:k.a,actions:f,datas:p,loading:l,modalId:o,expandable:{expandedRowRender:function(n){return Object(K.b)("div",{children:n.id})},expandRowByClick:!1},isSelection:!1,pagination:!1,pageSize:u,onChange:function(n){c(Object(C.f)(n.pageSize))},inputOptions:{openEditSoLuongNhapKho:function(n){c(Object(v.c)({modalId:O.d.openEditSoLuong,data:n}))},openEditGiaNhapMatHang:function(n){c(Object(v.c)({modalId:O.d.openEditGiaMatHang,data:n}))}},summary:function(n){return Object(K.b)(A,{pageData:n})}}),Object(K.b)(F.a,{soLuongName:"soLuongNhapKho",soLuongLabel:"S\u1ed1 l\u01b0\u1ee3ng nh\u1eadp",onOk:function(n){c(Object(I.d)(n)),c(Object(N.d)(!0))}}),Object(K.b)(w.a,{giaMatHangName:"giaNhapMatHang",giaMatHangLabel:"Gi\xe1 nh\u1eadp",onOk:function(n){c(Object(I.b)(n)),c(Object(N.d)(!0))}})]})},D=t(763),E=t(865),G=t(866),P=t(157),R=t(38),B=t(792),q=t(168);var Q=function(n){var e=n.form,t=n.name,a=n.mode,o=n.label,i=n.labelCol,c=n.wrapperCol,r=n.rules,l=n.onAfterSelect,s=n.disabled,b=d.a.useMemo((function(){return Object.values(q.c).filter((function(n){return n.active})).map((function(n){var e="".concat(n.tenLoaiPhieuKho);return{value:n.id,label:e}}))}),[q.c]),h=Object(K.b)(u.MyFormItem,{label:o||"Lo\u1ea1i phi\u1ebfu nh\u1eadp",type:"select",name:t||"loaiPhieuKhoId",innerProps:{mode:a,showSearch:!0,allowClear:!0,filterOption:u.onSelectSearch,onChange:function(n){null===l||void 0===l||l(n)},disabled:s},options:b,rules:r||[]});return e?Object(K.b)(K.a,{children:Object(K.b)(u.MyForm,{form:e,labelCol:i||{span:8},wrapperCol:c||{span:16},children:h})}):h},U=O.d.phieuKhoNhapModal;e.a=function(n){var e,t,a=n.isEdit,l=n.onStopListen,j=n.onListen,g=h.a.useForm(),M=Object(r.a)(g,1)[0],y=Object(m.b)(),F=Object(m.c)((function(n){return n.form})),w=F.modal,T=F.datas,x=Object(m.c)((function(n){return n.account})).accountData,H=Object(m.c)((function(n){return n.phieuKho})),k=H.phieuKhoLoading,S=H.phieuKhoDirty,A=H.phieuKhoChiTiets,L=null===T||void 0===T?void 0:T[U];a=a||(null===x||void 0===x||null===(e=x.paths)||void 0===e||null===(t=e.phieuNhapKho)||void 0===t?void 0:t.edit);var q=d.a.useMemo((function(){var n;return!!(null===w||void 0===w||null===(n=w[U])||void 0===n?void 0:n.open)}),[w[U]]);function z(){return(z=Object(c.a)(o.a.mark((function n(){var e;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Object(E.b)("X\xe1c nh\u1eadn c\u1eadp nh\u1eadt phi\u1ebfu nh\u1eadp?")){n.next=2;break}return n.abrupt("return");case 2:return null===l||void 0===l||l(),n.next=5,M.validateFields();case 5:if(e=n.sent,e=y(Object(P.a)(e)),null===L||void 0===L?void 0:L.id){n.next=12;break}return n.next=10,y(Object(C.d)(Object(i.a)(Object(i.a)({},L),e)));case 10:n.next=14;break;case 12:return n.next=14,y(Object(C.e)(Object(i.a)(Object(i.a)({},L),e)));case 14:y(v.a({modalId:U})),y(Object(N.d)(!1)),M.resetFields(),null===j||void 0===j||j();case 18:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return d.a.useEffect((function(){var n=L;n&&(n=Object(u.convertToMoment)([B.a.ngay],L)),y(Object(N.c)(null===L||void 0===L?void 0:L.phieuKhoChiTiets)),M.setFieldsValue(n)}),[L]),Object(K.c)(u.MyModal,{title:Object(K.b)("div",{children:"Phi\u1ebfu Nh\u1eadp Kho"}),visible:q,onClose:function(){if(S&&!Object(E.a)())return null;y(v.a({modalId:U})),y(Object(N.d)(!1)),y(Object(N.c)({})),M.resetFields()},width:900,modalId:U,datas:T,footer:null,children:[Object(K.c)(u.MyForm,{form:M,children:[Object(K.b)(u.MyFormItem,{name:"ngay",label:"Ng\xe0y: ",rules:[{required:!0}],children:Object(K.b)(f.a,{})}),Object(K.b)(G.a,{rules:[{required:!0}]}),Object(K.b)(Q,{}),Object(K.b)(u.MyFormItem,{label:"Ch\u1ee9c n\u0103ng: ",children:Object(K.b)(p.a,{type:"primary",icon:Object(K.b)(s.a,{}),onClick:function(){y(Object(v.c)({modalId:O.d.matHangAddSoLuongModal}))},children:"Th\xeam m\u1eb7t h\xe0ng"})})]}),Object(K.b)(V,{isEdit:a,modalId:O.d.matHangAddSoLuongModal}),Object(K.b)(D.a,{soLuongName:"soLuongNhapKho",giaMatHangName:"giaNhapMatHang",onAfterAddFinish:function(n){y(Object(I.c)(n)),y(Object(N.d)(!0)),Object(R.c)("\u0110\xe3 l\u01b0u v\xe0o phi\u1ebfu nh\u1eadp kho!")},matHangFilters:{chaLua:!0},notAutoCloseAfterOk:!0,loaiTruMatHangs:A}),Object(K.b)("div",{className:"mt-1",style:{textAlign:"right"},children:Object(K.b)(p.a,{loading:k,type:"primary",icon:Object(K.b)(b.a,{}),onClick:function(){return z.apply(this,arguments)},children:"L\u01b0u phi\u1ebfu nh\u1eadp kho"})})]})}},863:function(n,e,t){"use strict";var a=t(5),o=t.n(a),i=t(13),c=t(10),r=t(8),l=t(42),d=t(0),u=t.n(d),s=t(9),b=t(333),h=t(509),f=t(482),p=t(61),m=t(30),v=t(57),O=t(236),j=t(17);e.a=function(n){var e=n.dataSource,t=n.onOk,a=n.modalId,g=n.soLuongName,M=n.soLuongLabel,y=Object(v.b)(),C=Object(d.useRef)(null);a=a||m.d.openEditSoLuong,g=g||"soLuong",M=M||"S\u1ed1 l\u01b0\u1ee3ng";var F=Object(v.c)((function(n){return n.form})),I=F.modal,w=F.datas,N=null===w||void 0===w?void 0:w[a],T=Object(b.useForm)(),x=Object(l.a)(T,1)[0];u.a.useEffect((function(){x.setFieldsValue(N),(null===C||void 0===C?void 0:C.current)&&C.current.focus()}),[N]);var H=u.a.useMemo((function(){var n;return!!(null===I||void 0===I||null===(n=I[a])||void 0===n?void 0:n.open)}),[I[a]]);function k(){return K.apply(this,arguments)}function K(){return(K=Object(r.a)(o.a.mark((function n(){var r,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.validateFields();case 2:r=n.sent,null===t||void 0===t||t(Object(c.a)(Object(c.a)({},N),{},Object(i.a)({},g,(null===r||void 0===r?void 0:r[g])||0))),(l=null===e||void 0===e?void 0:e[(null===N||void 0===N?void 0:N.index)+1])?(x.resetFields(),y(Object(O.c)({modalId:a,data:l}))):y(Object(O.a)({modalId:a}));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(j.b)(s.MyModal,{title:Object(j.c)("div",{children:["S\u1ed1 L\u01b0\u1ee3ng - ",(null===N||void 0===N?void 0:N.tenMatHang)||""]}),visible:H,width:700,modalId:a,datas:w,onOkModal:k,onClose:function(){return y(Object(O.a)({modalId:a}))},children:Object(j.c)(s.MyForm,{form:x,labelCol:{span:8},wrapperCol:{span:16},children:[Object(j.b)(s.MyFormItem,{name:g,label:M,children:Object(j.b)(f.a,{ref:C,min:0,style:{width:"100%"},onPressEnter:k,autoFocus:!0})}),Object(j.b)(s.MyFormItem,{label:"Ch\u1ee9c n\u0103ng",children:Object(j.b)(p.a,{type:"primary",onClick:k,icon:Object(j.b)(h.a,{}),children:"L\u01b0u"})})]})})}},864:function(n,e,t){"use strict";var a=t(5),o=t.n(a),i=t(13),c=t(10),r=t(8),l=t(42),d=t(0),u=t.n(d),s=t(9),b=t(333),h=t(509),f=t(482),p=t(61),m=t(30),v=t(57),O=t(236),j=t(17);e.a=function(n){var e=n.dataSource,t=n.onOk,a=n.modalId,g=n.giaMatHangLabel,M=n.giaMatHangName,y=Object(v.b)(),C=Object(d.useRef)(null);M=M||"giaMatHang",g=g||"Gi\xe1 m\u1eb7t h\xe0ng",a=a||m.d.openEditGiaMatHang;var F=Object(v.c)((function(n){return n.form})),I=F.modal,w=F.datas,N=null===w||void 0===w?void 0:w[a],T=Object(b.useForm)(),x=Object(l.a)(T,1)[0];u.a.useEffect((function(){return x.setFieldsValue(N),(null===C||void 0===C?void 0:C.current)&&C.current.focus(),function(){x.resetFields()}}),[N]);var H=u.a.useMemo((function(){var n;return!!(null===I||void 0===I||null===(n=I[a])||void 0===n?void 0:n.open)}),[I[a]]);function k(){return K.apply(this,arguments)}function K(){return(K=Object(r.a)(o.a.mark((function n(){var r,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.validateFields();case 2:r=n.sent,null===t||void 0===t||t(Object(c.a)(Object(c.a)({},N),{},Object(i.a)({},M,(null===r||void 0===r?void 0:r[M])||0))),(l=null===e||void 0===e?void 0:e[(null===N||void 0===N?void 0:N.index)+1])?(x.resetFields(),y(Object(O.c)({modalId:a,data:l}))):y(Object(O.a)({modalId:a}));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(j.b)(s.MyModal,{title:Object(j.c)("div",{children:["Gi\xe1 M\u1eb7t H\xe0ng - ",(null===N||void 0===N?void 0:N.tenMatHang)||""]}),visible:H,width:700,modalId:a,datas:w,onOkModal:k,onClose:function(){return y(Object(O.a)({modalId:a}))},children:Object(j.c)(s.MyForm,{form:x,labelCol:{span:8},wrapperCol:{span:16},children:[Object(j.b)(s.MyFormItem,{name:M,label:g,children:Object(j.b)(f.a,{ref:C,min:0,style:{width:"100%"},onPressEnter:k,autoFocus:!0})}),Object(j.b)(s.MyFormItem,{label:"Ch\u1ee9c n\u0103ng",children:Object(j.b)(p.a,{type:"primary",onClick:k,icon:Object(j.b)(h.a,{}),children:"L\u01b0u"})})]})})}},865:function(n,e,t){"use strict";function a(){return window.confirm("D\u1eef li\u1ec7u d\xe3 thay \u0111\u1ed5i, b\u1ea1n c\xf3 mu\u1ed1n tho\xe1t?")}function o(n){return window.confirm(n||"X\xe1c nh\u1eadn?")}t.d(e,"a",(function(){return a})),t.d(e,"b",(function(){return o}))},866:function(n,e,t){"use strict";var a=t(0),o=t.n(a),i=t(61),c=t(114),r=t(47),l=t(9),d=t(57),u=t(385),s=t(817),b=t(59),h=t(284),f=t(236),p=t(30),m=t(790),v=t(17);e.a=function(n){var e,t,a=n.form,O=n.name,j=n.mode,g=n.label,M=n.labelCol,y=n.wrapperCol,C=n.rules,F=n.isEdit,I=n.isAddNew,w=n.isTrangQuanLy,N=n.onAfterSelect,T=n.disabled,x=Object(d.b)(),H=Object(r.u)(),k=Object(d.c)((function(n){return n.danhSachKho})).danhSachKhos,K=Object(d.c)((function(n){return n.account})).accountData,S=(null===K||void 0===K||null===(e=K.paths)||void 0===e||null===(t=e.danhSachKho)||void 0===t?void 0:t.edit)||F,A=o.a.useMemo((function(){return Object.values(k).filter((function(n){return n.active})).map((function(n){var e="".concat(n.tenKho);return{value:n.id,label:e}}))}),[k]),L=Object(v.b)(l.MyFormItem,{label:g||"Kho",type:"select",name:O||"khoId",innerProps:{mode:j,showSearch:!0,allowClear:!0,filterOption:l.onSelectSearch,onChange:function(n){x(Object(u.a)(n)),null===N||void 0===N||N(n)},disabled:T,notFoundContent:S?Object(v.c)("div",{children:[I?Object(v.b)(i.a,{icon:Object(v.b)(b.a,{}),type:"primary",onClick:function(){return x(Object(f.c)({modalId:p.d.danhSachKhoModal}))},children:"Th\xeam"}):null,w?Object(v.b)(i.a,{icon:Object(v.b)(h.a,{}),type:"dashed",onClick:function(){H(m.a.danhSachKho)},children:"Q. l\xfd"}):null]}):Object(v.b)(c.a,{})},options:A,rules:C||[]});return a?Object(v.c)(v.a,{children:[Object(v.b)(l.MyForm,{form:a,labelCol:M||{span:8},wrapperCol:y||{span:16},children:L}),S&&Object(v.b)(s.a,{onAfterAddFinish:function(n){a.setFieldsValue({khoId:n})}})]}):Object(v.c)(v.a,{children:[L,S&&Object(v.b)(s.a,{})]})}}}]);